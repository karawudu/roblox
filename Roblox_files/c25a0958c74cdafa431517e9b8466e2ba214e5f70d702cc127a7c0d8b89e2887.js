!function(){var e={135:function(e,t,n){var r;e=n.nmd(e);var a=function(e){"use strict";var t=1e7,n=9007199254740992,r=p(n),o="0123456789abcdefghijklmnopqrstuvwxyz",i="function"==typeof BigInt;function l(e,t,n,r){return void 0===e?l[0]:void 0!==t&&(10!=+t||n)?j(e,t,n,r):K(e)}function u(e,t){this.value=e,this.sign=t,this.isSmall=!1}function c(e){this.value=e,this.sign=e<0,this.isSmall=!0}function s(e){this.value=e}function d(e){return-n<e&&e<n}function p(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function f(e){h(e);var n=e.length;if(n<4&&D(e,r)<0)switch(n){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function h(e){for(var t=e.length;0===e[--t];);e.length=t+1}function v(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t}function y(e){return e>0?Math.floor(e):Math.ceil(e)}function m(e,n){var r,a,o=e.length,i=n.length,l=new Array(o),u=0,c=t;for(a=0;a<i;a++)u=(r=e[a]+n[a]+u)>=c?1:0,l[a]=r-u*c;for(;a<o;)u=(r=e[a]+u)===c?1:0,l[a++]=r-u*c;return u>0&&l.push(u),l}function E(e,t){return e.length>=t.length?m(e,t):m(t,e)}function g(e,n){var r,a,o=e.length,i=new Array(o),l=t;for(a=0;a<o;a++)r=e[a]-l+n,n=Math.floor(r/l),i[a]=r-n*l,n+=1;for(;n>0;)i[a++]=n%l,n=Math.floor(n/l);return i}function b(e,n){var r,a,o=e.length,i=n.length,l=new Array(o),u=0,c=t;for(r=0;r<i;r++)(a=e[r]-u-n[r])<0?(a+=c,u=1):u=0,l[r]=a;for(r=i;r<o;r++){if(!((a=e[r]-u)<0)){l[r++]=a;break}a+=c,l[r]=a}for(;r<o;r++)l[r]=e[r];return h(l),l}function C(e,n,r){var a,o,i=e.length,l=new Array(i),s=-n,d=t;for(a=0;a<i;a++)o=e[a]+s,s=Math.floor(o/d),o%=d,l[a]=o<0?o+d:o;return"number"==typeof(l=f(l))?(r&&(l=-l),new c(l)):new u(l,r)}function _(e,n){var r,a,o,i,l=e.length,u=n.length,c=v(l+u),s=t;for(o=0;o<l;++o){i=e[o];for(var d=0;d<u;++d)r=i*n[d]+c[o+d],a=Math.floor(r/s),c[o+d]=r-a*s,c[o+d+1]+=a}return h(c),c}function S(e,n){var r,a,o=e.length,i=new Array(o),l=t,u=0;for(a=0;a<o;a++)r=e[a]*n+u,u=Math.floor(r/l),i[a]=r-u*l;for(;u>0;)i[a++]=u%l,u=Math.floor(u/l);return i}function T(e,t){for(var n=[];t-- >0;)n.push(0);return n.concat(e)}function I(e,t){var n=Math.max(e.length,t.length);if(n<=30)return _(e,t);n=Math.ceil(n/2);var r=e.slice(n),a=e.slice(0,n),o=t.slice(n),i=t.slice(0,n),l=I(a,i),u=I(r,o),c=I(E(a,r),E(i,o)),s=E(E(l,T(b(b(c,l),u),n)),T(u,2*n));return h(s),s}function A(e,n,r){return new u(e<t?S(n,e):_(n,p(e)),r)}function w(e){var n,r,a,o,i=e.length,l=v(i+i),u=t;for(a=0;a<i;a++){r=0-(o=e[a])*o;for(var c=a;c<i;c++)n=o*e[c]*2+l[a+c]+r,r=Math.floor(n/u),l[a+c]=n-r*u;l[a+i]=r}return h(l),l}function N(e,t){var n,r,a,o,i=e.length,l=v(i);for(a=0,n=i-1;n>=0;--n)a=(o=1e7*a+e[n])-(r=y(o/t))*t,l[n]=0|r;return[l,0|a]}function L(e,n){var r,a=K(n);if(i)return[new s(e.value/a.value),new s(e.value%a.value)];var o,d=e.value,m=a.value;if(0===m)throw new Error("Cannot divide by zero");if(e.isSmall)return a.isSmall?[new c(y(d/m)),new c(d%m)]:[l[0],e];if(a.isSmall){if(1===m)return[e,l[0]];if(-1==m)return[e.negate(),l[0]];var E=Math.abs(m);if(E<t){o=f((r=N(d,E))[0]);var g=r[1];return e.sign&&(g=-g),"number"==typeof o?(e.sign!==a.sign&&(o=-o),[new c(o),new c(g)]):[new u(o,e.sign!==a.sign),new c(g)]}m=p(E)}var C=D(d,m);if(-1===C)return[l[0],e];if(0===C)return[l[e.sign===a.sign?1:-1],l[0]];o=(r=d.length+m.length<=200?function(e,n){var r,a,o,i,l,u,c,s=e.length,d=n.length,p=t,h=v(n.length),y=n[d-1],m=Math.ceil(p/(2*y)),E=S(e,m),g=S(n,m);for(E.length<=s&&E.push(0),g.push(0),y=g[d-1],a=s-d;a>=0;a--){for(r=p-1,E[a+d]!==y&&(r=Math.floor((E[a+d]*p+E[a+d-1])/y)),o=0,i=0,u=g.length,l=0;l<u;l++)o+=r*g[l],c=Math.floor(o/p),i+=E[a+l]-(o-c*p),o=c,i<0?(E[a+l]=i+p,i=-1):(E[a+l]=i,i=0);for(;0!==i;){for(r-=1,o=0,l=0;l<u;l++)(o+=E[a+l]-p+g[l])<0?(E[a+l]=o+p,o=0):(E[a+l]=o,o=1);i+=o}h[a]=r}return E=N(E,m)[0],[f(h),f(E)]}(d,m):function(e,n){for(var r,a,o,i,l,u=e.length,c=n.length,s=[],d=[],p=t;u;)if(d.unshift(e[--u]),h(d),D(d,n)<0)s.push(0);else{o=d[(a=d.length)-1]*p+d[a-2],i=n[c-1]*p+n[c-2],a>c&&(o=(o+1)*p),r=Math.ceil(o/i);do{if(D(l=S(n,r),d)<=0)break;r--}while(r);s.push(r),d=b(d,l)}return s.reverse(),[f(s),f(d)]}(d,m))[0];var _=e.sign!==a.sign,T=r[1],I=e.sign;return"number"==typeof o?(_&&(o=-o),o=new c(o)):o=new u(o,_),"number"==typeof T?(I&&(T=-T),T=new c(T)):T=new u(T,I),[o,T]}function D(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var n=e.length-1;n>=0;n--)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return 0}function O(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function R(e,t){for(var n,r,o,i=e.prev(),l=i,u=0;l.isEven();)l=l.divide(2),u++;e:for(r=0;r<t.length;r++)if(!e.lesser(t[r])&&!(o=a(t[r]).modPow(l,e)).isUnit()&&!o.equals(i)){for(n=u-1;0!=n;n--){if((o=o.square().mod(e)).isUnit())return!1;if(o.equals(i))continue e}return!1}return!0}u.prototype=Object.create(l.prototype),c.prototype=Object.create(l.prototype),s.prototype=Object.create(l.prototype),u.prototype.add=function(e){var t=K(e);if(this.sign!==t.sign)return this.subtract(t.negate());var n=this.value,r=t.value;return t.isSmall?new u(g(n,Math.abs(r)),this.sign):new u(E(n,r),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(e){var t=K(e),n=this.value;if(n<0!==t.sign)return this.subtract(t.negate());var r=t.value;if(t.isSmall){if(d(n+r))return new c(n+r);r=p(Math.abs(r))}return new u(g(r,Math.abs(n)),n<0)},c.prototype.plus=c.prototype.add,s.prototype.add=function(e){return new s(this.value+K(e).value)},s.prototype.plus=s.prototype.add,u.prototype.subtract=function(e){var t=K(e);if(this.sign!==t.sign)return this.add(t.negate());var n=this.value,r=t.value;return t.isSmall?C(n,Math.abs(r),this.sign):function(e,t,n){var r;return D(e,t)>=0?r=b(e,t):(r=b(t,e),n=!n),"number"==typeof(r=f(r))?(n&&(r=-r),new c(r)):new u(r,n)}(n,r,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(e){var t=K(e),n=this.value;if(n<0!==t.sign)return this.add(t.negate());var r=t.value;return t.isSmall?new c(n-r):C(r,Math.abs(n),n>=0)},c.prototype.minus=c.prototype.subtract,s.prototype.subtract=function(e){return new s(this.value-K(e).value)},s.prototype.minus=s.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var e=this.sign,t=new c(-this.value);return t.sign=!e,t},s.prototype.negate=function(){return new s(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},s.prototype.abs=function(){return new s(this.value>=0?this.value:-this.value)},u.prototype.multiply=function(e){var n,r,a,o=K(e),i=this.value,c=o.value,s=this.sign!==o.sign;if(o.isSmall){if(0===c)return l[0];if(1===c)return this;if(-1===c)return this.negate();if((n=Math.abs(c))<t)return new u(S(i,n),s);c=p(n)}return r=i.length,a=c.length,new u(-.012*r-.012*a+15e-6*r*a>0?I(i,c):_(i,c),s)},u.prototype.times=u.prototype.multiply,c.prototype._multiplyBySmall=function(e){return d(e.value*this.value)?new c(e.value*this.value):A(Math.abs(e.value),p(Math.abs(this.value)),this.sign!==e.sign)},u.prototype._multiplyBySmall=function(e){return 0===e.value?l[0]:1===e.value?this:-1===e.value?this.negate():A(Math.abs(e.value),this.value,this.sign!==e.sign)},c.prototype.multiply=function(e){return K(e)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,s.prototype.multiply=function(e){return new s(this.value*K(e).value)},s.prototype.times=s.prototype.multiply,u.prototype.square=function(){return new u(w(this.value),!1)},c.prototype.square=function(){var e=this.value*this.value;return d(e)?new c(e):new u(w(p(Math.abs(this.value))),!1)},s.prototype.square=function(e){return new s(this.value*this.value)},u.prototype.divmod=function(e){var t=L(this,e);return{quotient:t[0],remainder:t[1]}},s.prototype.divmod=c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(e){return L(this,e)[0]},s.prototype.over=s.prototype.divide=function(e){return new s(this.value/K(e).value)},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(e){return L(this,e)[1]},s.prototype.mod=s.prototype.remainder=function(e){return new s(this.value%K(e).value)},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(e){var t,n,r,a=K(e),o=this.value,i=a.value;if(0===i)return l[1];if(0===o)return l[0];if(1===o)return l[1];if(-1===o)return a.isEven()?l[1]:l[-1];if(a.sign)return l[0];if(!a.isSmall)throw new Error("The exponent "+a.toString()+" is too large.");if(this.isSmall&&d(t=Math.pow(o,i)))return new c(y(t));for(n=this,r=l[1];!0&i&&(r=r.times(n),--i),0!==i;)i/=2,n=n.square();return r},c.prototype.pow=u.prototype.pow,s.prototype.pow=function(e){var t=K(e),n=this.value,r=t.value,a=BigInt(0),o=BigInt(1),i=BigInt(2);if(r===a)return l[1];if(n===a)return l[0];if(n===o)return l[1];if(n===BigInt(-1))return t.isEven()?l[1]:l[-1];if(t.isNegative())return new s(a);for(var u=this,c=l[1];(r&o)===o&&(c=c.times(u),--r),r!==a;)r/=i,u=u.square();return c},u.prototype.modPow=function(e,t){if(e=K(e),(t=K(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=l[1],r=this.mod(t);for(e.isNegative()&&(e=e.multiply(l[-1]),r=r.modInv(t));e.isPositive();){if(r.isZero())return l[0];e.isOdd()&&(n=n.multiply(r).mod(t)),e=e.divide(2),r=r.square().mod(t)}return n},s.prototype.modPow=c.prototype.modPow=u.prototype.modPow,u.prototype.compareAbs=function(e){var t=K(e),n=this.value,r=t.value;return t.isSmall?1:D(n,r)},c.prototype.compareAbs=function(e){var t=K(e),n=Math.abs(this.value),r=t.value;return t.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},s.prototype.compareAbs=function(e){var t=this.value,n=K(e).value;return(t=t>=0?t:-t)===(n=n>=0?n:-n)?0:t>n?1:-1},u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=K(e),n=this.value,r=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:D(n,r)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=K(e),n=this.value,r=t.value;return t.isSmall?n==r?0:n>r?1:-1:n<0!==t.sign?n<0?-1:1:n<0?1:-1},c.prototype.compareTo=c.prototype.compare,s.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,n=K(e).value;return t===n?0:t>n?1:-1},s.prototype.compareTo=s.prototype.compare,u.prototype.equals=function(e){return 0===this.compare(e)},s.prototype.eq=s.prototype.equals=c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(e){return 0!==this.compare(e)},s.prototype.neq=s.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(e){return this.compare(e)>0},s.prototype.gt=s.prototype.greater=c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(e){return this.compare(e)<0},s.prototype.lt=s.prototype.lesser=c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},s.prototype.geq=s.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},s.prototype.leq=s.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return 0==(1&this.value[0])},c.prototype.isEven=function(){return 0==(1&this.value)},s.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return 1==(1&this.value[0])},c.prototype.isOdd=function(){return 1==(1&this.value)},s.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},s.prototype.isPositive=c.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},s.prototype.isNegative=c.prototype.isNegative,u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},s.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},s.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(e){var t=K(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},s.prototype.isDivisibleBy=c.prototype.isDivisibleBy=u.prototype.isDivisibleBy,u.prototype.isPrime=function(t){var n=O(this);if(n!==e)return n;var r=this.abs(),o=r.bitLength();if(o<=64)return R(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var i=Math.log(2)*o.toJSNumber(),l=Math.ceil(!0===t?2*Math.pow(i,2):i),u=[],c=0;c<l;c++)u.push(a(c+2));return R(r,u)},s.prototype.isPrime=c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(t,n){var r=O(this);if(r!==e)return r;for(var o=this.abs(),i=t===e?5:t,l=[],u=0;u<i;u++)l.push(a.randBetween(2,o.minus(2),n));return R(o,l)},s.prototype.isProbablePrime=c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(e){for(var t,n,r,o=a.zero,i=a.one,l=K(e),u=this.abs();!u.isZero();)t=l.divide(u),n=o,r=l,o=i,l=u,i=n.subtract(t.multiply(i)),u=r.subtract(t.multiply(u));if(!l.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(e)),this.isNegative()?o.negate():o},s.prototype.modInv=c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var e=this.value;return this.sign?C(e,1,this.sign):new u(g(e,1),this.sign)},c.prototype.next=function(){var e=this.value;return e+1<n?new c(e+1):new u(r,!1)},s.prototype.next=function(){return new s(this.value+BigInt(1))},u.prototype.prev=function(){var e=this.value;return this.sign?new u(g(e,1),!0):C(e,1,this.sign)},c.prototype.prev=function(){var e=this.value;return e-1>-n?new c(e-1):new u(r,!0)},s.prototype.prev=function(){return new s(this.value-BigInt(1))};for(var P=[1];2*P[P.length-1]<=t;)P.push(2*P[P.length-1]);var M=P.length,k=P[M-1];function x(e){return Math.abs(e)<=t}function V(e,t,n){t=K(t);for(var r=e.isNegative(),o=t.isNegative(),i=r?e.not():e,l=o?t.not():t,u=0,c=0,s=null,d=null,p=[];!i.isZero()||!l.isZero();)u=(s=L(i,k))[1].toJSNumber(),r&&(u=k-1-u),c=(d=L(l,k))[1].toJSNumber(),o&&(c=k-1-c),i=s[0],l=d[0],p.push(n(u,c));for(var f=0!==n(r?1:0,o?1:0)?a(-1):a(0),h=p.length-1;h>=0;h-=1)f=f.multiply(k).add(a(p[h]));return f}u.prototype.shiftLeft=function(e){var t=K(e).toJSNumber();if(!x(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var n=this;if(n.isZero())return n;for(;t>=M;)n=n.multiply(k),t-=M-1;return n.multiply(P[t])},s.prototype.shiftLeft=c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(e){var t,n=K(e).toJSNumber();if(!x(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;n>=M;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=L(r,k))[1].isNegative()?t[0].prev():t[0],n-=M-1}return(t=L(r,P[n]))[1].isNegative()?t[0].prev():t[0]},s.prototype.shiftRight=c.prototype.shiftRight=u.prototype.shiftRight,u.prototype.not=function(){return this.negate().prev()},s.prototype.not=c.prototype.not=u.prototype.not,u.prototype.and=function(e){return V(this,e,(function(e,t){return e&t}))},s.prototype.and=c.prototype.and=u.prototype.and,u.prototype.or=function(e){return V(this,e,(function(e,t){return e|t}))},s.prototype.or=c.prototype.or=u.prototype.or,u.prototype.xor=function(e){return V(this,e,(function(e,t){return e^t}))},s.prototype.xor=c.prototype.xor=u.prototype.xor;var W=1<<30;function U(e){var n=e.value,r="number"==typeof n?n|W:"bigint"==typeof n?n|BigInt(W):n[0]+n[1]*t|1073758208;return r&-r}function H(e,t){if(t.compareTo(e)<=0){var n=H(e,t.square(t)),r=n.p,o=n.e,i=r.multiply(t);return i.compareTo(e)<=0?{p:i,e:2*o+1}:{p:r,e:2*o}}return{p:a(1),e:0}}function G(e,t){return e=K(e),t=K(t),e.greater(t)?e:t}function F(e,t){return e=K(e),t=K(t),e.lesser(t)?e:t}function B(e,t){if(e=K(e).abs(),t=K(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var n,r,a=l[1];e.isEven()&&t.isEven();)n=F(U(e),U(t)),e=e.divide(n),t=t.divide(n),a=a.multiply(n);for(;e.isEven();)e=e.divide(U(e));do{for(;t.isEven();)t=t.divide(U(t));e.greater(t)&&(r=t,t=e,e=r),t=t.subtract(e)}while(!t.isZero());return a.isUnit()?e:e.multiply(a)}u.prototype.bitLength=function(){var e=this;return e.compareTo(a(0))<0&&(e=e.negate().subtract(a(1))),0===e.compareTo(a(0))?a(0):a(H(e,a(2)).e).add(a(1))},s.prototype.bitLength=c.prototype.bitLength=u.prototype.bitLength;var j=function(e,t,n,r){n=n||o,e=String(e),r||(e=e.toLowerCase(),n=n.toLowerCase());var a,i=e.length,l=Math.abs(t),u={};for(a=0;a<n.length;a++)u[n[a]]=a;for(a=0;a<i;a++){if("-"!==(d=e[a])&&(d in u&&u[d]>=l)){if("1"===d&&1===l)continue;throw new Error(d+" is not a valid digit in base "+t+".")}}t=K(t);var c=[],s="-"===e[0];for(a=s?1:0;a<e.length;a++){var d;if((d=e[a])in u)c.push(K(u[d]));else{if("<"!==d)throw new Error(d+" is not a valid character");var p=a;do{a++}while(">"!==e[a]&&a<e.length);c.push(K(e.slice(p+1,a)))}}return Z(c,t,s)};function Z(e,t,n){var r,a=l[0],o=l[1];for(r=e.length-1;r>=0;r--)a=a.add(e[r].times(o)),o=o.times(t);return n?a.negate():a}function z(e,t){if((t=a(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}var r=!1;if(e.isNegative()&&t.isPositive()&&(r=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:r};for(var o,i=[],l=e;l.isNegative()||l.compareAbs(t)>=0;){o=l.divmod(t),l=o.quotient;var u=o.remainder;u.isNegative()&&(u=t.minus(u).abs(),l=l.next()),i.push(u.toJSNumber())}return i.push(l.toJSNumber()),{value:i.reverse(),isNegative:r}}function Y(e,t,n){var r=z(e,t);return(r.isNegative?"-":"")+r.value.map((function(e){return function(e,t){return e<(t=t||o).length?t[e]:"<"+e+">"}(e,n)})).join("")}function q(e){if(d(+e)){var t=+e;if(t===y(t))return i?new s(BigInt(t)):new c(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var r=e.split(/e/i);if(r.length>2)throw new Error("Invalid integer: "+r.join("e"));if(2===r.length){var a=r[1];if("+"===a[0]&&(a=a.slice(1)),(a=+a)!==y(a)||!d(a))throw new Error("Invalid integer: "+a+" is not a valid exponent.");var o=r[0],l=o.indexOf(".");if(l>=0&&(a-=o.length-l-1,o=o.slice(0,l)+o.slice(l+1)),a<0)throw new Error("Cannot include negative exponent part for integers");e=o+=new Array(a+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(i)return new s(BigInt(n?"-"+e:e));for(var p=[],f=e.length,v=f-7;f>0;)p.push(+e.slice(v,f)),(v-=7)<0&&(v=0),f-=7;return h(p),new u(p,n)}function K(e){return"number"==typeof e?function(e){if(i)return new s(BigInt(e));if(d(e)){if(e!==y(e))throw new Error(e+" is not an integer.");return new c(e)}return q(e.toString())}(e):"string"==typeof e?q(e):"bigint"==typeof e?new s(e):e}u.prototype.toArray=function(e){return z(this,e)},c.prototype.toArray=function(e){return z(this,e)},s.prototype.toArray=function(e){return z(this,e)},u.prototype.toString=function(t,n){if(t===e&&(t=10),10!==t)return Y(this,t,n);for(var r,a=this.value,o=a.length,i=String(a[--o]);--o>=0;)r=String(a[o]),i+="0000000".slice(r.length)+r;return(this.sign?"-":"")+i},c.prototype.toString=function(t,n){return t===e&&(t=10),10!=t?Y(this,t,n):String(this.value)},s.prototype.toString=c.prototype.toString,s.prototype.toJSON=u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,s.prototype.valueOf=s.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var X=0;X<1e3;X++)l[X]=K(X),X>0&&(l[-X]=K(-X));return l.one=l[1],l.zero=l[0],l.minusOne=l[-1],l.max=G,l.min=F,l.gcd=B,l.lcm=function(e,t){return e=K(e).abs(),t=K(t).abs(),e.divide(B(e,t)).multiply(t)},l.isInstance=function(e){return e instanceof u||e instanceof c||e instanceof s},l.randBetween=function(e,n,r){e=K(e),n=K(n);var a=r||Math.random,o=F(e,n),i=G(e,n).subtract(o).add(1);if(i.isSmall)return o.add(Math.floor(a()*i));for(var u=z(i,t).value,c=[],s=!0,d=0;d<u.length;d++){var p=s?u[d]+(d+1<u.length?u[d+1]/t:0):t,f=y(a()*p);c.push(f),f<u[d]&&(s=!1)}return o.add(l.fromArray(c,t,!1))},l.fromArray=function(e,t,n){return Z(e.map(K),K(t||10),n)},l}();e.hasOwnProperty("exports")&&(e.exports=a),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{getState:function(){return me},lock:function(){return ge},unlock:function(){return Ee}});var t={};n.r(t),n.d(t,{getMetadata:function(){return Te}});var r={};n.r(r),n.d(r,{getEmailConfiguration:function(){return Oe},updateForCurrentUser:function(){return De}});var a={};n.r(a),n.d(a,{getDetailsForUniverseIds:function(){return ke}});var o={};n.r(o),n.d(o,{getMySettingsInfo:function(){return Ue}});var i={};n.r(i),n.d(i,{changeForCurrentUser:function(){return Xe},resetSendPrompted:function(){return Je},validate:function(){return Qe}});var l={};n.r(l),n.d(l,{getPhoneConfiguration:function(){return ut}});var u={};n.r(u),n.d(u,{getAllForCurrentUser:function(){return gt},updateForCurrentUser:function(){return bt}});var c={};n.r(c),n.d(c,{getPuzzle:function(){return Nt},verifyPuzzle:function(){return Lt}});var s={};n.r(s),n.d(s,{generateToken:function(){return xt}});var d={};n.r(d),n.d(d,{answerQuestion:function(){return zt},getQuestion:function(){return Zt}});var p={};n.r(p),n.d(p,{getSessions:function(){return ln},logoutFromAllSessionsAndReauthenticate:function(){return cn},logoutSession:function(){return un}});var f={};n.r(f),n.d(f,{getIconsForUniverseIds:function(){return yn}});var h={};n.r(h),n.d(h,{queryAndOverwriteResourcesForNamespace:function(){return wn}});var v={};n.r(v),n.d(v,{deleteSecurityKey:function(){return pr},disableAuthenticator:function(){return er},disableEmailTwoStepVerification:function(){return Xn},disableSmsTwoStepVerification:function(){return lr},enableAuthenticator:function(){return Jn},enableEmailTwoStepVerification:function(){return Yn},enableSecurityKey:function(){return ur},enableSmsTwoStepVerification:function(){return ar},enableVerifyAuthenticator:function(){return Qn},enableVerifySecurityKey:function(){return cr},generateRecoveryCodes:function(){return rr},generateResaleFrictionChallenge:function(){return gr},generateSpendFrictionChallenge:function(){return mr},generateTradeFrictionChallenge:function(){return Er},getMetadata:function(){return Zn},getRecoveryCodesStatus:function(){return nr},getResaleFrictionStatus:function(){return yr},getSecurityKeyOptions:function(){return sr},getSpendFrictionStatus:function(){return hr},getTradeFrictionStatus:function(){return vr},getUserConfiguration:function(){return zn},listSecurityKey:function(){return fr},redeemResaleFrictionChallenge:function(){return _r},redeemSpendFrictionChallenge:function(){return br},redeemTradeFrictionChallenge:function(){return Cr},sendEmailCode:function(){return qn},sendSmsCode:function(){return or},verifyAuthenticatorCode:function(){return $n},verifyEmailCode:function(){return Kn},verifyRecoveryCode:function(){return tr},verifySecurityKeyCredential:function(){return dr},verifySmsCode:function(){return ir}});var y={};n.r(y),n.d(y,{getSettingsUiPolicy:function(){return Lr}});var m={};n.r(m),n.d(m,{disconnectXbox:function(){return Vr},getXboxConnection:function(){return xr}});var E={};n.r(E),n.d(E,{recordMetric:function(){return Gr}});var g={};n.r(g),n.d(g,{ActionType:function(){return na},ErrorCode:function(){return ra},renderChallenge:function(){return La}});var b={};n.r(b),n.d(b,{ErrorCode:function(){return Ra},ForceActionRedirectChallengeType:function(){return Pa},renderChallenge:function(){return Xa}});var C={};n.r(C),n.d(C,{ErrorCode:function(){return ri},renderChallenge:function(){return xi}});var _={};n.r(_),n.d(_,{ErrorCode:function(){return Ei},ReauthenticationType:function(){return gi},renderChallenge:function(){return il}});var S={};n.r(S),n.d(S,{ErrorCode:function(){return zi},renderChallenge:function(){return Wl}});var T={};n.r(T),n.d(T,{ActionType:function(){return gl},ErrorCode:function(){return Cl},MediaType:function(){return bl},renderChallenge:function(){return Bu}});var I={};n.r(I),n.d(I,{ChallengeError:function(){return Ws},ChallengeErrorKind:function(){return Ku},ChallengeType:function(){return Xu},interceptChallenge:function(){return Us},parseChallengeSpecificProperties:function(){return xs},renderChallenge:function(){return Vs}});var A={};n.r(A),n.d(A,{ChallengeType:function(){return Xu},HybridTarget:function(){return hs},renderChallengeFromQueryParameters:function(){return cd}});var w=Roblox,N=n.n(w);function L(e,t,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var a=M(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function W(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var F=function(){function e(t,n){k(this,e),t=this.words=t||[],this.sigBytes=void 0!==n?n:4*t.length}return V(e,[{key:"toString",value:function(e){return(e||B).stringify(this)}},{key:"concat",value:function(e){if(this.clamp(),this.sigBytes%4)for(var t=0;t<e.sigBytes;t++){var n=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=n<<24-(this.sigBytes+t)%4*8}else for(var r=0;r<e.sigBytes;r+=4)this.words[this.sigBytes+r>>>2]=e.words[r>>>2];return this.sigBytes+=e.sigBytes,this}},{key:"clamp",value:function(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}},{key:"clone",value:function(){return new e(W(this.words))}}]),e}(),B={stringify:function(e){for(var t=[],n=0;n<e.sigBytes;n++){var r=e.words[n>>>2]>>>24-n%4*8&255;t.push((r>>>4).toString(16),(15&r).toString(16))}return t.join("")}},j=function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new F(n,t)},Z=function(e){return j(unescape(encodeURIComponent(e)))},z=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Y=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],q=[],K=function(e){D(n,e);var t=R(n);function n(){var e;return k(this,n),(e=t.call(this)).reset(),e}return V(n,[{key:"reset",value:function(){L(M(n.prototype),"reset",this).call(this),this._hash=new F([].concat(z))}},{key:"_doProcessBlock",value:function(e,t){for(var n=this._hash.words,r=n[0],a=n[1],o=n[2],i=n[3],l=n[4],u=n[5],c=n[6],s=n[7],d=0;d<64;d++){if(d<16)q[d]=0|e[t+d];else{var p=q[d-15],f=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,h=q[d-2],v=(h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10;q[d]=f+q[d-7]+v+q[d-16]}var y=r&a^r&o^a&o,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),E=s+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&c)+Y[d]+q[d];s=c,c=u,u=l,l=i+E|0,i=o,o=a,a=r,r=E+(m+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+a|0,n[2]=n[2]+o|0,n[3]=n[3]+i|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+s|0}},{key:"finalize",value:function(e){L(M(n.prototype),"finalize",this).call(this,e);var t=8*this._nDataBytes,r=8*this._data.sigBytes;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[14+(r+64>>>9<<4)]=Math.floor(t/4294967296),this._data.words[15+(r+64>>>9<<4)]=t,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}]),n}(function(e){D(n,e);var t=R(n);function n(){return k(this,n),t.apply(this,arguments)}return V(n,[{key:"update",value:function(e){return this._append(e),this._process(),this}},{key:"finalize",value:function(e){e&&this._append(e)}}]),n}(function(){function e(){k(this,e),this._minBufferSize=0,this.blockSize=16,this.reset()}return V(e,[{key:"reset",value:function(){this._data=new F,this._nDataBytes=0}},{key:"_append",value:function(e){"string"==typeof e&&(e=Z(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}},{key:"_doProcessBlock",value:function(e,t){}},{key:"_process",value:function(e){var t,n=this._data.sigBytes/(4*this.blockSize),r=(n=e?Math.ceil(n):Math.max((0|n)-this._minBufferSize,0))*this.blockSize,a=Math.min(4*r,this._data.sigBytes);if(r){for(var o=0;o<r;o+=this.blockSize)this._doProcessBlock(this._data.words,o);t=this._data.words.splice(0,r),this._data.sigBytes-=a}return new F(t,a)}}]),e}()));var X,J,Q=React,$=n.n(Q),ee=ReactDOM,te=CoreUtilities,ne=function(e){return{isError:!1,value:e}},re=ne,ae=function(e,t){return{isError:!0,error:e,errorRaw:t}},oe=function(e,t){return e.isError?e:ne(t(e.value))},ie=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},le=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ue=function(e){return"object"!=typeof e?null:function(e){var t=[];if(!e||"object"!=typeof e)return[];var n=e.errors;return n instanceof Array?(n.forEach((function(e){if(e&&"object"==typeof e){var n=e.code;"number"==typeof n&&t.push(n)}})),t):[]}(e.data)[0]||null},ce=function(e,t){return null==e?null:Object.values(e).includes(t)?t:null},se=function(e,t,n){return ie(void 0,void 0,Promise,(function(){var r,a,o;return le(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return r=i.sent(),void 0!==n?[2,re(n(r.data))]:[2,re(r.data)];case 2:return a=i.sent(),o=ue(a),[2,ae(ce(t,o),a)];case 3:return[2]}}))}))},de=null!==(X=w.EnvironmentUrls.authApi)&&void 0!==X?X:"URL_NOT_FOUND";!function(e){e[e.NO_ACCOUNT_PIN=1]="NO_ACCOUNT_PIN",e[e.ACCOUNT_LOCKED=2]="ACCOUNT_LOCKED",e[e.FLOODED=3]="FLOODED",e[e.INCORRECT_PIN=4]="INCORRECT_PIN"}(J||(J={}));var pe,fe,he={withCredentials:!0,url:de+"/v1/account/pin",timeout:1e4},ve={withCredentials:!0,url:de+"/v1/account/pin/unlock",timeout:1e4},ye={withCredentials:!0,url:de+"/v1/account/pin/lock",timeout:1e4},me=function(){return se(te.httpService.get(he),J)},Ee=function(e){return se(te.httpService.post(ve,{pin:e}),J)},ge=function(){return se(te.httpService.post(ye),J)},be=(null!==(pe=w.EnvironmentUrls.apiGatewayCdnUrl)&&void 0!==pe?pe:"URL_NOT_FOUND")+"/captcha";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(fe||(fe={}));var Ce,_e,Se={url:be+"/v1/metadata",timeout:6e4},Te=function(){return se(te.httpService.get(Se,{}),fe)},Ie=null!==(Ce=w.EnvironmentUrls.accountSettingsApi)&&void 0!==Ce?Ce:"URL_NOT_FOUND";!function(e){e[e.FEATURE_DISABLED=2]="FEATURE_DISABLED",e[e.TOO_MANY_ACCOUNTS_ON_EMAIL=3]="TOO_MANY_ACCOUNTS_ON_EMAIL",e[e.TOO_MANY_ATTEMPTS_TO_UPDATE_EMAIL=6]="TOO_MANY_ATTEMPTS_TO_UPDATE_EMAIL",e[e.INVALID_EMAIL_ADDRESS=9]="INVALID_EMAIL_ADDRESS"}(_e||(_e={}));var Ae,we,Ne={withCredentials:!0,url:Ie+"/v1/email",timeout:1e4},Le={withCredentials:!0,url:Ie+"/v1/email",timeout:1e4},De=function(e){return se(te.httpService.post(Ne,{emailAddress:e,skipVerificationEmail:!0}),_e)},Oe=function(){return se(te.httpService.get(Le),_e)},Re=null!==(Ae=w.EnvironmentUrls.gamesApi)&&void 0!==Ae?Ae:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(we||(we={}));var Pe,Me={url:Re+"/v1/games",timeout:1e4},ke=function(e){return se(te.httpService.get(Me,{universeIds:e}),we)};!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Pe||(Pe={}));var xe,Ve,We={withCredentials:!0,url:"/my/settings/json",timeout:1e4},Ue=function(){return se(te.httpService.get(We,{}),Pe)},He=null!==(xe=w.EnvironmentUrls.authApi)&&void 0!==xe?xe:"URL_NOT_FOUND";!function(e){e[e.FLOODED=2]="FLOODED",e[e.INVALID_PASSWORD=7]="INVALID_PASSWORD",e[e.INVALID_CURRENT_PASSWORD=8]="INVALID_CURRENT_PASSWORD",e[e.PIN_LOCKED=9]="PIN_LOCKED"}(Ve||(Ve={}));var Ge,Fe={withCredentials:!0,url:He+"/v2/user/passwords/change",timeout:1e4};!function(e){e[e.USER_DOES_NOT_HAVE_EMAIL=22]="USER_DOES_NOT_HAVE_EMAIL"}(Ge||(Ge={}));var Be,je={withCredentials:!0,url:He+"/v2/passwords/reset/send-prompted",timeout:1e4};!function(e){e[e.VALID_PASSWORD=0]="VALID_PASSWORD",e[e.WEAK_PASSWORD=1]="WEAK_PASSWORD",e[e.SHORT_PASSWORD=2]="SHORT_PASSWORD",e[e.PASSWORD_SAME_AS_USERNAME=3]="PASSWORD_SAME_AS_USERNAME",e[e.FORBIDDEN_PASSWORD=4]="FORBIDDEN_PASSWORD",e[e.DUMB_STRINGS=5]="DUMB_STRINGS"}(Be||(Be={}));var Ze,ze,Ye={withCredentials:!0,url:He+"/v2/passwords/validate",timeout:1e4},qe=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Ke=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Xe=function(e,t){return se(te.httpService.post(Fe,{currentPassword:e,newPassword:t}),Ve)},Je=function(){return se(te.httpService.post(je),Ge)},Qe=function(e,t){return qe(void 0,void 0,Promise,(function(){return Ke(this,(function(n){return[2,se(te.httpService.post(Ye,{username:e,password:t}),null).then((function(e){return oe(e,(function(e){return ce(Be,e.code)}))}))]}))}))},$e=null!==(Ze=w.EnvironmentUrls.accountInformationApi)&&void 0!==Ze?Ze:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(ze||(ze={}));var et,tt,nt,rt,at,ot={withCredentials:!0,url:$e+"/v1/phone",timeout:1e4},it=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},lt=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ut=function(){return it(void 0,void 0,Promise,(function(){return lt(this,(function(e){return[2,se(te.httpService.get(ot,{}),ze)]}))}))},ct=(null!==(et=w.EnvironmentUrls.apiGatewayUrl)&&void 0!==et?et:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.PROMPT_ASSIGNMENT_WAS_NOT_UPDATED=3]="PROMPT_ASSIGNMENT_WAS_NOT_UPDATED",e[e.UNKNOWN_PROMPT_TYPE=4]="UNKNOWN_PROMPT_TYPE"}(tt||(tt={})),function(e){e.TEXT_ONLY_BANNER="DISPLAY_TYPE_TEXT_ONLY_BANNER"}(nt||(nt={})),function(e){e.GLOBAL="PAGE_RESTRICTION_GLOBAL",e.HOME_PAGE_ONLY="PAGE_RESTRICTION_HOME_PAGE"}(rt||(rt={})),function(e){e.CHANGE_PASSWORD__SUSPECTED_COMPROMISE="PROMPT_TYPE_CHANGE_PASSWORD__SUSPECTED_COMPROMISE",e.CHANGE_PASSWORD__BREACHED_CREDENTIAL="PROMPT_TYPE_CHANGE_PASSWORD__BREACHED_CREDENTIAL",e.AUTHENTICATOR_UPSELL="PROMPT_TYPE_AUTHENTICATOR_UPSELL",e.ACCOUNT_RESTORES_POLICY_UPDATE="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE",e.ACCOUNT_RESTORES_POLICY_UPDATE_V2="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE_V2",e.ACCOUNT_RESTORES_POLICY_UPDATE_V3="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPDATE_V3",e.ACCOUNT_RESTORES_POLICY_UPSELL="PROMPT_TYPE_ACCOUNT_RESTORES_POLICY_UPSELL",e.BROADER_AUTHENTICATOR_UPSELL="PROMPT_TYPE_BROADER_AUTHENTICATOR_UPSELL",e.EMAIL_2SV_UPSELL="PROMPT_TYPE_EMAIL_2SV_UPSELL"}(at||(at={}));var st,dt={withCredentials:!0,url:ct+"/v1/prompt-assignments",timeout:1e4};!function(e){e.DISMISS_PROMPT="DISMISS_PROMPT",e.DISABLE_PROMPT="DISABLE_PROMPT"}(st||(st={}));var pt,ft,ht,vt={withCredentials:!0,url:ct+"/v1/prompt-assignments",timeout:1e4},yt=function(){return(yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},mt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Et=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},gt=function(){return mt(void 0,void 0,Promise,(function(){var e;return Et(this,(function(t){switch(t.label){case 0:return[4,se(te.httpService.get(dt,{shouldReturnMetadata:!0}),tt)];case 1:return(e=t.sent()).isError?[2,e]:[2,e=yt(yt({},e),{value:e.value.filter((function(e){return e.isGeneric?Object.values(nt).includes(e.metadata.displayType):Object.values(at).includes(e.promptType)}))})]}}))}))},bt=function(e,t){return se(te.httpService.post(vt,{action:e,promptType:t}),tt)},Ct=(null!==(pt=w.EnvironmentUrls.apiGatewayUrl)&&void 0!==pt?pt:"URL_NOT_FOUND")+"/proof-of-work-service";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.REQUEST_INVALID=1]="REQUEST_INVALID",e[e.SESSION_INACTIVE=2]="SESSION_INACTIVE"}(ft||(ft={})),function(e){e[e.TIME_LOCK=0]="TIME_LOCK"}(ht||(ht={}));var _t,St,Tt={withCredentials:!0,url:Ct+"/v1/pow-puzzle",timeout:1e4},It={withCredentials:!0,url:Ct+"/v1/pow-puzzle",timeout:1e4},At=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},wt=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Nt=function(e){return se(te.httpService.get(Tt,{sessionID:e}),ft)},Lt=function(e,t){return At(void 0,void 0,Promise,(function(){return wt(this,(function(n){return[2,se(te.httpService.post(It,{sessionID:e,solution:t}),ft)]}))}))},Dt=(null!==(_t=w.EnvironmentUrls.apiGatewayUrl)&&void 0!==_t?_t:"URL_NOT_FOUND")+"/reauthentication-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.PASSWORD_INCORRECT=3]="PASSWORD_INCORRECT"}(St||(St={}));var Ot,Rt,Pt,Mt,kt={withCredentials:!0,url:Dt+"/v1/token/generate",timeout:1e4},xt=function(e){return se(te.httpService.post(kt,{password:e}),St)},Vt=(null!==(Ot=w.EnvironmentUrls.apiGatewayUrl)&&void 0!==Ot?Ot:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.SECURITY_QUESTIONS_DISABLED=3]="SECURITY_QUESTIONS_DISABLED",e[e.SESSION_INACTIVE=4]="SESSION_INACTIVE",e[e.QUESTION_NOT_FOUND=5]="QUESTION_NOT_FOUND",e[e.ANSWER_WRONG_FORMAT=6]="ANSWER_WRONG_FORMAT"}(Rt||(Rt={})),function(e){e[e.INVALID=0]="INVALID",e[e.MOST_RECENT_GAMES_PLAYED=1]="MOST_RECENT_GAMES_PLAYED"}(Pt||(Pt={})),function(e){e[e.PICK_ALL_CORRECT_CHOICES=0]="PICK_ALL_CORRECT_CHOICES",e[e.PICK_C_CORRECT_CHOICES=1]="PICK_C_CORRECT_CHOICES"}(Mt||(Mt={}));var Wt,Ut,Ht,Gt,Ft,Bt={withCredentials:!0,url:Vt+"/v1/security-question",timeout:1e4},jt={withCredentials:!0,url:Vt+"/v1/security-question",timeout:1e4},Zt=function(e,t){return se(te.httpService.get(Bt,{userId:e,sessionId:t}),Rt)},zt=function(e,t,n){return se(te.httpService.post(jt,{userId:e,answer:t,sessionId:n}),Rt)},Yt="URL_NOT_FOUND",qt=null!==(Wt=w.EnvironmentUrls.apiGatewayUrl)&&void 0!==Wt?Wt:Yt,Kt=null!==(Ut=w.EnvironmentUrls.authApi)&&void 0!==Ut?Ut:Yt,Xt=qt+"/token-metadata-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.ATTEMPT_TO_INVALIDATE_CURRENT_TOKEN=3]="ATTEMPT_TO_INVALIDATE_CURRENT_TOKEN"}(Ht||(Ht={})),function(e){e[e.UNKNOWN=1]="UNKNOWN"}(Gt||(Gt={})),function(e){e.UNKNOWN="Unknown",e.APP="App",e.BROWSER="Browser",e.STUDIO="Studio"}(Ft||(Ft={}));var Jt,Qt,$t,en,tn={withCredentials:!0,url:Xt+"/v1/sessions",timeout:1e4},nn={withCredentials:!0,url:Xt+"/v1/logout",timeout:1e4},rn={withCredentials:!0,url:Kt+"/v1/logoutfromallsessionsandreauthenticate",timeout:1e4},an=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},on=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ln=function(e,t){return an(void 0,void 0,Promise,(function(){return on(this,(function(n){return[2,se(te.httpService.get(tn,{nextCursor:e,desiredLimit:t}),Ht)]}))}))},un=function(e){return an(void 0,void 0,Promise,(function(){return on(this,(function(t){return[2,se(te.httpService.post(nn,{token:e}),Ht)]}))}))},cn=function(){return an(void 0,void 0,Promise,(function(){return on(this,(function(e){return[2,se(te.httpService.post(rn,{}),Gt)]}))}))},sn=null!==(Jt=w.EnvironmentUrls.thumbnailsApi)&&void 0!==Jt?Jt:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Qt||(Qt={})),function(e){e.PNG="Png",e.JPEG="Jpeg"}($t||($t={})),function(e){e.ERROR="Error",e.COMPLETED="Completed",e.IN_REVIEW="InReview",e.PENDING="Pending",e.BLOCKED="Blocked"}(en||(en={}));var dn,pn,fn,hn,vn={url:sn+"/v1/games/icons",timeout:1e4},yn=function(e,t,n,r){return se(te.httpService.get(vn,{universeIds:e,size:t,format:n,isCircular:r}),Qt)},mn="https://translations."+(null!==(dn=w.EnvironmentUrls.domain)&&void 0!==dn?dn:"URL_NOT_FOUND");!function(e){e.EN_US="en_us"}(pn||(pn={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INVALID_LOCALE=1]="INVALID_LOCALE",e[e.CONSUMER_TYPE_NOT_SUPPORTED=2]="CONSUMER_TYPE_NOT_SUPPORTED",e[e.TRANSLATIONS_DO_NOT_EXIST=3]="TRANSLATIONS_DO_NOT_EXIST",e[e.FEATURE_DISABLED=4]="FEATURE_DISABLED"}(fn||(fn={})),function(e){e.Web="Web"}(hn||(hn={}));var En,gn,bn,Cn,_n={withCredentials:!0,url:mn+"/v1/translations/language-resources",timeout:6e4},Sn=function(){return(Sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Tn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},In=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},An=function(e,t,n,r){return Tn(void 0,void 0,Promise,(function(){var a;return In(this,(function(o){switch(o.label){case 0:return[4,se(te.httpService.get(_n,{consumerType:e,contentNamespace:t,keys:n,localeCode:r}),fn)];case 1:return!(a=o.sent()).isError||a.error!==fn.INVALID_LOCALE&&a.error!==fn.TRANSLATIONS_DO_NOT_EXIST||r===pn.EN_US?[2,a]:[2,An(e,t,n,pn.EN_US)]}}))}))},wn=function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=!1),Tn(void 0,void 0,Promise,(function(){var a,o;return In(this,(function(i){switch(i.label){case 0:return[4,An(hn.Web,e,t)];case 1:return(a=i.sent()).isError?[2,a]:((o=N()||{}).LangDynamic=o.LangDynamic||{},o.LangDynamic[n]=n!==e||r?Sn(Sn({},o.LangDynamic[n]),a.value):a.value,[2,re(void 0)])}}))}))},Nn="URL_NOT_FOUND",Ln=null!==(En=w.EnvironmentUrls.twoStepVerificationApi)&&void 0!==En?En:Nn,Dn=null!==(gn=w.EnvironmentUrls.economyApi)&&void 0!==gn?gn:Nn,On=null!==(bn=w.EnvironmentUrls.tradesApi)&&void 0!==bn?bn:Nn,Rn=1e4;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INVALID_CHALLENGE_ID=1]="INVALID_CHALLENGE_ID",e[e.INVALID_USER_ID=2]="INVALID_USER_ID",e[e.INVALID_EMAIL=3]="INVALID_EMAIL",e[e.INVALID_PASSWORD=4]="INVALID_PASSWORD",e[e.TOO_MANY_REQUESTS=5]="TOO_MANY_REQUESTS",e[e.PIN_LOCKED=6]="PIN_LOCKED",e[e.FEATURE_DISABLED=7]="FEATURE_DISABLED",e[e.NOT_ALLOWED=8]="NOT_ALLOWED",e[e.INVALID_CONFIGURATION=9]="INVALID_CONFIGURATION",e[e.INVALID_CODE=10]="INVALID_CODE",e[e.CONFIGURATION_ALREADY_ENABLED=11]="CONFIGURATION_ALREADY_ENABLED",e[e.INVALID_SETUP_TOKEN=12]="INVALID_SETUP_TOKEN",e[e.REAUTHENTICATION_REQUIRED=13]="REAUTHENTICATION_REQUIRED",e[e.INVALID_PHONE_NUMBER=15]="INVALID_PHONE_NUMBER",e[e.EXCEEDED_REGISTERED_KEYS_LIMIT=16]="EXCEEDED_REGISTERED_KEYS_LIMIT",e[e.INVALID_CREDENTIAL_NICKNAME=17]="INVALID_CREDENTIAL_NICKNAME",e[e.AUTHENTICATOR_CODE_ALREADY_USED=18]="AUTHENTICATOR_CODE_ALREADY_USED"}(Cn||(Cn={}));var Pn,Mn,kn={url:Ln+"/v1/metadata",withCredentials:!0,timeout:Rn},xn={withCredentials:!0,url:Dn+"/v2/spend-friction/two-step-verification/status",timeout:Rn},Vn={withCredentials:!0,url:On+"/v1/trade-friction/two-step-verification/status",timeout:Rn},Wn={withCredentials:!0,url:Dn+"/v2/resale-friction/two-step-verification/status",timeout:Rn},Un={withCredentials:!0,url:Dn+"/v2/spend-friction/two-step-verification/generate",timeout:Rn},Hn={withCredentials:!0,url:On+"/v1/trade-friction/two-step-verification/generate",timeout:Rn},Gn={withCredentials:!0,url:Dn+"/v2/resale-friction/two-step-verification/generate",timeout:Rn},Fn={withCredentials:!0,url:Dn+"/v2/spend-friction/two-step-verification/redeem",timeout:Rn},Bn={withCredentials:!0,url:On+"/v1/trade-friction/two-step-verification/redeem",timeout:Rn},jn={withCredentials:!0,url:Dn+"/v2/resale-friction/two-step-verification/redeem",timeout:Rn},Zn=function(e){return se(te.httpService.get(kn,e||{}),Cn)},zn=function(e,t){return se(te.httpService.get(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration",timeout:Rn}}(e),t||{}),Cn)},Yn=function(e){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/email/enable",timeout:Rn}}(e),{}),Cn)},qn=function(e,t){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/email/send-code",timeout:Rn}}(e),t),Cn)},Kn=function(e,t){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/email/verify",timeout:Rn}}(e),t),Cn)},Xn=function(e){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/email/disable",timeout:Rn}}(e),{}),Cn)},Jn=function(e){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/authenticator/enable",timeout:Rn}}(e),{}),Cn)},Qn=function(e,t,n){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/authenticator/enable-verify",timeout:Rn}}(e),{setupToken:t,code:n}),Cn)},$n=function(e,t){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/authenticator/verify",timeout:Rn}}(e),t),Cn)},er=function(e){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/authenticator/disable",timeout:Rn}}(e),{}),Cn)},tr=function(e,t){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/recovery-codes/verify",timeout:Rn}}(e),t),Cn)},nr=function(e){return se(te.httpService.get(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/recovery-codes",timeout:Rn}}(e)),Cn)},rr=function(e){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/recovery-codes/regenerate",timeout:Rn}}(e),{password:"password"}),Cn)},ar=function(e){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/sms/enable",timeout:Rn}}(e),{}),Cn)},or=function(e,t){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/sms/send-code",timeout:Rn}}(e),t),Cn)},ir=function(e,t){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/sms/verify",timeout:Rn}}(e),t),Cn)},lr=function(e){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/sms/disable",timeout:Rn}}(e),{}),Cn)},ur=function(e){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/security-key/enable",timeout:Rn}}(e),{}),Cn,(function(e){return{creationOptions:JSON.parse(e.creationOptions),sessionId:e.sessionId}}))},cr=function(e,t,n,r){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/security-key/enable-verify",timeout:Rn}}(e),{sessionId:t,credentialNickname:n,attestationResponse:r}),Cn)},sr=function(e,t){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/security-key/verify-start",timeout:Rn}}(e),t),Cn)},dr=function(e,t){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/challenges/security-key/verify-finish",timeout:Rn}}(e),t),Cn)},pr=function(e,t){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/security-key/disable",timeout:Rn}}(e),{credentialNicknames:t}),Cn)},fr=function(e){return se(te.httpService.post(function(e){return{withCredentials:!0,url:Ln+"/v1/users/"+e+"/configuration/security-key/list",timeout:Rn}}(e),{}),Cn)},hr=function(){return se(te.httpService.get(xn,{}),Cn)},vr=function(){return se(te.httpService.get(Vn,{}),Cn)},yr=function(){return se(te.httpService.get(Wn,{}),Cn)},mr=function(){return se(te.httpService.post(Un,{}),Cn)},Er=function(){return se(te.httpService.post(Hn,{}),Cn)},gr=function(){return se(te.httpService.post(Gn,{}),Cn)},br=function(e,t){return se(te.httpService.post(Fn,{challengeToken:e,verificationToken:t}),Cn)},Cr=function(e,t){return se(te.httpService.post(Bn,{challengeToken:e,verificationToken:t}),Cn)},_r=function(e,t){return se(te.httpService.post(jn,{challengeToken:e,verificationToken:t}),Cn)},Sr=null!==(Pn=w.EnvironmentUrls.universalAppConfigurationApi)&&void 0!==Pn?Pn:"URL_NOT_FOUND";!function(e){e[e.INTERNAL_ERROR=9]="INTERNAL_ERROR"}(Mn||(Mn={}));var Tr,Ir,Ar={withCredentials:!0,url:Sr+"/v1/behaviors/account-settings-ui/content",timeout:1e4},wr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Nr=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Lr=function(){return wr(void 0,void 0,Promise,(function(){return Nr(this,(function(e){return[2,se(te.httpService.get(Ar,{}),Mn)]}))}))},Dr=null!==(Tr=w.EnvironmentUrls.authApi)&&void 0!==Tr?Tr:"URL_NOT_FOUND";!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Ir||(Ir={}));var Or,Rr,Pr,Mr={withCredentials:!0,url:Dr+"/v1/xbox/connection",timeout:1e4},kr={withCredentials:!0,url:Dr+"/v1/xbox/disconnect",timeout:1e4},xr=function(){return se(te.httpService.get(Mr,{}),Ir)},Vr=function(){return se(te.httpService.post(kr,{}),Ir)},Wr=(null!==(Or=w.EnvironmentUrls.apiGatewayUrl)&&void 0!==Or?Or:"URL_NOT_FOUND")+"/account-security-service";!function(e){e[e.UNKNOWN=1]="UNKNOWN",e[e.REQUEST_TYPE_WAS_INVALID=2]="REQUEST_TYPE_WAS_INVALID",e[e.INVAID_METRIC_NAME=3]="INVAID_METRIC_NAME",e[e.INVALID_METRIC_LABELS=4]="INVALID_METRIC_LABELS"}(Rr||(Rr={})),function(e){e.Event2sv="event_2sv",e.SolveTime2sv="solve_time_2sv",e.EventCaptcha="event_captcha",e.SolveTimeCaptcha="solve_time_captcha",e.EventPow="event_pow",e.PuzzleComputeTimePow="puzzle_compute_time_pow",e.SolveTimePow="solve_time_pow",e.EventSecurityQuestion="event_security_question",e.EventGeneric="event_generic"}(Pr||(Pr={}));var Ur,Hr={withCredentials:!0,url:Wr+"/v1/metrics/record",timeout:1e4},Gr=function(e){return se(te.httpService.post(Hr,e),Rr)},Fr=function(){this.accountPin=e,this.captcha=t,this.email=r,this.games=a,this.metrics=E,this.myAccount=o,this.password=i,this.phone=l,this.promptAssignments=u,this.securityQuestions=d,this.sessionManagement=p,this.reauthentication=s,this.thumbnails=f,this.translations=h,this.twoStepVerification=v,this.universalAppConfiguration=y,this.proofOfWork=c,this.xbox=m},Br=ReactUtilities,jr="Captcha:",Zr={common:[],feature:"Authentication.Captcha"},zr={captcha:"captcha",captchaInitiated:"captchaInitiated",captchaV2Experimentation:"captchaV2Experimentation"},Yr={visible:"visible",hidden:"hidden",error:"error"},qr={triggered:"Triggered",initialized:"Initialized",suppressed:"Suppressed",displayed:"Displayed",success:"Success",providerError:"FailedToLoad",metadataError:"FailedToLoadMetadata"},Kr={solveTime:"SolveTime"},Xr=["Action.PleaseTryAgain","Action.Reload","Description.VerifyingYouAreNotBot","Message.Error.Default"],Jr={Login:"ACTION_TYPE_WEB_LOGIN",AppLogin:"ACTION_TYPE_WEB_LOGIN",Signup:"ACTION_TYPE_WEB_SIGNUP",AppSignup:"ACTION_TYPE_WEB_SIGNUP",JoinGroup:"ACTION_TYPE_GROUP_JOIN",GroupWallPost:"ACTION_TYPE_GROUP_WALL_POST",ResetPassword:"ACTION_TYPE_WEB_RESET_PASSWORD",ToyCodeRedeem:"ACTION_TYPE_WEB_GAMECARD_REDEMPTION",SupportRequest:"ACTION_TYPE_SUPPORT_REQUEST",FollowUser:"ACTION_TYPE_FOLLOW_USER",Generic:"ACTION_TYPE_GENERIC_CHALLENGE",GameCardRedeem:"ACTION_TYPE_WEB_GAMECARD_REDEMPTION",AssetComment:"ACTION_TYPE_ASSET_COMMENT",Marketplace:"ACTION_TYPE_MARKETPLACE"},Qr="V2",$r=ReactStyleGuide,ea=function(e){var t=e.titleText,n=e.children;return $().createElement("div",{className:"inline-challenge"},t&&$().createElement("h4",{className:"inline-challenge-title"},t),$().createElement("div",{className:"inline-challenge-content"},n))},ta=function(e){var t=e.children;return $().createElement("div",{className:"inline-challenge-body"},t)};!function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.HIDE_MODAL_CHALLENGE=2]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=3]="SHOW_MODAL_CHALLENGE"}(Ur||(Ur={}));var na,ra,aa=function(){return(aa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},oa=function(e,t){var n,r=aa({},e);switch(t.type){case Ur.SET_CHALLENGE_COMPLETED:return r.onChallengeCompletedData=t.onChallengeCompletedData,r.isModalVisible=!1,r;case Ur.SET_CHALLENGE_INVALIDATED:return r.onChallengeInvalidatedData={errorCode:t.errorCode,errorMessage:(n=e.resources,t.errorCode,n.Message.Error.Default)},r.isModalVisible=!1,r;case Ur.HIDE_MODAL_CHALLENGE:return r.isModalVisible=!1,r;case Ur.SHOW_MODAL_CHALLENGE:return r.isModalVisible=!0,r;default:return e}},ia=(0,Q.createContext)(null),la=function(e){var t=e.actionType,n=e.appType,r=e.renderInline,a=e.dataExchangeBlob,o=e.unifiedCaptchaId,i=e.requestService,l=e.metadataResponse,u=e.eventService,c=e.metricsService,s=e.translate,d=e.onChallengeDisplayed,p=e.onChallengeCompleted,f=e.onChallengeInvalidated,h=e.onModalChallengeAbandoned,v=e.children,y=(0,Q.useState)((function(){return function(e){return{Action:{PleaseTryAgain:e("Action.PleaseTryAgain"),Reload:e("Action.Reload")},Description:{VerifyingYouAreNotBot:e("Description.VerifyingYouAreNotBot")},Message:{Error:{Default:e("Message.Error.Default")}}}}(s)}))[0],m=(0,Q.useState)((function(){return{actionType:t,appType:n,dataExchangeBlob:a,unifiedCaptchaId:o,renderInline:r,metadataResponse:l,resources:y,requestService:i,eventService:u,metricsService:c,onChallengeDisplayed:d,onModalChallengeAbandoned:h,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!1}}))[0],E=(0,Q.useReducer)(oa,m),g=E[0],b=E[1];return(0,Q.useEffect)((function(){null!==g.onChallengeCompletedData&&null===g.onChallengeInvalidatedData&&p(g.onChallengeCompletedData)}),[g.onChallengeCompletedData,g.onChallengeInvalidatedData,p]),(0,Q.useEffect)((function(){null!==g.onChallengeInvalidatedData&&null===g.onChallengeCompletedData&&f(g.onChallengeInvalidatedData)}),[g.onChallengeCompletedData,g.onChallengeInvalidatedData,f]),$().createElement(ia.Provider,{value:{state:g,dispatch:b}},v)},ua=function(){var e=(0,Q.useContext)(ia);if(null===e)throw new Error("CaptchaContext was not provided in the current scope");return e};!function(e){e.Login="Login",e.AppLogin="AppLogin",e.Signup="Signup",e.AppSignup="AppSignup",e.JoinGroup="JoinGroup",e.GroupWallPost="GroupWallPost",e.ResetPassword="ResetPassword",e.ToyCodeRedeem="ToyCodeRedeem",e.GameCardRedeem="GameCardRedeem",e.FollowUser="FollowUser",e.Generic="Generic",e.SupportRequest="SupportRequest",e.AssetComment="AssetComment",e.Marketplace="Marketplace"}(na||(na={})),function(e){e[e.UNKNOWN=0]="UNKNOWN"}(ra||(ra={}));var ca,sa,da={},pa=((ca=document.createElement("div")).className="challenge-captcha-body",ca.id="challenge-captcha-element",ca),fa=function(){var e=ua(),t=e.state,n=t.actionType,r=t.appType,a=t.dataExchangeBlob,o=t.unifiedCaptchaId,i=t.renderInline,l=t.resources,u=t.metadataResponse,c=t.onChallengeDisplayed,s=t.onModalChallengeAbandoned,d=t.isModalVisible,p=e.dispatch,f=(0,Q.useState)(!0),h=f[0],v=f[1],y=function(){p({type:Ur.HIDE_MODAL_CHALLENGE}),null!==s&&s((function(){return p({type:Ur.SHOW_MODAL_CHALLENGE})}))};(0,Q.useEffect)((function(){!function(){v(!0);var e=u.funCaptchaPublicKeys,t=[];Object.keys(w.CaptchaConstants.funCaptchaPublicKeyMap).forEach((function(n){var r=n,a=w.CaptchaConstants.funCaptchaPublicKeyMap[r],o=e[a];void 0!==o&&t.push({Type:r,PublicKey:o})})),w.FunCaptcha.addCaptchaTypes(t,!1),null!==r&&w.FunCaptcha.setPerAppTypeLoggingEnabled(!0,r),Object.assign(da,{shownCb:function(){v(!1),p({type:Ur.SHOW_MODAL_CHALLENGE}),c({displayed:!0})},errorCb:function(){p({type:Ur.SET_CHALLENGE_INVALIDATED,errorCode:ra.UNKNOWN})},successCb:function(e,t){p({type:Ur.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{captchaToken:e,captchaId:t}})}}),w.FunCaptcha.render(pa.id,{cType:n,inputParams:{dataExchange:a,unifiedCaptchaId:o},returnTokenInSuccessCb:!0,shownCb:function(){return da.shownCb&&da.shownCb()},errorCb:function(e){return da.errorCb&&da.errorCb(e)},successCb:function(e,t){return da.successCb&&da.successCb(e,t)}})}()}),[]);var m,E=(m=pa,$().createElement("div",{ref:function(e){return null==e?void 0:e.insertAdjacentElement("afterend",m)}}));return i?$().createElement(ea,{titleText:l.Description.VerifyingYouAreNotBot},$().createElement(ta,null,h&&$().createElement("span",{className:"spinner spinner-default spinner-no-margin challenge-captcha-body"}),E)):$().createElement(Q.Fragment,null,!d&&$().createElement("div",{style:{display:"none"}},E),$().createElement($r.Modal,{className:"modal-modern modal-modern-challenge-captcha",show:d,onHide:y,backdrop:"static"},$().createElement($r.Modal.Body,null,$().createElement("button",{type:"button",className:"challenge-captcha-close-button",onClick:y,disabled:!1},$().createElement("span",{className:"icon-close"})),h&&$().createElement("span",{className:"spinner spinner-default spinner-no-margin challenge-captcha-body"}),E)))},ha="fc_nosuppress",va=new URLSearchParams(window.location.search).get(ha),ya="fc_suppress",ma=new URLSearchParams(window.location.search).get(ya),Ea=null!==va?"&fc_nosuppress="+va:null!==ma?"&fc_suppress="+ma:"",ga=0,ba=function(){var e=ua(),t=e.state,n=t.actionType,r=t.dataExchangeBlob,a=t.unifiedCaptchaId,o=t.renderInline,i=t.resources,l=t.metadataResponse,u=t.eventService,c=t.metricsService,s=t.onChallengeDisplayed,d=t.onModalChallengeAbandoned,p=t.isModalVisible,f=e.dispatch,h=(0,Q.useState)((function(){var e=ga;return ga+=1,e.toString()}))[0],v=(0,Q.useState)(""),y=v[0],m=v[1],E=(0,Q.useState)(!0),g=E[0],b=E[1],C=(0,Q.useState)(!1),_=C[0],S=C[1],T=(0,Q.useState)(null),I=T[0],A=T[1],w=(0,Q.useState)(!1),N=w[0],L=w[1],D=(0,Q.useRef)(null),O=function(){f({type:Ur.HIDE_MODAL_CHALLENGE}),null!==d&&d((function(){return f({type:Ur.SHOW_MODAL_CHALLENGE})}))},R=(0,Q.useCallback)((function(e,t){return f({type:Ur.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{captchaToken:e,captchaId:t}})}),[f]),P=(0,Q.useCallback)((function(){return f({type:Ur.SET_CHALLENGE_INVALIDATED,errorCode:ra.UNKNOWN})}),[f]),M=(0,Q.useCallback)((function(){b(!1),f({type:Ur.SHOW_MODAL_CHALLENGE}),S(!0),s({displayed:!0}),A(Date.now())}),[f,s]);(0,Q.useEffect)((function(){!function(){b(!0);var e=l.funCaptchaPublicKeys;m(e[Jr[n]]||""),c.fireTriggeredEvent()}()}),[]),(0,Q.useEffect)((function(){var e=function(e){try{var t=JSON.parse(e.data);if(!Object.prototype.hasOwnProperty.call(t,"arkoseIframeId"))return;if(t.arkoseIframeId!==h)return;switch(t.eventId){case"challenge-complete":R(t.payload.captchaToken,a),c.fireSuccessEvent();var r=0;I&&(r=Date.now()-I),u.sendCaptchaRedeemEvent(n,r,!0,t.payload.captchaToken,a,Qr);break;case"challenge-error":P(),c.fireProviderErrorEvent(),u.sendCaptchaInitiatedEvent(n,Yr.error,t.payload.captchaToken||"",a,t.payload.error,Qr);break;case"challenge-shown":M(),c.fireDisplayedEvent(),u.sendCaptchaInitiatedEvent(n,Yr.visible,t.payload.captchaToken,a,null,Qr);break;case"challenge-resize":null!==D.current&&(D.current.height=t.payload.height,D.current.width=t.payload.width);break;case"challenge-suppressed":c.fireSuppressedEvent(),u.sendCaptchaInitiatedEvent(n,Yr.hidden,t.payload.captchaToken,a,null,Qr);break;case"challenge-ready":c.fireInitializedEvent()}}catch(t){if(t instanceof SyntaxError)return;c.fireProviderErrorEvent(),console.error(jr,"Got bad event data:",e.data),u.sendCaptchaInitiatedEvent(n,Yr.error,null,a,String(t),Qr)}};return window.addEventListener("message",e),L(!0),function(){L(!1),window.removeEventListener("message",e)}}),[D,I,n,a,u,c,h,R,P,M]);var k=encodeURIComponent(r),x=$().createElement("div",{className:"challenge-captcha-body",style:{height:g?0:void 0}},$().createElement("iframe",{ref:D,title:"Challenge",id:"arkose-iframe",src:"/arkose/iframe?publicKey="+y+"&dataExchangeBlob="+k+"&arkoseIframeId="+h+Ea,style:{border:"none",background:"transparent"}}));return o?$().createElement(ea,{titleText:i.Description.VerifyingYouAreNotBot},$().createElement(ta,null,(g||!N)&&$().createElement("span",{className:"spinner spinner-default spinner-no-margin challenge-captcha-body"}),N&&x)):$().createElement($r.Modal,{className:"modal-modern modal-modern-challenge-captcha",show:p||!_,style:{display:_?"block":"none"},onHide:O,backdrop:!!_&&"static"},$().createElement($r.Modal.Body,null,$().createElement("button",{type:"button",className:"challenge-captcha-close-button",onClick:O,disabled:!1},$().createElement("span",{className:"icon-close"})),(g||!N)&&$().createElement("span",{className:"spinner spinner-default spinner-no-margin challenge-captcha-body"}),N&&x))},Ca=(0,Br.withTranslations)((function(e){var t=e.actionType,n=e.appType,r=e.dataExchangeBlob,a=e.unifiedCaptchaId,o=e.captchaVersion,i=e.renderInline,l=e.requestService,u=e.metadataResponse,c=e.eventService,s=e.metricsService,d=e.translate,p=e.onChallengeDisplayed,f=e.onChallengeCompleted,h=e.onChallengeInvalidated,v=e.onModalChallengeAbandoned;return $().createElement(la,{actionType:t,appType:n,dataExchangeBlob:r,unifiedCaptchaId:a,renderInline:i,requestService:l,translate:d,metadataResponse:u,eventService:c,metricsService:s,onChallengeDisplayed:p,onChallengeCompleted:f,onChallengeInvalidated:h,onModalChallengeAbandoned:v},o===Qr?$().createElement(ba,null):$().createElement(fa,null))}),Zr),_a=function(){function e(e){this.provider=e}return e.prototype.sendCaptchaRedeemEvent=function(e,t,n,r,a,o){var i=n?"true":"false";N().EventStream.SendEventWithTarget(zr.captcha,e,{solveDuration:t,success:i,provider:this.provider,session:r||"",ucid:a||"",providerVersion:o},N().EventStream.TargetTypes.WWW)},e.prototype.sendCaptchaInitiatedEvent=function(e,t,n,r,a,o){N().EventStream.SendEventWithTarget(zr.captchaInitiated,e,{type:t,provider:this.provider,ucid:r||"",session:n||"",message:a||"",providerVersion:o},N().EventStream.TargetTypes.WWW)},e.prototype.sendCaptchaV2ExperimentationEvent=function(e,t,n,r){N().EventStream.SendEventWithTarget(zr.captchaV2Experimentation,e,{btid:n,provider:this.provider,ucid:t||"",captchaVersion:r},N().EventStream.TargetTypes.WWW)},e}(),Sa=function(){function e(){this.timeStore={}}return e.prototype.start=function(e){this.timeStore[e]=Date.now()},e.prototype.end=function(e){var t=this.timeStore[e];return t?(delete this.timeStore[e],Date.now()-t):null},e}(),Ta=window.EventTracker,Ia=function(){function e(e,t,n,r){this.applicationType=n,this.requestServiceDefault=r,this.actionType=e,this.eventTimer=new Sa,this.provider=t,this.solveTimeSequenceName=""+this.actionType+this.provider+"_"+Kr.solveTime}return e.prototype.fireTriggeredEvent=function(){this.fireEvent(qr.triggered),Ta&&Ta.start(this.appendApplicationType(this.solveTimeSequenceName)),this.eventTimer.start(this.solveTimeSequenceName)},e.prototype.fireInitializedEvent=function(){this.fireEvent(qr.initialized)},e.prototype.fireMetadataErrorEvent=function(){this.fireEvent(qr.metadataError)},e.prototype.fireSuppressedEvent=function(){this.fireEvent(qr.suppressed)},e.prototype.fireDisplayedEvent=function(){this.fireEvent(qr.displayed)},e.prototype.fireProviderErrorEvent=function(){this.fireEvent(qr.providerError)},e.prototype.fireSuccessEvent=function(){this.fireEvent(qr.success),Ta&&Ta.endSuccess(this.appendApplicationType(this.solveTimeSequenceName));var e=this.eventTimer.end(this.solveTimeSequenceName);null!==e&&this.requestServiceDefault.metrics.recordMetric({name:Pr.SolveTimeCaptcha,value:e,labelValues:{action_type:this.actionType,event_type:this.provider+"_"+qr.success,application_type:this.applicationType||"unknown",version:Qr}}).catch((function(){}))},e.prototype.fireEvent=function(e){if(Ta){var t=""+this.actionType+this.provider+"_"+e;Ta.fireEvent(this.appendApplicationType(t))}this.requestServiceDefault.metrics.recordMetric({name:Pr.EventCaptcha,value:1,labelValues:{action_type:this.actionType,event_type:this.provider+"_"+e,application_type:this.applicationType||"unknown",version:Qr}}).catch((function(){}))},e.prototype.appendApplicationType=function(e){return this.applicationType?e+"_"+this.applicationType:e},e}(),Aa=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},wa=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Na=new Fr,La=function(e){var t=e.containerId,n=e.actionType,r=e.appType,a=e.dataExchangeBlob,o=e.unifiedCaptchaId,i=e.renderInline,l=e.shouldDynamicallyLoadTranslationResources,u=e.onChallengeDisplayed,c=e.onChallengeCompleted,s=e.onChallengeInvalidated,d=e.onModalChallengeAbandoned;return Aa(void 0,void 0,void 0,(function(){var e,p,f,h,v,y,m,E,g,b,C;return wa(this,(function(_){switch(_.label){case 0:return null===(e=document.getElementById(t))?[3,4]:((0,ee.unmountComponentAtNode)(e),l?[4,Na.translations.queryAndOverwriteResourcesForNamespace(Zr.feature,Xr)]:[3,2]);case 1:if((p=_.sent()).isError)return console.error(jr,"Got error code "+((null===(b=p.error)||void 0===b?void 0:b.toString())||"null")+" loading translations"),[2,!1];_.label=2;case 2:return f=new Ia(n,"FunCaptcha",r,Na),[4,Na.captcha.getMetadata()];case 3:if((h=_.sent()).isError)return f.fireMetadataErrorEvent(),console.error(jr,"Got error code "+((null===(C=h.error)||void 0===C?void 0:C.toString())||"null")+" fetching metadata"),[2,!1];if(v=new _a("FunCaptcha"),y="V1",!0!==h.value.disableCaptchaVersionExperiment){m=w.Cookies.getBrowserTrackerId()||"",E="";try{E=String((S=m,(new K).finalize(S).toString()))}catch(e){console.error(jr,e)}g=E.slice(-2)||"00",parseInt(g,16)%1==0&&(y="V2"),v.sendCaptchaV2ExperimentationEvent(n,o,m,y)}return(0,ee.render)($().createElement(Ca,{actionType:n,appType:r,dataExchangeBlob:a,unifiedCaptchaId:o,renderInline:i,requestService:Na,metadataResponse:h.value,eventService:v,metricsService:f,captchaVersion:y,onChallengeDisplayed:u,onChallengeCompleted:c,onChallengeInvalidated:s,onModalChallengeAbandoned:d}),e),[2,!0];case 4:return[2,Promise.resolve(!1)]}var S}))}))},Da=function(e){var t=e.positiveButton,n=e.negativeButton,r=e.children;return $().createElement("div",{className:"inline-challenge-footer"},$().createElement("div",{className:"inline-challenge-footer-buttons"},null!==n&&$().createElement("button",{type:"button",className:"btn-secondary-md inline-challenge-footer-button","aria-label":n.label,disabled:!n.enabled,onClick:n.action},n.content),$().createElement("button",{type:"button",className:"btn-cta-md inline-challenge-footer-button","aria-label":t.label,disabled:!t.enabled,onClick:t.action},t.content)),r)},Oa=function(e){var t=e.positiveButton,n=e.negativeButton,r=e.children;return $().createElement($r.Modal.Footer,null,$().createElement("div",{className:"modal-modern-footer-buttons"},null!==n&&$().createElement("button",{type:"button",className:"btn-secondary-md modal-modern-footer-button","aria-label":n.label,disabled:!n.enabled,onClick:n.action},n.content),$().createElement("button",{type:"button",className:"btn-cta-md modal-modern-footer-button","aria-label":t.label,disabled:!t.enabled,onClick:t.action},t.content)),r)};!function(e){e.BACK="BACK",e.CLOSE="CLOSE",e.HIDDEN="HIDDEN"}(sa||(sa={}));var Ra,Pa,Ma=function(e){var t=e.headerText,n=e.buttonType,r=e.buttonAction,a=e.buttonEnabled,o=e.headerInfo;return $().createElement($r.Modal.Header,{useBaseBootstrapComponent:!0},function(e,t,n){switch(e){case sa.BACK:return $().createElement("button",{type:"button",className:"modal-modern-header-button",onClick:t,disabled:!n},$().createElement("span",{className:"icon-back"}));case sa.CLOSE:return $().createElement("button",{type:"button",className:"modal-modern-header-button",onClick:t,disabled:!n},$().createElement("span",{className:"icon-close"}));case sa.HIDDEN:default:return $().createElement("div",null)}}(n,r,a),$().createElement($r.Modal.Title,null,t),$().createElement("div",{className:"modal-modern-header-info"},o))};!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Ra||(Ra={})),function(e){e.ForceAuthenticator="ForceAuthenticator",e.ForceTwoStepVerification="ForceTwoStepVerification"}(Pa||(Pa={}));var ka,xa={common:[],feature:"Feature.ForceAuthenticator"},Va={common:[],feature:"Feature.ForceTwoStepVerification"},Wa=["Action.Setup","Description.Reason","Description.SetupAuthenticator","Header.TurnOnAuthenticator"],Ua=["ForceTwoStepVerification.Header","ForceTwoStepVerification.Body","ForceTwoStepVerification.Action"];!function(e){e[e.HIDE_MODAL_CHALLENGE=0]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=1]="SHOW_MODAL_CHALLENGE"}(ka||(ka={}));var Ha=function(){return(Ha=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ga=function(e,t){var n=Ha({},e);switch(t.type){case ka.HIDE_MODAL_CHALLENGE:return n.isModalVisible=!1,n;case ka.SHOW_MODAL_CHALLENGE:return n.isModalVisible=!0,n;default:return e}},Fa=(0,Q.createContext)(null),Ba=function(e){var t=e.forceActionRedirectChallengeConfig,n=e.renderInline,r=e.translate,a=e.onModalChallengeAbandoned,o=e.children,i=(0,Q.useState)((function(){return t.getTranslationResources(r)}))[0],l=(0,Q.useState)((function(){return{renderInline:n,resources:i,redirectURLSignifier:t.redirectURLSignifier,onModalChallengeAbandoned:a,isModalVisible:!0}}))[0],u=(0,Q.useReducer)(Ga,l),c=u[0],s=u[1];return $().createElement(Fa.Provider,{value:{state:c,dispatch:s}},o)},ja=function(){var e=(0,Q.useContext)(Fa);if(null===e)throw new Error("ForceActionRedirectContext was not provided in the current scope");return e},Za=function(){var e=ja(),t=e.state,n=t.renderInline,r=t.redirectURLSignifier,a=t.resources,o=t.onModalChallengeAbandoned,i=t.isModalVisible,l=e.dispatch,u=function(){l({type:ka.HIDE_MODAL_CHALLENGE}),null!==o&&o((function(){return l({type:ka.SHOW_MODAL_CHALLENGE})}))},c={content:a.Action,label:a.Action,enabled:!0,action:function(){u(),window.open("/my/account#!/security?src="+r,"_self")}},s=function(){var e=n?ta:$r.Modal.Body,t=n?Da:Oa,r=n?"inline-challenge-lock-icon":"modal-lock-icon";return $().createElement($().Fragment,null,$().createElement(e,null,$().createElement("div",{className:r}),$().createElement("p",null,a.Body)),$().createElement(t,{positiveButton:c,negativeButton:null}))};return n?$().createElement(ea,{titleText:a.Header},s()):$().createElement($r.Modal,{className:"modal-modern",show:i,onHide:u,backdrop:"static"},$().createElement(Ma,{headerText:a.Header,buttonType:sa.CLOSE,buttonAction:u,buttonEnabled:!0,headerInfo:null}),s())},za=function(e){var t=e.renderInline,n=e.forceActionRedirectChallengeConfig,r=e.translate,a=e.onModalChallengeAbandoned;return $().createElement(Ba,{renderInline:t,forceActionRedirectChallengeConfig:n,translate:r,onModalChallengeAbandoned:a},$().createElement(Za,null))},Ya=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},qa=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ka=new Fr,Xa=function(e){var t=e.containerId,n=e.renderInline,r=e.forceActionRedirectChallengeType,a=e.shouldDynamicallyLoadTranslationResources,o=e.onModalChallengeAbandoned;return Ya(void 0,void 0,void 0,(function(){var e,i,l,u,c;return qa(this,(function(s){switch(s.label){case 0:return e=document.getElementById(t),i=function(e){switch(e){case Pa.ForceAuthenticator:return{redirectURLSignifier:"forceauthenticator",translationConfig:xa,translationResourceKeys:Wa,getTranslationResources:function(e){return{Header:e("Header.TurnOnAuthenticator"),Body:e("Description.SetupAuthenticator")+"\n"+e("Description.Reason"),Action:e("Action.Setup")}}};case Pa.ForceTwoStepVerification:return{redirectURLSignifier:"forcetwostepverification",translationConfig:Va,translationResourceKeys:Ua,getTranslationResources:function(e){return{Header:e("ForceTwoStepVerification.Header"),Body:e("ForceTwoStepVerification.Body"),Action:e("ForceTwoStepVerification.Action")}}};default:throw new Error("Invalid ForceActionRedirectChallengeType")}}(r),null===e?[3,3]:((0,ee.unmountComponentAtNode)(e),a?[4,Ka.translations.queryAndOverwriteResourcesForNamespace(i.translationConfig.feature,i.translationResourceKeys)]:[3,2]);case 1:if((l=s.sent()).isError)return console.error("ForceActionRedirect:","Got error code "+((null===(c=l.error)||void 0===c?void 0:c.toString())||"null")+" loading translations"),[2,!1];s.label=2;case 2:return u=(0,Br.withTranslations)(za,i.translationConfig),(0,ee.render)($().createElement(u,{forceActionRedirectChallengeConfig:i,renderInline:n,onModalChallengeAbandoned:o}),e),[2,!0];case 3:return[2,!1]}}))}))};var Ja=function(){return(Ja=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Qa(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))}function $a(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}Object.create;function eo(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var to="3.4.1";function no(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function ro(e){return!!e&&"function"==typeof e.then}function ao(e,t){try{var n=e();ro(n)?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}}function oo(e,t,n){return void 0===n&&(n=16),Qa(this,void 0,void 0,(function(){var r,a,o;return $a(this,(function(i){switch(i.label){case 0:r=Date.now(),a=0,i.label=1;case 1:return a<e.length?(t(e[a],a),(o=Date.now())>=r+n?(r=o,[4,no(0)]):[3,3]):[3,4];case 2:i.sent(),i.label=3;case 3:return++a,[3,1];case 4:return[2]}}))}))}function io(e){e.then(void 0,(function(){}))}function lo(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function uo(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function co(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function so(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function po(e,t){return[e[0]^t[0],e[1]^t[1]]}function fo(e){return e=po(e,[0,e[0]>>>1]),e=po(e=uo(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=po(e=uo(e,[3301882366,444984403]),[0,e[0]>>>1])}function ho(e,t){t=t||0;var n,r=(e=e||"").length%16,a=e.length-r,o=[0,t],i=[0,t],l=[0,0],u=[0,0],c=[2277735313,289559509],s=[1291169091,658871167];for(n=0;n<a;n+=16)l=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],u=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],l=co(l=uo(l,c),31),o=lo(o=co(o=po(o,l=uo(l,s)),27),i),o=lo(uo(o,[0,5]),[0,1390208809]),u=co(u=uo(u,s),33),i=lo(i=co(i=po(i,u=uo(u,c)),31),o),i=lo(uo(i,[0,5]),[0,944331445]);switch(l=[0,0],u=[0,0],r){case 15:u=po(u,so([0,e.charCodeAt(n+14)],48));case 14:u=po(u,so([0,e.charCodeAt(n+13)],40));case 13:u=po(u,so([0,e.charCodeAt(n+12)],32));case 12:u=po(u,so([0,e.charCodeAt(n+11)],24));case 11:u=po(u,so([0,e.charCodeAt(n+10)],16));case 10:u=po(u,so([0,e.charCodeAt(n+9)],8));case 9:u=uo(u=po(u,[0,e.charCodeAt(n+8)]),s),i=po(i,u=uo(u=co(u,33),c));case 8:l=po(l,so([0,e.charCodeAt(n+7)],56));case 7:l=po(l,so([0,e.charCodeAt(n+6)],48));case 6:l=po(l,so([0,e.charCodeAt(n+5)],40));case 5:l=po(l,so([0,e.charCodeAt(n+4)],32));case 4:l=po(l,so([0,e.charCodeAt(n+3)],24));case 3:l=po(l,so([0,e.charCodeAt(n+2)],16));case 2:l=po(l,so([0,e.charCodeAt(n+1)],8));case 1:l=uo(l=po(l,[0,e.charCodeAt(n)]),c),o=po(o,l=uo(l=co(l,31),s))}return o=lo(o=po(o,[0,e.length]),i=po(i,[0,e.length])),i=lo(i,o),o=lo(o=fo(o),i=fo(i)),i=lo(i,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)}function vo(e){return parseInt(e)}function yo(e){return parseFloat(e)}function mo(e,t){return"number"==typeof e&&isNaN(e)?t:e}function Eo(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function go(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function bo(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function Co(e){return"function"!=typeof e}function _o(e,t,n){var r=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(n,e)})),a=Array(r.length);return oo(r,(function(n,r){a[r]=function(e,t){var n=new Promise((function(n){var r=Date.now();ao(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=Date.now()-r;if(!e[0])return n((function(){return{error:bo(e[1]),duration:a}}));var o=e[1];if(Co(o))return n((function(){return{value:o,duration:a}}));n((function(){return new Promise((function(e){var t=Date.now();ao(o,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=a+Date.now()-t;if(!n[0])return e({error:bo(n[1]),duration:o});e({value:n[1],duration:o})}))}))}))}))}));return io(n),function(){return n.then((function(e){return e()}))}}(e[n],t)})),function(){return Qa(this,void 0,void 0,(function(){var e,t,n,o,i,l;return $a(this,(function(u){switch(u.label){case 0:for(e={},t=0,n=r;t<n.length;t++)o=n[t],e[o]=void 0;i=Array(r.length),l=function(){var t;return $a(this,(function(n){switch(n.label){case 0:return t=!0,[4,oo(r,(function(n,r){if(!i[r])if(a[r]){var o=a[r]().then((function(t){return e[n]=t}));io(o),i[r]=o}else t=!1}))];case 1:return n.sent(),t?[2,"break"]:[4,no(1)];case 2:return n.sent(),[2]}}))},u.label=1;case 1:return[5,l()];case 2:if("break"===u.sent())return[3,4];u.label=3;case 3:return[3,1];case 4:return[4,Promise.all(i)];case 5:return u.sent(),[2,e]}}))}))}}function So(){var e=window,t=navigator;return Eo(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function To(){var e=window,t=navigator;return Eo(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function Io(){var e=window,t=navigator;return Eo(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function Ao(){var e=window;return Eo(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function wo(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function No(){var e=To(),t=function(){var e,t,n=window;return Eo(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}();if(!e&&!t)return!1;var n=window;return Eo(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function Lo(e){var t=new Error(e);return t.name=e,t}function Do(e,t,n){var r,a,o;return void 0===n&&(n=50),Qa(this,void 0,void 0,(function(){var i,l;return $a(this,(function(u){switch(u.label){case 0:i=document,u.label=1;case 1:return i.body?[3,3]:[4,no(n)];case 2:return u.sent(),[3,1];case 3:l=i.createElement("iframe"),u.label=4;case 4:return u.trys.push([4,,10,11]),[4,new Promise((function(e,n){var r=!1,a=function(){r=!0,e()};l.onload=a,l.onerror=function(e){r=!0,n(e)};var o=l.style;o.setProperty("display","block","important"),o.position="absolute",o.top="0",o.left="0",o.visibility="hidden",t&&"srcdoc"in l?l.srcdoc=t:l.src="about:blank",i.body.appendChild(l);var u=function(){var e,t;r||("complete"===(null===(t=null===(e=l.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?a():setTimeout(u,10))};u()}))];case 5:u.sent(),u.label=6;case 6:return(null===(a=null===(r=l.contentWindow)||void 0===r?void 0:r.document)||void 0===a?void 0:a.body)?[3,8]:[4,no(n)];case 7:return u.sent(),[3,6];case 8:return[4,e(l,l.contentWindow)];case 9:return[2,u.sent()];case 10:return null===(o=l.parentNode)||void 0===o||o.removeChild(l),[7];case 11:return[2]}}))}))}function Oo(e){for(var t=function(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),a=/^\s*([a-z-]*)(.*)$/i.exec(e),o=a[1]||void 0,i={},l=/([.:#][\w-]+|\[.+?\])/gi,u=function(e,t){i[e]=i[e]||[],i[e].push(t)};;){var c=l.exec(a[2]);if(!c)break;var s=c[0];switch(s[0]){case".":u("class",s.slice(1));break;case"#":u("id",s.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(s);if(!d)throw new Error(r);u(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[o,i]}(e),n=t[0],r=t[1],a=document.createElement(null!=n?n:"div"),o=0,i=Object.keys(r);o<i.length;o++){var l=i[o],u=r[l].join(" ");"style"===l?Ro(a.style,u):a.setAttribute(l,u)}return a}function Ro(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var a=r[n],o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(a);if(o){var i=o[1],l=o[2],u=o[4];e.setProperty(i,l,u||"")}}}var Po=["monospace","sans-serif","serif"],Mo=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function ko(e){return e.toDataURL()}var xo,Vo;function Wo(){var e=this;return function(){if(void 0===Vo){var e=function(){var t=Uo();Ho(t)?Vo=setTimeout(e,2500):(xo=t,Vo=void 0)};e()}}(),function(){return Qa(e,void 0,void 0,(function(){var e;return $a(this,(function(t){switch(t.label){case 0:return Ho(e=Uo())?xo?[2,eo([],xo,!0)]:(n=document).fullscreenElement||n.msFullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement?[4,wo()]:[3,2]:[3,2];case 1:t.sent(),e=Uo(),t.label=2;case 2:return Ho(e)||(xo=e),[2,e]}var n}))}))}}function Uo(){var e=screen;return[mo(yo(e.availTop),null),mo(yo(e.width)-yo(e.availWidth)-mo(yo(e.availLeft),0),null),mo(yo(e.height)-yo(e.availHeight)-mo(yo(e.availTop),0),null),mo(yo(e.availLeft),null)]}function Ho(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function Go(e){var t;return Qa(this,void 0,void 0,(function(){var n,r,a,o,i,l,u;return $a(this,(function(c){switch(c.label){case 0:for(n=document,r=n.createElement("div"),a=new Array(e.length),o={},Fo(r),u=0;u<e.length;++u)i=Oo(e[u]),Fo(l=n.createElement("div")),l.appendChild(i),r.appendChild(l),a[u]=i;c.label=1;case 1:return n.body?[3,3]:[4,no(50)];case 2:return c.sent(),[3,1];case 3:n.body.appendChild(r);try{for(u=0;u<e.length;++u)a[u].offsetParent||(o[e[u]]=!0)}finally{null===(t=r.parentNode)||void 0===t||t.removeChild(r)}return[2,o]}}))}))}function Fo(e){e.style.setProperty("display","block","important")}function Bo(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function jo(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function Zo(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function zo(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function Yo(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var qo=Math,Ko=function(){return 0};var Xo={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var Jo={fonts:function(){return Do((function(e,t){var n=t.document,r=n.body;r.style.fontSize="48px";var a=n.createElement("div"),o={},i={},l=function(e){var t=n.createElement("span"),r=t.style;return r.position="absolute",r.top="0",r.left="0",r.fontFamily=e,t.textContent="mmMwWLliI0O&1",a.appendChild(t),t},u=Po.map(l),c=function(){for(var e={},t=function(t){e[t]=Po.map((function(e){return function(e,t){return l("'".concat(e,"',").concat(t))}(t,e)}))},n=0,r=Mo;n<r.length;n++){t(r[n])}return e}();r.appendChild(a);for(var s=0;s<Po.length;s++)o[Po[s]]=u[s].offsetWidth,i[Po[s]]=u[s].offsetHeight;return Mo.filter((function(e){return t=c[e],Po.some((function(e,n){return t[n].offsetWidth!==o[e]||t[n].offsetHeight!==i[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return Qa(this,void 0,void 0,(function(){var e,n,r,a,o;return $a(this,(function(i){switch(i.label){case 0:return Io()||No()?(l=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",l("YVt0aXRsZT0iN25hZ2EgcG9rZXIiIGld"),'[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",l("Lmlvc0Fkc2lvc0Fkcy1sYXlvdXQ="),".quangcao",l("W2hyZWZePSJodHRwczovL3I4OC52bi8iXQ=="),l("W2hyZWZePSJodHRwczovL3piZXQudm4vIl0=")],adBlockFinland:[".mainostila",l("LnNwb25zb3JpdA=="),".ylamainos",l("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),l("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",l("I2FkMl9pbmxpbmU=")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",l("LmhlYWRlci1ibG9ja2VkLWFk"),l("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:[".BetterJsPopOverlay",l("I2FkXzMwMFgyNTA="),l("I2Jhbm5lcmZsb2F0MjI="),l("I2FkLWJhbm5lcg=="),l("I2NhbXBhaWduLWJhbm5lcg==")],adGuardChinese:[l("LlppX2FkX2FfSA=="),l("YVtocmVmKj0iL29kMDA1LmNvbSJd"),l("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),".qq_nr_lad","#widget-quan"],adGuardFrench:[l("I2Jsb2NrLXZpZXdzLWFkcy1zaWRlYmFyLWJsb2NrLWJsb2Nr"),"#pavePub",l("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv"],adGuardGerman:[l("LmJhbm5lcml0ZW13ZXJidW5nX2hlYWRfMQ=="),l("LmJveHN0YXJ0d2VyYnVuZw=="),l("LndlcmJ1bmcz"),l("YVtocmVmXj0iaHR0cDovL3d3dy5laXMuZGUvaW5kZXgucGh0bWw/cmVmaWQ9Il0="),l("YVtocmVmXj0iaHR0cHM6Ly93d3cudGlwaWNvLmNvbS8/YWZmaWxpYXRlSWQ9Il0=")],adGuardJapanese:["#kauli_yad_1",l("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),l("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),l("LmFkZ29vZ2xl"),l("LmFkX3JlZ3VsYXIz")],adGuardMobile:[l("YW1wLWF1dG8tYWRz"),l("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",l("I2FkX2ludmlld19hcmVh")],adGuardRussian:[l("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),l("LnJlY2xhbWE="),'div[id^="smi2adblock"]',l("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),l("I2FkX3NxdWFyZQ==")],adGuardSocial:[l("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),l("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",l("W2hyZWZePSJodHRwOi8vYWRzLmdsaXNwYS5jb20vIl0=")],adGuardTrackingProtection:["#qoo-counter",l("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),l("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),l("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",l("I3Jla2xhbWk="),l("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),l("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),l("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[l("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers",l("I25ld0Fk")],easyList:[l("I0FEX0NPTlRST0xfMjg="),l("LnNlY29uZC1wb3N0LWFkcy13cmFwcGVy"),".universalboxADVBOX03",l("LmFkdmVydGlzZW1lbnQtNzI4eDkw"),l("LnNxdWFyZV9hZHM=")],easyListChina:[l("YVtocmVmKj0iLndlbnNpeHVldGFuZy5jb20vIl0="),l("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),l("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box"],easyListCookie:["#AdaCompliance.app-notice",".text-center.rgpd",".panel--cookie",".js-cookies-andromeda",".elxtr-consent"],easyListCzechSlovak:["#onlajny-stickers",l("I3Jla2xhbW5pLWJveA=="),l("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",l("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[l("I2FkdmVydGVudGll"),l("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",l("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:[l("I0FkX1dpbjJkYXk="),l("I3dlcmJ1bmdzYm94MzAw"),l("YVtocmVmXj0iaHR0cDovL3d3dy5yb3RsaWNodGthcnRlaS5jb20vP3NjPSJd"),l("I3dlcmJ1bmdfd2lkZXNreXNjcmFwZXJfc2NyZWVu"),l("YVtocmVmXj0iaHR0cDovL2xhbmRpbmcucGFya3BsYXR6a2FydGVpLmNvbS8/YWc9Il0=")],easyListItaly:[l("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",l("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),l("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),l("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[l("LnJla2xhbW9zX3RhcnBhcw=="),l("LnJla2xhbW9zX251b3JvZG9z"),l("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),l("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),l("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[l("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:[l("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),l("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",l("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[l("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),l("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),l("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",l("LmFkX19tYWlu"),l("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:[l("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[l("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),l("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[l("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),l("I2xpdmVyZUFkV3JhcHBlcg=="),l("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),l("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[l("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",l("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),l("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),l("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[l("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),l("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),l("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",l("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),l("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),l("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),l("ZGl2I3NrYXBpZWNfYWQ=")],ro:[l("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),'a[href^="/magazin/"]',l("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),l("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),l("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd")],ruAd:[l("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),l("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),l("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",l("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),l("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",l("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,Go((o=[]).concat.apply(o,n.map((function(t){return e[t]}))))]):[2,void 0];case 1:return r=i.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];n+="\n".concat(o,":");for(var i=0,l=e[o];i<l.length;i++){var u=l[i];n+="\n  ".concat(t[u]?"🚫":"➡️"," ").concat(u)}}console.log("".concat(n,"\n```"))}(e,r),(a=n.filter((function(t){var n=e[t];return Eo(n.map((function(e){return r[e]})))>.6*n.length}))).sort(),[2,a]}var l}))}))},fontPreferences:function(){return function(e,t){void 0===t&&(t=4e3);return Do((function(n,r){var a=r.document,o=a.body,i=o.style;i.width="".concat(t,"px"),i.webkitTextSizeAdjust=i.textSizeAdjust="none",To()?o.style.zoom="".concat(1/r.devicePixelRatio):Io()&&(o.style.zoom="reset");var l=a.createElement("div");return l.textContent=eo([],Array(t/20<<0),!0).map((function(){return"word"})).join(" "),o.appendChild(l),e(a,o)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}((function(e,t){for(var n={},r={},a=0,o=Object.keys(Xo);a<o.length;a++){var i=o[a],l=Xo[i],u=l[0],c=void 0===u?{}:u,s=l[1],d=void 0===s?"mmMwWLliI0fiflO&1":s,p=e.createElement("span");p.textContent=d,p.style.whiteSpace="nowrap";for(var f=0,h=Object.keys(c);f<h.length;f++){var v=h[f],y=c[v];void 0!==y&&(p.style[v]=y)}n[i]=p,t.appendChild(e.createElement("br")),t.appendChild(p)}for(var m=0,E=Object.keys(Xo);m<E.length;m++){r[i=E[m]]=n[i].getBoundingClientRect().width}return r}))},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(Io()&&!Ao()&&!function(){var e=window;return Eo(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),r=n.createOscillator();r.type="triangle",r.frequency.value=1e4;var a=n.createDynamicsCompressor();a.threshold.value=-50,a.knee.value=40,a.ratio.value=12,a.attack.value=0,a.release.value=.25,r.connect(a),a.connect(n.destination),r.start(0);var o=function(e){var t=3,n=500,r=500,a=5e3,o=function(){};return[new Promise((function(i,l){var u=!1,c=0,s=0;e.oncomplete=function(e){return i(e.renderedBuffer)};var d=function(){setTimeout((function(){return l(Lo("timeout"))}),Math.min(r,s+a-Date.now()))},p=function(){try{var r=e.startRendering();switch(ro(r)&&io(r),e.state){case"running":s=Date.now(),u&&d();break;case"suspended":document.hidden||c++,u&&c>=t?l(Lo("suspended")):setTimeout(p,n)}}catch(e){l(e)}};p(),o=function(){u||(u=!0,s>0&&d())}})),o]}(n),i=o[0],l=o[1],u=i.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return io(u),function(){return l(),u}},screenFrame:function(){var e=this,t=Wo();return function(){return Qa(e,void 0,void 0,(function(){var e,n;return $a(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,[(n=function(e){return null===e?null:go(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],r=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==r&&n.push([r]),Array.isArray(t.languages))To()&&Eo([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var a=t.languages;a&&n.push(a.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return mo(yo(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return mo(vo(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return mo(vo(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,a=(r=(new Date).getFullYear(),-Math.max(yo(new Date(r,0,1).getTimezoneOffset()),yo(new Date(r,6,1).getTimezoneOffset())));return"UTC".concat(a>=0?"+":"").concat(Math.abs(a))},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){var e,t;if(!(So()||(e=window,t=navigator,Eo(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!So())))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&Io()&&!Ao()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return Eo(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var a=[],o=0;o<r.length;++o){var i=r[o];a.push({type:i.type,suffixes:i.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:a})}}return t}},canvas:function(){var e,t,n=!1,r=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),a=r[0],o=r[1];if(function(e,t){return!(!t||!e.toDataURL)}(a,o)){n=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(o),function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(a,o);var i=ko(a);i!==ko(a)?e=t="unstable":(t=i,function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var a=r[n],o=a[0],i=a[1],l=a[2];t.fillStyle=o,t.beginPath(),t.arc(i,l,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(a,o),e=ko(a))}else e=t="";return{winding:n,geometry:e,text:t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=vo(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],a=window[r];a&&"object"==typeof a&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!Bo("inverted")||!Bo("none")&&void 0},forcedColors:function(){return!!jo("active")||!jo("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return Zo("no-preference")?0:Zo("high")||Zo("more")?1:Zo("low")||Zo("less")?-1:Zo("forced")?10:void 0},reducedMotion:function(){return!!zo("reduce")||!zo("no-preference")&&void 0},hdr:function(){return!!Yo("high")||!Yo("standard")&&void 0},math:function(){var e,t=qo.acos||Ko,n=qo.acosh||Ko,r=qo.asin||Ko,a=qo.asinh||Ko,o=qo.atanh||Ko,i=qo.atan||Ko,l=qo.sin||Ko,u=qo.sinh||Ko,c=qo.cos||Ko,s=qo.cosh||Ko,d=qo.tan||Ko,p=qo.tanh||Ko,f=qo.exp||Ko,h=qo.expm1||Ko,v=qo.log1p||Ko;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,qo.log(e+qo.sqrt(e*e-1))),asin:r(.12312423423423424),asinh:a(1),asinhPf:function(e){return qo.log(e+qo.sqrt(e*e+1))}(1),atanh:o(.5),atanhPf:function(e){return qo.log((1+e)/(1-e))/2}(.5),atan:i(.5),sin:l(-1e300),sinh:u(1),sinhPf:function(e){return qo.exp(e)-1/qo.exp(e)/2}(1),cos:c(10.000000000123),cosh:s(1),coshPf:function(e){return(qo.exp(e)+1/qo.exp(e))/2}(1),tan:d(-1e300),tanh:p(1),tanhPf:function(e){return(qo.exp(2*e)-1)/(qo.exp(2*e)+1)}(1),exp:f(1),expm1:h(1),expm1Pf:function(e){return qo.exp(e)-1}(1),log1p:v(10),log1pPf:function(e){return qo.log(1+e)}(10),powPI:function(e){return qo.pow(qo.PI,e)}(-100)}},videoCard:function(){var e,t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getExtension"in n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r)return{vendor:(n.getParameter(r.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}};function Qo(e){var t=function(e){if(No())return.4;if(Io())return Ao()?.5:.3;var t=e.platform.value||"";if(/^Win/.test(t))return.6;if(/^Mac/.test(t))return.5;return.7}(e),n=function(e){return go(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,"".concat(n))}}function $o(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?function(e){var t;return Ja({name:e.name,message:e.message,stack:null===(t=e.stack)||void 0===t?void 0:t.split("\n")},e)}(t):t}),2)}function ei(e){return ho(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var a=r[n],o=e[a],i=o.error?"error":JSON.stringify(o.value);t+="".concat(t?"|":"").concat(a.replace(/([:|\\])/g,"\\$1"),":").concat(i)}return t}(e))}function ti(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):no(Math.min(e,t))}(e,2*e)}function ni(e,t){var n=Date.now();return{get:function(r){return Qa(this,void 0,void 0,(function(){var a,o,i;return $a(this,(function(l){switch(l.label){case 0:return a=Date.now(),[4,e()];case 1:return o=l.sent(),i=function(e){var t;return{get visitorId(){return void 0===t&&(t=ei(this.components)),t},set visitorId(e){t=e},confidence:Qo(e),components:e,version:to}}(o),(t||(null==r?void 0:r.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(i.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(a-n,"\nvisitorId: ").concat(i.visitorId,"\ncomponents: ").concat($o(o),"\n```")),[2,i]}}))}))}}}var ri,ai={load:function(e){var t=void 0===e?{}:e,n=t.delayFallback,r=t.debug,a=t.monitoring,o=void 0===a||a;return Qa(this,void 0,void 0,(function(){return $a(this,(function(e){switch(e.label){case 0:return o&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(to,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),[4,ti(n)];case 1:return e.sent(),[2,ni(_o(Jo,{debug:r},[]),r)]}}))}))},hashComponents:ei,componentsToDebugString:$o},oi={common:["CommonUI.Messages"],feature:"Feature.ProofOfWorkChallenge"},ii=["Description.VerificationError","Description.VerificationSuccess","Description.VerifyingYouAreNotBot"],li="accountSecurityChallengeProofOfWorkEvent",ui={challengeInitialized:"challengeInitialized",puzzleInitialized:"puzzleInitialized",puzzleCompleted:"puzzleCompleted",challengeCompleted:"challengeCompleted",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned"},ci={challengeInitialized:"ChallengeInitialized",puzzleInitialized:"PuzzleInitialized",puzzleCompleted:"PuzzleCompleted",challengeCompleted:"ChallengeCompleted",challengeInvalidated:"ChallengeInvalidated",challengeAbandoned:"ChallengeAbandoned"},si={puzzleWorkingTime:"PuzzleWorkingTime",challengeSolveTime:"ChallengeSolveTime"},di=n(135),pi=n.n(di),fi=function(){function e(e){this.n=pi()(e.N),this.a=pi()(e.A),this.t=e.T,this.curBase=this.a,this.curT=0,this.isCancelled=!1}return e.prototype.run=function(e,t){for(var n=Math.max(1,this.t/1e3);!this.isDone();)this.doRepeatedSquaring(n),e(this.progress());t(this.answer())},e.prototype.runAsync=function(e,t,n){var r=this,a=function(){r.doRepeatedSquaring(n||200),e(r.progress()),r.isCancelled||(r.isDone()?t(r.answer()):setTimeout(a,0))};setTimeout(a,0)},e.prototype.cancelRunAsync=function(){this.isCancelled=!0},e.prototype.doRepeatedSquaring=function(e){for(var t=void 0!==e?Math.min(this.t,this.curT+e):this.t;this.curT<t;this.curT+=1)this.curBase=this.curBase.square().mod(this.n)},e.prototype.answer=function(){return this.isDone()?this.curBase.toString():null},e.prototype.progress=function(){return this.curT/this.t},e.prototype.isDone=function(){return this.curT===this.t},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_INVALID=1]="SESSION_INVALID",e[e.ANSWER_INVALID=2]="ANSWER_INVALID",e[e.WORKER_LOAD_ERROR=3]="WORKER_LOAD_ERROR"}(ri||(ri={}));var hi,vi,yi=function(e){switch(e){case ft.SESSION_INACTIVE:return ri.SESSION_INVALID;default:return ri.UNKNOWN}};!function(e){e[e.INITIAL=0]="INITIAL",e[e.READY_TO_COMPUTE=1]="READY_TO_COMPUTE",e[e.COMPUTING=2]="COMPUTING",e[e.COMPUTING_DONE=3]="COMPUTING_DONE",e[e.VERIFIED_CORRECT=4]="VERIFIED_CORRECT",e[e.VERIFIED_INCORRECT=5]="VERIFIED_INCORRECT"}(hi||(hi={})),function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.HIDE_MODAL_CHALLENGE=2]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=3]="SHOW_MODAL_CHALLENGE"}(vi||(vi={}));var mi,Ei,gi,bi=function(){return(bi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ci=function(e,t){var n=bi({},e);switch(t.type){case vi.SET_CHALLENGE_COMPLETED:return n.onChallengeCompletedData=t.onChallengeCompletedData,n.isModalVisible=!1,n;case vi.SET_CHALLENGE_INVALIDATED:return n.onChallengeInvalidatedData=t.onChallengeInvalidatedData,n.isModalVisible=!1,n;case vi.HIDE_MODAL_CHALLENGE:return n.isModalVisible=!1,n;case vi.SHOW_MODAL_CHALLENGE:return n.isModalVisible=!0,n;default:return e}},_i=(0,Q.createContext)(null),Si=function(e){var t=e.sessionId,n=e.renderInline,r=e.eventService,a=e.metricsService,o=e.requestService,i=e.translate,l=e.onChallengeDisplayed,u=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned,d=e.children,p=(0,Q.useState)((function(){return function(e){return{Description:{VerificationError:e("Description.VerificationError"),VerificationSuccess:e("Description.VerificationSuccess"),VerifyingYouAreNotBot:e("Description.VerifyingYouAreNotBot")}}}(i)}))[0],f=(0,Q.useState)((function(){return{sessionId:t,renderInline:n,resources:p,eventService:r,metricsService:a,requestService:o,onChallengeDisplayed:l,onModalChallengeAbandoned:s,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!1}}))[0],h=(0,Q.useReducer)(Ci,f),v=h[0],y=h[1];return(0,Q.useEffect)((function(){null!==v.onChallengeCompletedData&&null===v.onChallengeInvalidatedData&&(r.sendChallengeCompletedEvent(),a.fireChallengeCompletedEvent(),u(v.onChallengeCompletedData))}),[r,a,v.onChallengeCompletedData,v.onChallengeInvalidatedData,u]),(0,Q.useEffect)((function(){null!==v.onChallengeInvalidatedData&&null===v.onChallengeCompletedData&&(r.sendChallengeInvalidatedEvent(),a.fireChallengeInvalidatedEvent(),c(v.onChallengeInvalidatedData))}),[r,a,v.onChallengeCompletedData,v.onChallengeInvalidatedData,c]),$().createElement(_i.Provider,{value:{state:v,dispatch:y}},d)},Ti=function(){var e=(0,Q.useContext)(_i);if(null===e)throw new Error("ProofOfWorkContext was not provided in the current scope");return e},Ii=(null!==(mi=w.EnvironmentUrls.websiteUrl)&&void 0!==mi?mi:"URL_NOT_FOUND")+"/worker-resources/script/?component=ChallengeWebWorkers",Ai=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},wi=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ni=function(e){return e.toFixed(0)+"%"},Li=function(){var e=Ti(),t=e.state,n=t.sessionId,r=t.renderInline,a=t.resources,o=t.eventService,i=t.metricsService,l=t.requestService,u=t.onChallengeDisplayed,c=t.onModalChallengeAbandoned,s=t.isModalVisible,d=e.dispatch,p=(0,Q.useState)(null),f=p[0],h=p[1],v=(0,Q.useState)(null),y=v[0],m=v[1],E=(0,Q.useState)(hi.INITIAL),g=E[0],b=E[1],C=(0,Q.useState)(0),_=C[0],S=C[1],T=(0,Q.useRef)(null),I=(0,Q.useRef)(null),A=(0,Q.useRef)(null),w=(0,Q.useCallback)((function(){A.current=setTimeout((function(){d({type:vi.SHOW_MODAL_CHALLENGE}),u({displayed:!0})}),5e3)}),[d,u]),N=function(){h(null),m(null),b(hi.INITIAL)},L=function(){return Ai(void 0,void 0,void 0,(function(){var e;return wi(this,(function(t){switch(t.label){case 0:N();try{T.current=new Worker(Ii)}catch(e){T.current=null}return[4,l.proofOfWork.getPuzzle(n)];case 1:return(e=t.sent()).isError?(d({type:vi.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:ri.UNKNOWN,errorMessage:a.Description.VerificationError}}),[2]):(h(e.value.artifacts),b(hi.READY_TO_COMPUTE),[2])}}))}))},D=function(){return Ai(void 0,void 0,void 0,(function(){return wi(this,(function(e){switch(e.label){case 0:switch(g){case hi.READY_TO_COMPUTE:return[3,1];case hi.COMPUTING_DONE:return[3,2]}return[3,4];case 1:return o.sendPuzzleInitializedEvent(),i.firePuzzleInitializedEvent(),w(),function(){if(null==f||g!==hi.READY_TO_COMPUTE)return b(hi.VERIFIED_INCORRECT),void d({type:vi.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:ri.UNKNOWN,errorMessage:a.Description.VerificationError}});if(null==T.current){var e=JSON.parse(f);return I.current=new fi(e),b(hi.COMPUTING),void I.current.runAsync((function(e){S(e)}),(function(e){m(e),b(hi.COMPUTING_DONE)}))}b(hi.COMPUTING),T.current.onmessage=function(e){var t="object"==typeof e.data?e.data:JSON.parse(e.data);S(t.progress),t.answer&&(m(t.answer),b(hi.COMPUTING_DONE))},T.current.postMessage(f)}(),[3,5];case 2:return o.sendPuzzleCompletedEvent(),i.firePuzzleCompletedEvent(),clearTimeout(A.current||void 0),[4,Ai(void 0,void 0,void 0,(function(){var e;return wi(this,(function(t){switch(t.label){case 0:return null==y?[2]:[4,l.proofOfWork.verifyPuzzle(n,y)];case 1:return(e=t.sent()).isError?(d({type:vi.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:yi(e.error),errorMessage:a.Description.VerificationError}}),[2]):(e.value.answerCorrect?(b(hi.VERIFIED_CORRECT),d({type:vi.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{redemptionToken:e.value.redemptionToken}})):(b(hi.VERIFIED_INCORRECT),d({type:vi.SET_CHALLENGE_INVALIDATED,onChallengeInvalidatedData:{errorCode:ri.ANSWER_INVALID,errorMessage:a.Description.VerificationError}})),[2])}}))}))];case 3:return e.sent(),[3,5];case 4:return[3,5];case 5:return[2]}}))}))},O=function(){d({type:vi.HIDE_MODAL_CHALLENGE}),T.current&&T.current.terminate(),I.current&&I.current.cancelRunAsync(),N(),null!==c&&c((function(){return d({type:vi.SHOW_MODAL_CHALLENGE})}))};(0,Q.useEffect)((function(){return L(),function(){T.current&&(T.current.terminate(),T.current=null),I.current&&(I.current.cancelRunAsync(),I.current=null),N()}}),[]),(0,Q.useEffect)((function(){D()}),[g]);var R=function(){var e=r?ta:$r.Modal.Body,t=100*(_||0);return $().createElement($().Fragment,null,$().createElement(e,null,$().createElement("div",{className:"pow-body"},$().createElement($r.ProgressBar,{now:t,label:Ni(t),striped:!0}))))};return r?$().createElement(ea,{titleText:a.Description.VerifyingYouAreNotBot},R()):$().createElement($r.Modal,{className:"modal-modern modal-modern-challenge-proof-of-work",show:s,onHide:O,backdrop:"static"},$().createElement(Ma,{headerText:a.Description.VerifyingYouAreNotBot,buttonType:sa.CLOSE,buttonAction:O,buttonEnabled:!0,headerInfo:null}),R())},Di=(0,Br.withTranslations)((function(e){var t=e.sessionId,n=e.renderInline,r=e.eventService,a=e.metricsService,o=e.requestService,i=e.translate,l=e.onChallengeDisplayed,u=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned;return $().createElement(Si,{sessionId:t,renderInline:n,eventService:r,metricsService:a,requestService:o,translate:i,onChallengeDisplayed:l,onChallengeCompleted:u,onChallengeInvalidated:c,onModalChallengeAbandoned:s},$().createElement(Li,null))}),oi),Oi=function(){function e(e){this.sessionId=e}return e.prototype.sendChallengeInitializedEvent=function(){N().EventStream.SendEventWithTarget(li,ui.challengeInitialized,{sessionId:this.sessionId},N().EventStream.TargetTypes.WWW)},e.prototype.sendPuzzleInitializedEvent=function(){N().EventStream.SendEventWithTarget(li,ui.puzzleInitialized,{sessionId:this.sessionId},N().EventStream.TargetTypes.WWW)},e.prototype.sendPuzzleCompletedEvent=function(){N().EventStream.SendEventWithTarget(li,ui.puzzleCompleted,{sessionId:this.sessionId},N().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeCompletedEvent=function(){N().EventStream.SendEventWithTarget(li,ui.challengeCompleted,{sessionId:this.sessionId},N().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(){N().EventStream.SendEventWithTarget(li,ui.challengeInvalidated,{sessionId:this.sessionId},N().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeAbandonedEvent=function(){N().EventStream.SendEventWithTarget(li,ui.challengeAbandoned,{sessionId:this.sessionId},N().EventStream.TargetTypes.WWW)},e}(),Ri=function(){function e(e,t){this.appType=e||"unknown",this.requestServiceDefault=t,this.eventTimer=new Sa,this.challengeSolveTimeSequenceName="ProofOfWork_"+si.challengeSolveTime,this.puzzleWorkingTimeSequenceName="ProofOfWork_"+si.puzzleWorkingTime}return e.prototype.fireChallengeInitializedEvent=function(){this.fireEvent(ci.challengeInitialized),Ta&&Ta.start(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.eventTimer.start(this.challengeSolveTimeSequenceName)},e.prototype.firePuzzleInitializedEvent=function(){this.fireEvent(ci.puzzleInitialized),Ta&&Ta.start(this.puzzleWorkingTimeSequenceName,this.puzzleWorkingTimeSequenceName+"_"+this.appType),this.eventTimer.start(this.puzzleWorkingTimeSequenceName)},e.prototype.firePuzzleCompletedEvent=function(){this.fireEvent(ci.puzzleCompleted),Ta&&Ta.endSuccess(this.puzzleWorkingTimeSequenceName,this.puzzleWorkingTimeSequenceName+"_"+this.appType);var e=this.eventTimer.end(this.puzzleWorkingTimeSequenceName);null!==e&&this.requestServiceDefault.metrics.recordMetric({name:Pr.PuzzleComputeTimePow,value:e,labelValues:{event_type:"ProofOfWork_"+ci.puzzleCompleted,application_type:this.appType}}).catch((function(){}))},e.prototype.fireChallengeCompletedEvent=function(){this.fireEvent(ci.challengeCompleted),Ta&&Ta.endSuccess(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(ci.challengeCompleted)},e.prototype.fireChallengeInvalidatedEvent=function(){this.fireEvent(ci.challengeInvalidated),Ta&&Ta.endFailure(this.challengeSolveTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(ci.challengeInvalidated)},e.prototype.fireChallengeAbandonedEvent=function(){this.fireEvent(ci.challengeAbandoned),Ta&&Ta.endCancel(this.challengeSolveTimeSequenceName,this.puzzleWorkingTimeSequenceName,this.challengeSolveTimeSequenceName+"_"+this.appType,this.puzzleWorkingTimeSequenceName+"_"+this.appType),this.fireSolveTimeEvent(ci.challengeAbandoned)},e.prototype.fireEvent=function(e){if(Ta){var t="ProofOfWork_"+e;Ta.fireEvent(t,t+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Pr.EventPow,value:1,labelValues:{event_type:"ProofOfWork_"+e,application_type:this.appType}}).catch((function(){}))},e.prototype.fireSolveTimeEvent=function(e){var t=this.eventTimer.end(this.challengeSolveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Pr.SolveTimePow,value:t,labelValues:{event_type:"ProofOfWork_"+e,application_type:this.appType}}).catch((function(){}))},e}(),Pi=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Mi=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ki=new Fr,xi=function(e){var t=e.containerId,n=e.sessionId,r=e.appType,a=e.renderInline,o=e.shouldDynamicallyLoadTranslationResources,i=e.onChallengeDisplayed,l=e.onChallengeCompleted,u=e.onChallengeInvalidated,c=e.onModalChallengeAbandoned;return Pi(void 0,void 0,void 0,(function(){var e,s,d,p,f;return Mi(this,(function(h){switch(h.label){case 0:return null===(e=document.getElementById(t))?[3,3]:((0,ee.unmountComponentAtNode)(e),o?[4,ki.translations.queryAndOverwriteResourcesForNamespace(oi.feature,ii)]:[3,2]);case 1:if((s=h.sent()).isError)return console.error("Proof-of-Work:","Got error code "+((null===(f=s.error)||void 0===f?void 0:f.toString())||"null")+" loading translations"),[2,!1];h.label=2;case 2:return d=new Oi(n),p=new Ri(r,ki),(0,ee.render)($().createElement(Di,{sessionId:n,renderInline:a,eventService:d,metricsService:p,requestService:ki,onChallengeDisplayed:i,onChallengeCompleted:l,onChallengeInvalidated:u,onModalChallengeAbandoned:c}),e),d.sendChallengeInitializedEvent(),p.fireChallengeInitializedEvent(),[2,!0];case 3:return[2,!1]}}))}))},Vi={common:[],feature:"Feature.Reauthentication"},Wi=["Action.ForgotYourPassword","Action.PleaseTryAgain","Action.Verify","Description.EnterYourPassword","Header.PasswordVerification","Label.YourPassword","Message.Error.Default","Message.Error.PasswordIncorrect"],Ui=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Hi=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Gi=function(e,t){return function(n){return Ui(void 0,void 0,Promise,(function(){return Hi(this,(function(r){switch(r.label){case 0:return"Enter"===n.key&&t?(n.preventDefault(),n.stopPropagation(),[4,e()]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}},Fi=function(){return Promise.resolve(null)},Bi=function(e,t,n,r,a,o){return function(i){return Ui(void 0,void 0,Promise,(function(){var l,u;return Hi(this,(function(c){switch(c.label){case 0:return l=i.currentTarget.value,void 0===t||t.test(l)||(l=e),void 0!==o&&o(l),r(l),u=a,[4,n(l)];case 1:return u.apply(void 0,[c.sent()]),[2]}}))}))}},ji=function(e){var t=e.id,n=e.inputType,r=e.placeholder,a=e.disabled,o=e.value,i=e.error,l=e.canSubmit,u=e.validate,c=e.setValue,s=e.setError,d=e.handleSubmit,p=e.onChange,f=e.label,h=e.bottomLabel,v=e.inputMode,y=e.autoComplete,m=e.maxLength,E=e.validCharactersRegEx,g=e.hideFeedback,b=e.concealInput,C=""!==o&&null===i,_=""!==o&&null!==i,S=C||_;return $().createElement("div",{className:"input-control-wrapper"},f&&$().createElement("label",{className:"text-label xsmall",htmlFor:t},f),$().createElement($r.FormGroup,{controlId:t,className:(S?"form-has-feedback":"")+" "+(C?"form-has-success":"")+" "+(_?"form-has-error":"")},$().createElement($r.FormControl,{as:"input",className:"input-field"+(b&&o.length>0?" input-field-concealed":""),type:n,inputMode:v,autoComplete:y,maxLength:m,disabled:a,value:o,placeholder:r,onChange:Bi(o,E,u,c,s,p),onKeyDown:Gi(d,l)}),!a&&!g&&C&&$().createElement("span",{className:"icon-checkmark-on"}),!a&&!g&&_&&$().createElement("span",{className:"icon-close"}),$().createElement("div",{className:"form-control-label bottom-label xsmall"},!a&&_?i:h||" ")))};!function(e){e[e.UNKNOWN=0]="UNKNOWN"}(Ei||(Ei={})),function(e){e.Password="Password",e.Email="Email"}(gi||(gi={}));var Zi;!function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.HIDE_MODAL_CHALLENGE=2]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=3]="SHOW_MODAL_CHALLENGE"}(Zi||(Zi={}));var zi,Yi=function(){return(Yi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},qi=function(e,t){var n,r=Yi({},e);switch(t.type){case Zi.SET_CHALLENGE_COMPLETED:return r.onChallengeCompletedData=t.onChallengeCompletedData,r.isModalVisible=!1,r;case Zi.SET_CHALLENGE_INVALIDATED:return r.onChallengeInvalidatedData={errorCode:t.errorCode,errorMessage:(n=e.resources,t.errorCode,n.Message.Error.Default)},r.isModalVisible=!1,r;case Zi.HIDE_MODAL_CHALLENGE:return r.isModalVisible=!1,r;case Zi.SHOW_MODAL_CHALLENGE:return r.isModalVisible=!0,r;default:return e}},Ki=(0,Q.createContext)(null),Xi=function(e){var t=e.renderInline,n=e.requestService,r=e.defaultType,a=e.availableTypes,o=e.translate,i=e.onChallengeCompleted,l=e.onChallengeInvalidated,u=e.onModalChallengeAbandoned,c=e.children,s=(0,Q.useState)((function(){return function(e){return{Action:{ForgotYourPassword:function(t,n){return e("Action.ForgotYourPassword",{linkStart:t,linkEnd:n})},PleaseTryAgain:e("Action.PleaseTryAgain"),Verify:e("Action.Verify")},Description:{EnterYourPassword:e("Description.EnterYourPassword")},Header:{PasswordVerification:e("Header.PasswordVerification")},Label:{YourPassword:e("Label.YourPassword")},Message:{Error:{Default:e("Message.Error.Default"),PasswordIncorrect:e("Message.Error.PasswordIncorrect")}}}}(o)}))[0],d=(0,Q.useState)((function(){return{renderInline:t,resources:s,requestService:n,defaultType:r,availableTypes:a,onModalChallengeAbandoned:u,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!0}}))[0],p=(0,Q.useReducer)(qi,d),f=p[0],h=p[1];return(0,Q.useEffect)((function(){null!==f.onChallengeCompletedData&&null===f.onChallengeInvalidatedData&&i(f.onChallengeCompletedData)}),[f.onChallengeCompletedData,f.onChallengeInvalidatedData,i]),(0,Q.useEffect)((function(){null!==f.onChallengeInvalidatedData&&null===f.onChallengeCompletedData&&l(f.onChallengeInvalidatedData)}),[f.onChallengeCompletedData,f.onChallengeInvalidatedData,l]),$().createElement(Ki.Provider,{value:{state:f,dispatch:h}},c)},Ji=function(){var e=(0,Q.useContext)(Ki);if(null===e)throw new Error("ReauthenticationContext was not provided in the current scope");return e},Qi=function(){var e=Ji().state.resources.Action.ForgotYourPassword('<a class="text-name text-footer" href="https://en.help.roblox.com/hc/articles/203313070-I-Forgot-My-Password" target="_blank">',"</a>");return $().createElement("span",{dangerouslySetInnerHTML:{__html:e}})},$i=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},el=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},tl=function(){var e=Ji(),t=e.state,n=t.renderInline,r=t.resources,a=t.requestService,o=t.onModalChallengeAbandoned,i=t.isModalVisible,l=e.dispatch,u=(0,Q.useState)(""),c=u[0],s=u[1],d=(0,Q.useState)(!1),p=d[0],f=d[1],h=(0,Q.useState)(null),v=h[0],y=h[1],m=function(){return y(null)},E=function(){l({type:Zi.HIDE_MODAL_CHALLENGE}),null!==o&&o((function(){return l({type:Zi.SHOW_MODAL_CHALLENGE})}))},g=function(){return $i(void 0,void 0,void 0,(function(){var e;return el(this,(function(t){switch(t.label){case 0:return f(!0),[4,a.reauthentication.generateToken(c)];case 1:return(e=t.sent()).isError?(y(function(e,t){switch(t){case St.PASSWORD_INCORRECT:return e.Message.Error.PasswordIncorrect;default:return e.Message.Error.Default}}(r,e.error)+" "+r.Action.PleaseTryAgain),f(!1),[2]):(y(null),l({type:Zi.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{reauthenticationToken:e.value.token}}),[2])}}))}))},b={content:p?$().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):r.Action.Verify,label:r.Action.Verify,enabled:!p&&c.length>0,action:g},C=function(){var e=n?ta:$r.Modal.Body,t=n?Da:Oa,a=n?"inline-challenge-lock-icon":"modal-lock-icon",o=n?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";return $().createElement($().Fragment,null,$().createElement(e,null,$().createElement("div",{className:a}),$().createElement("p",{className:o},r.Description.EnterYourPassword),$().createElement(ji,{id:"reauthentication-password-input",inputType:"password",disabled:p,value:c,setValue:s,error:v,setError:y,validate:Fi,canSubmit:c.length>0,handleSubmit:g,onChange:m,autoComplete:"off",placeholder:r.Label.YourPassword,hideFeedback:!0}),$().createElement("p",null,$().createElement(Qi,null))),$().createElement(t,{positiveButton:b,negativeButton:null}))};return n?$().createElement(ea,{titleText:r.Header.PasswordVerification},C()):$().createElement($r.Modal,{className:"modal-modern",show:i,onHide:E,backdrop:"static"},$().createElement(Ma,{headerText:r.Header.PasswordVerification,buttonType:sa.CLOSE,buttonAction:E,buttonEnabled:!p,headerInfo:null}),C())},nl=(0,Br.withTranslations)((function(e){var t=e.renderInline,n=e.requestService,r=e.defaultType,a=e.availableTypes,o=e.translate,i=e.onChallengeCompleted,l=e.onChallengeInvalidated,u=e.onModalChallengeAbandoned;return $().createElement(Xi,{renderInline:t,requestService:n,translate:o,defaultType:r,availableTypes:a,onChallengeCompleted:i,onChallengeInvalidated:l,onModalChallengeAbandoned:u},$().createElement(tl,null))}),Vi),rl=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},al=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ol=new Fr,il=function(e){var t=e.containerId,n=e.renderInline,r=e.shouldDynamicallyLoadTranslationResources,a=e.defaultType,o=e.availableTypes,i=e.onChallengeCompleted,l=e.onChallengeInvalidated,u=e.onModalChallengeAbandoned;return rl(void 0,void 0,void 0,(function(){var e,c,s;return al(this,(function(d){switch(d.label){case 0:return null===(e=document.getElementById(t))?[3,3]:((0,ee.unmountComponentAtNode)(e),r?[4,ol.translations.queryAndOverwriteResourcesForNamespace(Vi.feature,Wi)]:[3,2]);case 1:if((c=d.sent()).isError)return console.error("Re-authentication:","Got error code "+((null===(s=c.error)||void 0===s?void 0:s.toString())||"null")+" loading translations"),[2,!1];d.label=2;case 2:return(0,ee.render)($().createElement(nl,{renderInline:n,requestService:ol,defaultType:a,availableTypes:o,onChallengeCompleted:i,onChallengeInvalidated:l,onModalChallengeAbandoned:u}),e),[2,!0];case 3:return[2,!1]}}))}))},ll="Security Questions:",ul={common:["CommonUI.Messages"],feature:"Feature.SecurityQuestions"},cl="securityQuestionsEvent",sl={answerChoicesFailedToLoad:"answerChoicesFailedToLoad"},dl={initialized:"Initialized",errored:"Errored",solved:"Solved",incorrect:"Incorrect",failed:"Failed"},pl=["Action.OK"],fl=["Action.Confirm","Action.Continue","Action.PickN","Action.PleaseTryAgain","Action.Reload","Action.SelectAllThatApply","Description.RegainAccess","Description.RegainAccessGeneric","Description.UnknownChoice","Description.VerifyYourIdentity","Description.WhichGames","Description.YourPasswordHasBeenReset","Header.PleaseConfirmYourIdentity","Message.Error.AnswerIncorrect","Message.Error.Default","Message.Error.MustPickN","Message.Error.SecurityQuestions.SessionInactive","Message.Error.SecurityQuestions.UserWasForceReset"],hl=function(e){return new Promise((function(t){return setTimeout((function(){return t(void 0)}),e)}))};!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_EXPIRED=1]="SESSION_EXPIRED",e[e.USER_WAS_FORCE_RESET=2]="USER_WAS_FORCE_RESET"}(zi||(zi={}));var vl,yl=function(e,t){switch(t){case zi.USER_WAS_FORCE_RESET:return e.Message.Error.SecurityQuestions.UserWasForceReset;case zi.SESSION_EXPIRED:return e.Message.Error.SecurityQuestions.SessionInactive;default:return e.Message.Error.Default}},ml=function(e,t){switch(t){case Rt.SESSION_INACTIVE:return e.Message.Error.SecurityQuestions.SessionInactive;default:return e.Message.Error.Default}},El=function(e){switch(e){case Rt.SESSION_INACTIVE:return zi.SESSION_EXPIRED;default:return zi.UNKNOWN}};!function(e){e[e.SET_CHALLENGE_COMPLETED=0]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=1]="SET_CHALLENGE_INVALIDATED",e[e.HIDE_MODAL_CHALLENGE=2]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=3]="SHOW_MODAL_CHALLENGE"}(vl||(vl={}));var gl,bl,Cl,_l=function(){return(_l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Sl=function(e,t){var n=_l({},e);switch(t.type){case vl.SET_CHALLENGE_COMPLETED:return n.onChallengeCompletedData=t.onChallengeCompletedData,n.isModalVisible=!1,n;case vl.SET_CHALLENGE_INVALIDATED:return n.onChallengeInvalidatedData={errorCode:t.errorCode,errorMessage:yl(e.resources,t.errorCode)},n.isModalVisible=!1,n;case vl.HIDE_MODAL_CHALLENGE:return n.isModalVisible=!1,n;case vl.SHOW_MODAL_CHALLENGE:return n.isModalVisible=!0,n;default:return e}},Tl=(0,Q.createContext)(null),Il=function(e){var t=e.userId,n=e.sessionId,r=e.renderInline,a=e.eventService,o=e.metricsService,i=e.requestService,l=e.translate,u=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned,d=e.children,p=(0,Q.useState)((function(){return function(e){return{Action:{Confirm:e("Action.Confirm"),Continue:e("Action.Continue"),Ok:e("Action.OK"),PickN:function(t){return e("Action.PickN",{count:t})},PleaseTryAgain:e("Action.PleaseTryAgain"),Reload:e("Action.Reload"),SelectAllThatApply:e("Action.SelectAllThatApply")},Description:{RegainAccessGeneric:function(t){return e("Description.RegainAccessGeneric",{styledLinkText:t})},UnknownChoice:e("Description.UnknownChoice"),VerifyYourIdentity:e("Description.VerifyYourIdentity"),WhichGames:e("Description.WhichGames",{days:7}),YourPasswordHasBeenReset:e("Description.YourPasswordHasBeenReset")},Header:{PleaseConfirmYourIdentity:e("Header.PleaseConfirmYourIdentity")},Message:{Error:{AnswerIncorrect:e("Message.Error.AnswerIncorrect"),Default:e("Message.Error.Default"),MustPickN:e("Message.Error.MustPickN"),SecurityQuestions:{SessionInactive:e("Message.Error.SecurityQuestions.SessionInactive"),UserWasForceReset:e("Message.Error.SecurityQuestions.UserWasForceReset")}}}}}(l)}))[0],f=(0,Q.useState)((function(){return{userId:t,sessionId:n,renderInline:r,resources:p,eventService:a,metricsService:o,requestService:i,onModalChallengeAbandoned:s,onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!0}}))[0],h=(0,Q.useReducer)(Sl,f),v=h[0],y=h[1];return(0,Q.useEffect)((function(){null!==v.onChallengeCompletedData&&null===v.onChallengeInvalidatedData&&u(v.onChallengeCompletedData)}),[v.onChallengeCompletedData,v.onChallengeInvalidatedData,u]),(0,Q.useEffect)((function(){null!==v.onChallengeInvalidatedData&&null===v.onChallengeCompletedData&&c(v.onChallengeInvalidatedData)}),[v.onChallengeCompletedData,v.onChallengeInvalidatedData,c]),$().createElement(Tl.Provider,{value:{state:v,dispatch:y}},d)},Al=function(){var e=(0,Q.useContext)(Tl);if(null===e)throw new Error("SecurityQuestionsContext was not provided in the current scope");return e},wl=function(e){var t=e.setSelected,n=e.caption,r=e.imageUrl,a=e.selected,o=Al().state.resources,i="answer-choice-image"+(a?" answer-choice-selected":""),l=n||o.Description.UnknownChoice,u=function(){return t(!a)};return $().createElement("div",{className:"answer-choice"},$().createElement("div",{className:i,role:"checkbox","aria-checked":a,onClick:function(e){u(),e.currentTarget.blur()},onKeyDown:function(e){"Enter"===e.key&&u()},tabIndex:0},null!==r?$().createElement("img",{src:r,alt:l}):$().createElement("div",{className:"answer-choice-img-placeholder"},l)),$().createElement("div",{className:"answer-choice-caption xsmall"},l))},Nl=function(){return(Nl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ll=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Dl=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ol=function(){var e,t=Al(),n=t.state,r=n.userId,a=n.sessionId,o=n.renderInline,i=n.resources,l=n.eventService,u=n.metricsService,c=n.requestService,s=n.onModalChallengeAbandoned,d=n.isModalVisible,p=t.dispatch,f=(0,Q.useState)(),h=f[0],v=f[1],y=(0,Q.useState)(null),m=y[0],E=y[1],g=(0,Q.useState)(null),b=g[0],C=g[1],_=(0,Q.useState)(null),S=_[0],T=_[1],I=(0,Q.useState)(!1),A=I[0],w=I[1],N=(0,Q.useState)(null),L=N[0],D=N[1],O=(0,Q.useState)(!1),R=O[0],P=O[1],M=(0,Q.useState)(!1),k=M[0],x=M[1],V=function(){v(null),E(null),C(null)},W=function(){p({type:vl.HIDE_MODAL_CHALLENGE}),null!==s&&s((function(){return p({type:vl.SHOW_MODAL_CHALLENGE})}))},U=function(e){return function(t){var n;null!==b&&void 0!==b[e]&&C(Nl(Nl({},b),((n={})[e]=Nl(Nl({},b[e]),{selected:t}),n)))}};e=function(){return Ll(void 0,void 0,void 0,(function(){var e,t,n,o,u,s,d,f,h;return Dl(this,(function(y){switch(y.label){case 0:return T(null),[4,c.securityQuestions.getQuestion(r,a)];case 1:return(e=y.sent()).isError?(e.error===Rt.SESSION_INACTIVE?p({type:vl.SET_CHALLENGE_INVALIDATED,errorCode:El(e.error)}):T(ml(i,e.error)+" "+i.Action.PleaseTryAgain),[2]):(v(e.value.questionType),e.value.answerPrompt===Mt.PICK_ALL_CORRECT_CHOICES?E({answerPrompt:Mt.PICK_ALL_CORRECT_CHOICES}):E({answerPrompt:Mt.PICK_C_CORRECT_CHOICES,correctAnswerChoiceCount:e.value.correctAnswerChoiceCount}),t={},n=e.value.answerChoices,o=new Set(n),u=new Set(n),[4,c.games.getDetailsForUniverseIds(n)]);case 2:return(s=y.sent()).isError?(T(function(e,t){return e.Message.Error.Default}(i,s.error)+" "+i.Action.PleaseTryAgain),[2]):(d={},s.value.data.forEach((function(e){d[e.id]=e.name,o.delete(e.id.toString())})),[4,c.thumbnails.getIconsForUniverseIds(n,"256x256",$t.PNG,!1)]);case 3:return(f=y.sent()).isError?(T(function(e,t){return e.Message.Error.Default}(i,f.error)+" "+i.Action.PleaseTryAgain),[2]):(h={},f.value.data.forEach((function(e){e.state===en.COMPLETED&&(h[e.targetId]=e.imageUrl,u.delete(e.targetId.toString()))})),n.forEach((function(e){t[e]={caption:d[e]||null,imageUrl:h[e]||null,selected:!1}})),C(t),(o.size>0||u.size>0)&&l.sendAnswerChoicesFailedToLoadEvent(Array.from(o),Array.from(u)),[2])}}))}))},(0,Q.useEffect)((function(){return e(),function(){V()}}),[]);var H=null!==b?Object.entries(b).filter((function(e){return e[1].selected})).length:0,G=null!==m&&(m.answerPrompt===Mt.PICK_ALL_CORRECT_CHOICES||m.correctAnswerChoiceCount===H),F={content:A?$().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):i.Action.Confirm,label:i.Action.Confirm,enabled:!A&&G,action:function(){return Ll(void 0,void 0,void 0,(function(){var t,n;return Dl(this,(function(o){switch(o.label){case 0:return null===b?[2]:(t=Object.entries(b).filter((function(e){return e[1].selected})).map((function(e){return e[0]})),w(!0),[4,c.securityQuestions.answerQuestion(r,t,a)]);case 1:return(n=o.sent()).isError?n.error===Rt.SESSION_INACTIVE?(p({type:vl.SET_CHALLENGE_INVALIDATED,errorCode:El(n.error)}),[2]):(u.fireErroredEvent(),D(ml(i,n.error)+" "+i.Action.PleaseTryAgain),w(!1),[2]):(D(null),n.value.answerCorrect?(u.fireSolvedEvent(),p({type:vl.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{redemptionToken:n.value.redemptionToken}}),[3,6]):[3,2]);case 2:return n.value.shouldRequestNewQuestion?(u.fireIncorrectEvent(),V(),[4,hl(250)]):[3,5];case 3:return o.sent(),P(!0),[4,e()];case 4:return o.sent(),w(!1),[3,6];case 5:n.value.userWasForceReset?(u.fireFailedEvent(),x(!0)):(u.fireErroredEvent(),u.fireFailedEvent(),p({type:vl.SET_CHALLENGE_INVALIDATED,errorCode:zi.UNKNOWN})),o.label=6;case 6:return[2]}}))}))}},B={content:i.Action.Reload,label:i.Action.Reload,enabled:null!==S,action:e},j={content:i.Action.Continue,label:i.Action.Continue,enabled:!0,action:function(){window.location.href="/login/securityNotification"}},Z=function(){var e=o?ta:$r.Modal.Body,t=o?Da:Oa,n=o?"inline-challenge-lock-icon":"modal-lock-icon",r=o?"inline-challenge-margin-bottom-sm":"modal-margin-bottom-sm",a=o?"inline-challenge-margin-bottom":"modal-margin-bottom",l=o?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";if(k)return $().createElement($().Fragment,null,$().createElement(e,null,$().createElement("div",{className:n}),$().createElement("p",{className:a+" font-bold"},i.Description.YourPasswordHasBeenReset),$().createElement("p",{dangerouslySetInnerHTML:{__html:i.Description.RegainAccessGeneric('<span class="font-bold">'+i.Action.Continue+"</span>")}})),$().createElement(t,{positiveButton:j,negativeButton:null}));if(null!==S)return $().createElement($().Fragment,null,$().createElement(e,null,$().createElement("p",null,S)),$().createElement(t,{positiveButton:B,negativeButton:null}));if(null===h||null===m||null===b)return $().createElement(e,null,$().createElement("span",{className:"spinner spinner-default spinner-no-margin modal-margin-bottom-large"}));var u=Object.keys(b).length%3==1;return $().createElement($().Fragment,null,$().createElement(e,null,$().createElement("div",{className:n}),$().createElement("p",{className:r},i.Description.WhichGames),$().createElement("p",{className:l+" font-bold"},m.answerPrompt===Mt.PICK_ALL_CORRECT_CHOICES?i.Action.SelectAllThatApply:i.Action.PickN(m.correctAnswerChoiceCount)),$().createElement("p",{className:(R?r:l)+" small"},i.Description.VerifyYourIdentity),R&&$().createElement("p",{className:l+" text-error"},i.Message.Error.AnswerIncorrect," ",i.Action.PleaseTryAgain),$().createElement("div",{className:l+" answer-choice-area"},Object.keys(b).map((function(e,t){return $().createElement($().Fragment,{key:e},$().createElement(wl,Nl({key:e,setSelected:U(e)},b[e])),u&&t===Object.keys(b).length-3?$().createElement("br",null):null)}))),$().createElement("p",{className:"text-error xsmall"},L)),$().createElement(t,{positiveButton:F,negativeButton:null}))};return o?$().createElement(ea,{titleText:i.Header.PleaseConfirmYourIdentity},Z()):$().createElement($r.Modal,{className:"modal-modern",show:d,onHide:W,backdrop:"static"},$().createElement(Ma,{headerText:i.Header.PleaseConfirmYourIdentity,buttonType:k?sa.HIDDEN:sa.CLOSE,buttonAction:W,buttonEnabled:!A,headerInfo:null}),Z())},Rl=(0,Br.withTranslations)((function(e){var t=e.userId,n=e.sessionId,r=e.renderInline,a=e.eventService,o=e.metricsService,i=e.requestService,l=e.translate,u=e.onChallengeCompleted,c=e.onChallengeInvalidated,s=e.onModalChallengeAbandoned;return $().createElement(Il,{userId:t,sessionId:n,renderInline:r,eventService:a,metricsService:o,requestService:i,translate:l,onChallengeCompleted:u,onChallengeInvalidated:c,onModalChallengeAbandoned:s},$().createElement(Ol,null))}),ul),Pl=function(){function e(e){this.sessionId=e}return e.prototype.sendAnswerChoicesFailedToLoadEvent=function(e,t){N().EventStream.SendEventWithTarget(cl,sl.answerChoicesFailedToLoad,{sessionId:this.sessionId,answerChoicesWithNoCaption:JSON.stringify(e),answerChoicesWithNoIcon:JSON.stringify(t)},N().EventStream.TargetTypes.WWW)},e}(),Ml=function(){function e(e){var t=e.appType,n=e.requestServiceDefault;this.appType=t||"unknown",this.requestServiceDefault=n}return e.prototype.fireInitializedEvent=function(){this.requestServiceDefault.metrics.recordMetric({name:Pr.EventSecurityQuestion,value:1,labelValues:{event_type:dl.initialized,application_type:this.appType}}).catch((function(){}))},e.prototype.fireErroredEvent=function(){this.requestServiceDefault.metrics.recordMetric({name:Pr.EventSecurityQuestion,value:1,labelValues:{event_type:dl.errored,application_type:this.appType}}).catch((function(){}))},e.prototype.fireSolvedEvent=function(){this.requestServiceDefault.metrics.recordMetric({name:Pr.EventSecurityQuestion,value:1,labelValues:{event_type:dl.solved,application_type:this.appType}}).catch((function(){}))},e.prototype.fireIncorrectEvent=function(){this.requestServiceDefault.metrics.recordMetric({name:Pr.EventSecurityQuestion,value:1,labelValues:{event_type:dl.incorrect,application_type:this.appType}}).catch((function(){}))},e.prototype.fireFailedEvent=function(){this.requestServiceDefault.metrics.recordMetric({name:Pr.EventSecurityQuestion,value:1,labelValues:{event_type:dl.failed,application_type:this.appType}}).catch((function(){}))},e}(),kl=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},xl=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Vl=new Fr,Wl=function(e){var t=e.containerId,n=e.userId,r=e.sessionId,a=e.appType,o=e.renderInline,i=e.shouldDynamicallyLoadTranslationResources,l=e.onChallengeCompleted,u=e.onChallengeInvalidated,c=e.onModalChallengeAbandoned;return kl(void 0,void 0,void 0,(function(){var e,s,d,p,f,h;return xl(this,(function(v){switch(v.label){case 0:return n=n.toString(),null===(e=document.getElementById(t))?[3,4]:((0,ee.unmountComponentAtNode)(e),i?[4,Vl.translations.queryAndOverwriteResourcesForNamespace(ul.feature,fl)]:[3,3]);case 1:return(s=v.sent()).isError?(console.error(ll,"Got error code "+((null===(f=s.error)||void 0===f?void 0:f.toString())||"null")+" loading translations"),[2,!1]):[4,Vl.translations.queryAndOverwriteResourcesForNamespace(ul.common[0],pl)];case 2:if((s=v.sent()).isError)return console.error(ll,"Got error code "+((null===(h=s.error)||void 0===h?void 0:h.toString())||"null")+" loading translations"),[2,!1];v.label=3;case 3:return d=new Pl(r),p=new Ml({appType:a,requestServiceDefault:Vl}),(0,ee.render)($().createElement(Rl,{userId:n,sessionId:r,renderInline:o,eventService:d,metricsService:p,requestService:Vl,onChallengeCompleted:l,onChallengeInvalidated:u,onModalChallengeAbandoned:c}),e),p.fireInitializedEvent(),[2,!0];case 4:return[2,!1]}}))}))},Ul=ReactRouterDOM,Hl="Two-Step Verification:",Gl={common:[],feature:"Authentication.TwoStepVerification"},Fl="accountSecurityChallengeTwoStepVerificationEvent",Bl={challengeInitialized:"challengeInitialized",userConfigurationLoaded:"userConfigurationLoaded",challengeInvalidated:"challengeInvalidated",challengeAbandoned:"challengeAbandoned",emailResendRequested:"emailResendRequested",smsResendRequested:"smsResendRequested",mediaTypeChanged:"mediaTypeChanged",codeSubmitted:"codeSubmitted",codeVerificationFailed:"codeVerificationFailed",codeVerified:"codeVerified",noEnabledMethodsReturned:"noEnabledMethodsReturned"},jl={initialized:"Initialized",verified:"Verified",invalidated:"Invalidated",abandoned:"Abandoned"},Zl={solveTime:"SolveTime"},zl=["Action.ChangeMediaType","Action.Reload","Action.Resend","Action.Verify","Label.AuthenticatorMediaType","Label.ChooseAlternateMediaType","Label.CharacterCodeInputPlaceholderText","Label.CodeInputPlaceholderText","Label.EmailMediaType","Label.SecurityKeyDirections","Label.SecurityKeyMediaType","Label.SmsMediaType","Label.EnterAuthenticatorCode","Label.EnterEmailCode","Label.EnterRecoveryCode","Label.EnterTextCode","Label.NeedHelpContactSupport","Label.RecoveryCodeMediaType","Label.RobloxSupport","Label.TrustThisDevice","Label.TwoStepVerification","Label.VerifyWithSecurityKey","Response.AuthenticatorCodeAlreadyUsed","Response.CodeSent","Response.DefaultError","Response.FeatureNotAvailable","Response.InvalidCode","Response.SessionExpired","Response.SystemErrorSwitchingToEmail","Response.TooManyAttempts","Response.VerificationError"],Yl=["Description.SecurityWarningShort","Description.SecurityWarningShortBackupCodes"],ql=ReactRouter,Kl=CoreRobloxUtilities;!function(e){e.Unknown="Unknown",e.Login="Login",e.RobuxSpend="RobuxSpend",e.ItemTrade="ItemTrade",e.Resale="Resale",e.PasswordReset="PasswordReset",e.RevertAccount="RevertAccount",e.Generic="Generic",e.GenericWithRecoveryCodes="GenericWithRecoveryCodes"}(gl||(gl={})),function(e){e.Email="Email",e.Authenticator="Authenticator",e.RecoveryCode="RecoveryCode",e.SMS="SMS",e.SecurityKey="SecurityKey"}(bl||(bl={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SESSION_EXPIRED=1]="SESSION_EXPIRED"}(Cl||(Cl={}));var Xl,Jl=function(e,t){switch(t){case Cl.SESSION_EXPIRED:return e.Response.SessionExpired;default:return e.Response.DefaultError}},Ql=function(e,t){switch(t){case Cn.FEATURE_DISABLED:return e.Response.FeatureNotAvailable;case Cn.INVALID_CODE:return e.Response.InvalidCode;case Cn.TOO_MANY_REQUESTS:return e.Response.TooManyAttempts;case Cn.INVALID_CHALLENGE_ID:return e.Response.SessionExpired;case Cn.AUTHENTICATOR_CODE_ALREADY_USED:return e.Response.AuthenticatorCodeAlreadyUsed;default:return e.Response.DefaultError}},$l=function(e){switch(e){case Cn.INVALID_CHALLENGE_ID:return Cl.SESSION_EXPIRED;default:return Cl.UNKNOWN}},eu=function(){var e=(0,ql.useLocation)(),t=(0,ql.matchPath)(e.pathname,{path:"/:activeMediaType",exact:!0,strict:!1});return(null==t?void 0:t.params)?null==t?void 0:t.params.activeMediaType:null},tu=function(e){return"/"+(e||"")};!function(e){e[e.SET_METADATA=0]="SET_METADATA",e[e.SET_USER_CONFIGURATION=1]="SET_USER_CONFIGURATION",e[e.SET_CHALLENGE_COMPLETED=2]="SET_CHALLENGE_COMPLETED",e[e.SET_CHALLENGE_INVALIDATED=3]="SET_CHALLENGE_INVALIDATED",e[e.HIDE_MODAL_CHALLENGE=4]="HIDE_MODAL_CHALLENGE",e[e.SHOW_MODAL_CHALLENGE=5]="SHOW_MODAL_CHALLENGE"}(Xl||(Xl={}));var nu,ru=function(){return(ru=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},au=function(e,t){var n=ru({},e);switch(t.type){case Xl.SET_METADATA:return n.metadata=t.metadata,n;case Xl.SET_USER_CONFIGURATION:return n.userConfiguration=t.userConfiguration,n.enabledMediaTypes=t.enabledMediaTypes,n;case Xl.SET_CHALLENGE_COMPLETED:return n.onChallengeCompletedData=t.onChallengeCompletedData,n.isModalVisible=!1,n;case Xl.SET_CHALLENGE_INVALIDATED:return n.onChallengeInvalidatedData={errorCode:t.errorCode,errorMessage:Jl(e.resources,t.errorCode)},n.isModalVisible=!1,n;case Xl.HIDE_MODAL_CHALLENGE:return n.isModalVisible=!1,n;case Xl.SHOW_MODAL_CHALLENGE:return n.isModalVisible=!0,n;default:return e}},ou=(0,Q.createContext)(null),iu=function(e){var t=e.userId,n=e.challengeId,r=e.actionType,a=e.renderInline,o=e.shouldShowRememberDeviceCheckbox,i=e.eventService,l=e.metricsService,u=e.requestService,c=e.translate,s=e.onChallengeCompleted,d=e.onChallengeInvalidated,p=e.onModalChallengeAbandoned,f=e.children,h=(0,Q.useState)((function(){return function(e){return{Action:{ChangeMediaType:e("Action.ChangeMediaType"),Reload:e("Action.Reload"),Resend:e("Action.Resend"),Verify:e("Action.Verify")},Description:{SecurityWarningShort:e("Description.SecurityWarningShort",{boldStart:"",boldEnd:""}),SecurityWarningShortBackupCodes:e("Description.SecurityWarningShortBackupCodes",{boldStart:"",boldEnd:""})},Label:{AuthenticatorMediaType:e("Label.AuthenticatorMediaType"),ChooseAlternateMediaType:e("Label.ChooseAlternateMediaType"),CharacterCodeInputPlaceholderText:function(t){return e("Label.CharacterCodeInputPlaceholderText",{codeLength:t})},CodeInputPlaceholderText:function(t){return e("Label.CodeInputPlaceholderText",{codeLength:t})},EmailMediaType:e("Label.EmailMediaType"),EnterAuthenticatorCode:e("Label.EnterAuthenticatorCode"),EnterEmailCode:e("Label.EnterEmailCode"),EnterRecoveryCode:e("Label.EnterRecoveryCode"),EnterTextCode:e("Label.EnterTextCode"),NeedHelpContactSupport:function(t){return e("Label.NeedHelpContactSupport",{supportLink:t})},RecoveryCodeMediaType:e("Label.RecoveryCodeMediaType"),RobloxSupport:e("Label.RobloxSupport"),SecurityKeyDirections:e("Label.SecurityKeyDirections"),SecurityKeyMediaType:e("Label.SecurityKeyMediaType"),SmsMediaType:e("Label.SmsMediaType"),TrustThisDevice:e("Label.TrustThisDevice"),TwoStepVerification:e("Label.TwoStepVerification"),VerifyWithSecurityKey:e("Label.VerifyWithSecurityKey")},Response:{AuthenticatorCodeAlreadyUsed:e("Response.AuthenticatorCodeAlreadyUsed"),CodeSent:e("Response.CodeSent"),DefaultError:e("Response.DefaultError"),FeatureNotAvailable:e("Response.FeatureNotAvailable"),InvalidCode:e("Response.InvalidCode"),SessionExpired:e("Response.SessionExpired"),SystemErrorSwitchingToEmail:e("Response.SystemErrorSwitchingToEmail"),TooManyAttempts:e("Response.TooManyAttempts"),VerificationError:e("Response.VerificationError")}}}(c)}))[0],v=(0,Q.useState)((function(){return{userId:t,challengeId:n,actionType:r,renderInline:a,shouldShowRememberDeviceCheckbox:o,resources:h,eventService:i,metricsService:l,requestService:u,onModalChallengeAbandoned:p,metadata:null,userConfiguration:null,enabledMediaTypes:[],onChallengeCompletedData:null,onChallengeInvalidatedData:null,isModalVisible:!0}}))[0],y=eu(),m=(0,Q.useReducer)(au,v),E=m[0],g=m[1];return(0,Q.useEffect)((function(){if(null!==E.onChallengeCompletedData&&null===E.onChallengeInvalidatedData){var e=E.onChallengeCompletedData;setTimeout((function(){return s(e)}),100)}}),[E.onChallengeCompletedData,E.onChallengeInvalidatedData,s]),(0,Q.useEffect)((function(){if(null!==E.onChallengeInvalidatedData&&null===E.onChallengeCompletedData){i.sendChallengeInvalidatedEvent(y),l.fireInvalidatedEvent();var e=E.onChallengeInvalidatedData;setTimeout((function(){return d(e)}),100)}}),[E.onChallengeCompletedData,E.onChallengeInvalidatedData,d,i,l,y]),(0,Q.useEffect)((function(){null!==y&&i.sendMediaTypeChangedEvent(y)}),[i,y]),$().createElement(ou.Provider,{value:{state:E,dispatch:g}},f)},lu=function(){var e=(0,Q.useContext)(ou);if(null===e)throw new Error("TwoStepVerificationContext was not provided in the current scope");return e},uu=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},cu=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},su=function(e){var t=e.hasSentEmailCode,n=e.setHasSentEmailCode,r=e.hasSentSmsCode,a=e.setHasSentSmsCode,o=e.requestInFlight,i=e.setRequestInFlight,l=e.children,u=lu(),c=u.state,s=c.userId,d=c.challengeId,p=c.actionType,f=c.renderInline,h=c.resources,v=c.requestService,y=c.enabledMediaTypes,m=u.dispatch,E=(0,ql.useHistory)(),g=(0,Q.useState)(null),b=g[0],C=g[1],_=function(e){switch(e){case bl.Authenticator:return"icon-menu-mobile";case bl.Email:return"icon-menu-email";case bl.RecoveryCode:return"icon-menu-recover";case bl.SMS:return"icon-menu-mobile";case bl.SecurityKey:return"icon-menu-usb";default:return"icon-brokenpage"}},S=function(e,l){var u=function(e){switch(e){case bl.Authenticator:return h.Label.AuthenticatorMediaType;case bl.Email:return h.Label.EmailMediaType;case bl.RecoveryCode:return h.Label.RecoveryCodeMediaType;case bl.SMS:return h.Label.SmsMediaType;case bl.SecurityKey:return h.Label.SecurityKeyMediaType;default:return null}}(e);return u?$().createElement("tr",{key:l,onClick:o?void 0:function(){return function(e){return uu(void 0,void 0,void 0,(function(){var l;return cu(this,(function(u){switch(u.label){case 0:return o?[2]:e!==bl.Email||t?[3,2]:(i(!0),[4,v.twoStepVerification.sendEmailCode(s,{challengeId:d,actionType:p})]);case 1:if(l=u.sent(),i(!1),l.isError)return l.error===Cn.INVALID_USER_ID||l.error===Cn.INVALID_CHALLENGE_ID?m({type:Xl.SET_CHALLENGE_INVALIDATED,errorCode:$l(l.error)}):C(Ql(h,l.error)),[2];n(!0),u.label=2;case 2:return e!==bl.SMS||r?[3,4]:(i(!0),[4,v.twoStepVerification.sendSmsCode(s,{challengeId:d,actionType:p})]);case 3:if(l=u.sent(),i(!1),l.isError)return l.error===Cn.INVALID_USER_ID||l.error===Cn.INVALID_CHALLENGE_ID?m({type:Xl.SET_CHALLENGE_INVALIDATED,errorCode:$l(l.error)}):C(Ql(h,l.error)),[2];a(!0),u.label=4;case 4:return E.push(tu(e)),[2]}}))}))}(e)},className:o?"media-type-row disabled":"media-type-row"},$().createElement("td",null,$().createElement("span",{className:_(e)})),$().createElement("td",{className:"media-type-label"},u),$().createElement("td",{className:"media-type-selector"},$().createElement("span",{className:"icon-next"}),$().createElement("div",{className:"icon-placeholder"}))):null},T=f?ta:$r.Modal.Body,I=f?"inline-challenge-lock-icon":"modal-lock-icon",A=f?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge",w=f?"":"modal-margin-bottom-large",N=f?"inline-challenge-margin-top-large":"modal-margin-bottom-large";return $().createElement(T,null,$().createElement("div",{className:I}),$().createElement("p",{className:A},h.Label.ChooseAlternateMediaType),$().createElement("table",{className:"table table-striped media-type-list "+w},$().createElement("tbody",null,y.map((function(e,t){return S(e,t)})))),b?$().createElement("p",{className:"text-error xsmall "+N},b):null,l)},du=function(e){var t=e.requestInFlight,n=e.className,r=lu().state,a=r.renderInline,o=r.resources,i=(0,ql.useHistory)(),l=a?"inline-challenge-body-button-link":"modal-body-button-link";return $().createElement("p",{className:n},$().createElement("button",{type:"button",className:l+" small",onClick:function(){i.push(tu(null))},disabled:t},o.Action.ChangeMediaType))},pu=function(e){var t=e.disabled,n=e.rememberDevice,r=e.setRememberDevice,a=e.className,o=lu().state.resources;return $().createElement("p",{className:a},$().createElement("input",{id:"remember-device",type:"checkbox",onChange:function(e){r(e.target.checked)},checked:n,disabled:t,tabIndex:0})," ",$().createElement("label",{htmlFor:"remember-device"},o.Label.TrustThisDevice))},fu=function(e){var t=e.className,n=lu().state.resources,r=n.Label.NeedHelpContactSupport('<a class="text-name text-footer contact" href="https://www.roblox.com/info/2sv" target="_blank" rel="noopener noreferrer">'+n.Label.RobloxSupport+"</a>");return $().createElement("p",{className:"text-footer"+(t?" "+t:""),dangerouslySetInnerHTML:{__html:r}})},hu=/^[0-9]*$/,vu=/^[A-Za-z0-9]*$/,yu=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},mu=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Eu=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=lu(),o=a.state,i=o.userId,l=o.challengeId,u=o.actionType,c=o.renderInline,s=o.shouldShowRememberDeviceCheckbox,d=o.metadata,p=o.resources,f=o.eventService,h=o.metricsService,v=o.requestService,y=a.dispatch,m=eu(),E=(0,Q.useState)(""),g=E[0],b=E[1],C=(0,Q.useState)(null),_=C[0],S=C[1],T=(0,Q.useState)(null),I=T[0],A=T[1],w=(0,Q.useState)(!1),N=w[0],L=w[1],D=function(){return yu(void 0,void 0,void 0,(function(){var e;return mu(this,(function(t){switch(t.label){case 0:return n(!0),A(null),f.sendCodeSubmittedEvent(m),[4,v.twoStepVerification.verifyAuthenticatorCode(i,{challengeId:l,actionType:u,code:g})];case 1:return(e=t.sent()).isError?(f.sendCodeVerificationFailedEvent(m,Cn[e.error||Cn.UNKNOWN]),e.error===Cn.INVALID_USER_ID||e.error===Cn.INVALID_CHALLENGE_ID?(y({type:Xl.SET_CHALLENGE_INVALIDATED,errorCode:$l(e.error)}),[2]):(n(!1),A(Ql(p,e.error)),[2])):(f.sendCodeVerifiedEvent(m),h.fireVerifiedEvent(m),y({type:Xl.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:e.value.verificationToken,rememberDevice:N}}),[2])}}))}))},O=null===_&&g.length===(null==d?void 0:d.authenticatorCodeLength),R={content:t?$().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):p.Action.Verify,label:p.Action.Verify,enabled:!t&&O,action:D},P=c?ta:$r.Modal.Body,M=c?Da:Oa,k=c?"inline-challenge-lock-icon":"modal-lock-icon",x=c?"inline-challenge-margin-bottom":"modal-margin-bottom",V=c?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";return d&&$().createElement($().Fragment,null,$().createElement(P,null,$().createElement("div",{className:k}),$().createElement("p",{className:V},p.Label.EnterAuthenticatorCode),$().createElement(ji,{id:"two-step-verification-code-input",inputType:"text",disabled:t,value:g,setValue:b,error:I||_,setError:S,validate:Fi,canSubmit:O,handleSubmit:D,onChange:function(){return A(null)},inputMode:"numeric",autoComplete:"off",placeholder:p.Label.CodeInputPlaceholderText(d.authenticatorCodeLength),maxLength:d.authenticatorCodeLength,validCharactersRegEx:hu,hideFeedback:!0,concealInput:!0}),s&&$().createElement(pu,{disabled:t,rememberDevice:N,setRememberDevice:L,className:V}),r),$().createElement(M,{positiveButton:R,negativeButton:null},$().createElement(fu,{className:x}),$().createElement("p",{className:"text-footer"},p.Description.SecurityWarningShort)))},gu=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},bu=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Cu=function(e){var t=e.disabled,n=e.setCodeError,r=e.mediaType,a=e.className,o=lu(),i=o.state,l=i.userId,u=i.challengeId,c=i.actionType,s=i.renderInline,d=i.resources,p=i.eventService,f=i.requestService,h=o.dispatch,v=(0,Q.useState)(!1),y=v[0],m=v[1];if(y)return $().createElement("p",{className:a},$().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}));var E=s?"inline-challenge-body-button-link":"modal-body-button-link";return $().createElement("p",{className:a},$().createElement("button",{type:"button",className:E+" small",onClick:function(){return gu(void 0,void 0,void 0,(function(){var e,t,a;return bu(this,(function(o){switch(o.label){case 0:return e=null,m(!0),r!==bl.Email?[3,2]:(p.sendEmailResendRequestedEvent(),[4,f.twoStepVerification.sendEmailCode(l,{challengeId:u,actionType:c})]);case 1:return(t=o.sent()).isError&&(e=t.error),[3,4];case 2:return r!==bl.SMS?[3,4]:(p.sendSmsResendRequestedEvent(),[4,f.twoStepVerification.sendSmsCode(l,{challengeId:u,actionType:c})]);case 3:(a=o.sent()).isError&&(e=a.error),o.label=4;case 4:return m(!1),null!=e&&(e===Cn.INVALID_USER_ID||e===Cn.INVALID_CHALLENGE_ID?h({type:Xl.SET_CHALLENGE_INVALIDATED,errorCode:$l(e)}):n(Ql(d,e))),[2]}}))}))},disabled:t||y},d.Action.Resend))},_u=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Su=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Tu=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=lu(),o=a.state,i=o.userId,l=o.challengeId,u=o.actionType,c=o.renderInline,s=o.shouldShowRememberDeviceCheckbox,d=o.resources,p=o.metadata,f=o.eventService,h=o.metricsService,v=o.requestService,y=a.dispatch,m=eu(),E=(0,Q.useState)(""),g=E[0],b=E[1],C=(0,Q.useState)(null),_=C[0],S=C[1],T=(0,Q.useState)(null),I=T[0],A=T[1],w=(0,Q.useState)(!1),N=w[0],L=w[1],D=function(){return _u(void 0,void 0,void 0,(function(){var e;return Su(this,(function(t){switch(t.label){case 0:return n(!0),A(null),f.sendCodeSubmittedEvent(m),[4,v.twoStepVerification.verifyEmailCode(i,{challengeId:l,actionType:u,code:g})];case 1:return(e=t.sent()).isError?(f.sendCodeVerificationFailedEvent(m,Cn[e.error||Cn.UNKNOWN]),e.error===Cn.INVALID_USER_ID||e.error===Cn.INVALID_CHALLENGE_ID?(y({type:Xl.SET_CHALLENGE_INVALIDATED,errorCode:$l(e.error)}),[2]):(n(!1),A(Ql(d,e.error)),[2])):(f.sendCodeVerifiedEvent(m),h.fireVerifiedEvent(m),y({type:Xl.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:e.value.verificationToken,rememberDevice:N}}),[2])}}))}))},O=null===_&&g.length===(null==p?void 0:p.emailCodeLength),R={content:t?$().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):d.Action.Verify,label:d.Action.Verify,enabled:!t&&O,action:D},P=c?ta:$r.Modal.Body,M=c?Da:Oa,k=c?"inline-challenge-lock-icon":"modal-lock-icon",x=c?"inline-challenge-margin-bottom":"modal-margin-bottom",V=c?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";return p&&$().createElement($().Fragment,null,$().createElement(P,null,$().createElement("div",{className:k}),$().createElement("p",{className:V},d.Label.EnterEmailCode),$().createElement(ji,{id:"two-step-verification-code-input",inputType:"text",disabled:t,value:g,setValue:b,error:I||_,setError:S,validate:Fi,canSubmit:O,handleSubmit:D,onChange:function(){return A(null)},inputMode:"numeric",autoComplete:"off",placeholder:d.Label.CodeInputPlaceholderText(p.emailCodeLength),maxLength:p.emailCodeLength,validCharactersRegEx:hu,hideFeedback:!0,concealInput:!0}),s&&$().createElement(pu,{disabled:t,rememberDevice:N,setRememberDevice:L,className:V}),$().createElement(Cu,{disabled:t,setCodeError:S,mediaType:m}),r),$().createElement(M,{positiveButton:R,negativeButton:null},$().createElement(fu,{className:x}),$().createElement("p",{className:"text-footer"},d.Description.SecurityWarningShort)))},Iu=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Au=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},wu=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=lu(),o=a.state,i=o.userId,l=o.challengeId,u=o.actionType,c=o.renderInline,s=o.shouldShowRememberDeviceCheckbox,d=o.resources,p=o.eventService,f=o.metricsService,h=o.requestService,v=a.dispatch,y=eu(),m=(0,Q.useState)(""),E=m[0],g=m[1],b=(0,Q.useState)(null),C=b[0],_=b[1],S=(0,Q.useState)(null),T=S[0],I=S[1],A=(0,Q.useState)(!1),w=A[0],N=A[1],L=function(){return Iu(void 0,void 0,void 0,(function(){var e;return Au(this,(function(t){switch(t.label){case 0:return n(!0),I(null),p.sendCodeSubmittedEvent(y),[4,h.twoStepVerification.verifyRecoveryCode(i,{challengeId:l,actionType:u,code:E})];case 1:return(e=t.sent()).isError?(p.sendCodeVerificationFailedEvent(y,Cn[e.error||Cn.UNKNOWN]),e.error===Cn.INVALID_USER_ID||e.error===Cn.INVALID_CHALLENGE_ID?(v({type:Xl.SET_CHALLENGE_INVALIDATED,errorCode:$l(e.error)}),[2]):(n(!1),I(Ql(d,e.error)),[2])):(p.sendCodeVerifiedEvent(y),f.fireVerifiedEvent(y),v({type:Xl.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:e.value.verificationToken,rememberDevice:w}}),[2])}}))}))},D=null===C&&9===E.length,O={content:t?$().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):d.Action.Verify,label:d.Action.Verify,enabled:!t&&D,action:L},R=c?ta:$r.Modal.Body,P=c?Da:Oa,M=c?"inline-challenge-lock-icon":"modal-lock-icon",k=c?"inline-challenge-margin-bottom":"modal-margin-bottom",x=c?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";return $().createElement($().Fragment,null,$().createElement(R,null,$().createElement("div",{className:M}),$().createElement("p",{className:x},d.Label.EnterRecoveryCode),$().createElement(ji,{id:"two-step-verification-code-input",inputType:"text",disabled:t,value:E,setValue:g,error:T||C,setError:_,validate:Fi,canSubmit:D,handleSubmit:L,onChange:function(){return I(null)},autoComplete:"off",placeholder:d.Label.CodeInputPlaceholderText(9),maxLength:9,validCharactersRegEx:vu,hideFeedback:!0,concealInput:!0}),s&&$().createElement(pu,{disabled:t,rememberDevice:w,setRememberDevice:N,className:x}),r),$().createElement(P,{positiveButton:O,negativeButton:null},$().createElement(fu,{className:k}),$().createElement("p",{className:"text-footer"},d.Description.SecurityWarningShortBackupCodes)))},Nu=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Lu=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Du=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=lu(),o=a.state,i=o.userId,l=o.challengeId,u=o.actionType,c=o.renderInline,s=o.shouldShowRememberDeviceCheckbox,d=o.resources,p=o.metadata,f=o.eventService,h=o.metricsService,v=o.requestService,y=a.dispatch,m=eu(),E=(0,Q.useState)(null),g=E[0],b=E[1],C=(0,Q.useState)(!1),_=C[0],S=C[1],T=function(e,t){t&&f.sendCodeVerificationFailedEvent(m,Cn[e||Cn.UNKNOWN]),e!==Cn.INVALID_USER_ID&&e!==Cn.INVALID_CHALLENGE_ID?(n(!1),b(Ql(d,e))):y({type:Xl.SET_CHALLENGE_INVALIDATED,errorCode:$l(e)})},I=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},A=function(e){return e.replace(/-/g,"+").replace(/_/g,"/")},N=c?ta:$r.Modal.Body,L=c?"inline-challenge-lock-icon":"modal-lock-icon",D=c?"inline-challenge-margin-bottom":"modal-margin-bottom",O=c?"inline-challenge-action-button":"modal-action-button";O=(O=O.concat(" ","btn-cta-md")).concat(" ",D);var R=(c?"inline-margin-bottom-xlarge":"modal-margin-bottom-xlarge").concat(" ","text-error xsmall"),P=c?"inline-challenge-margin-bottom-sm":"modal-margin-bottom-sm";return p&&$().createElement($().Fragment,null,$().createElement(N,null,$().createElement("div",{className:L}),$().createElement("p",{className:P},d.Label.VerifyWithSecurityKey),$().createElement("p",{className:D},d.Label.SecurityKeyDirections),$().createElement("button",{type:"button",className:O,"aria-label":d.Action.Verify,disabled:t,onClick:function(){return Nu(void 0,void 0,void 0,(function(){var e,t,r,a,o,c,s,d,p,E,g,C,S;return Lu(this,(function(N){switch(N.label){case 0:return n(!0),b(null),[4,v.twoStepVerification.getSecurityKeyOptions(i,{challengeId:l,actionType:u})];case 1:if((e=N.sent()).isError)return T(e.error,!0),[2];if(!(t=JSON.parse(e.value.authenticationOptions)).publicKey)return T(Cn.UNKNOWN,!1),[2];if(t.publicKey.challenge=Kl.cryptoUtil.base64StringToArrayBuffer(A(t.publicKey.challenge)),!t.publicKey.challenge)return T(Cn.UNKNOWN,!1),[2];for(r=0;r<t.publicKey.allowCredentials.length;r++)t.publicKey.allowCredentials[r].id=Kl.cryptoUtil.base64StringToArrayBuffer(A(t.publicKey.allowCredentials[r].id));return a="",w.DeviceMeta&&(0,w.DeviceMeta)().isInApp?[4,Kl.hybridResponseService.getNativeResponse(Kl.hybridResponseService.FeatureTarget.GET_CREDENTIALS,{authenticationOptionsJSON:e.value.authenticationOptions},3e5).catch((function(){T(Cn.UNKNOWN,!1)}))]:[3,3];case 2:if(null==(o=N.sent()))return T(Cn.UNKNOWN,!1),[2];try{c=JSON.parse(o),C={id:I(c.id),type:c.type,response:{authenticatorData:I(c.response.authenticatorData),clientDataJSON:I(c.response.clientDataJSON)}},"rawId"in c&&(C.rawId=I(c.rawId)),"signature"in c.response&&(C.response.signature=I(c.response.signature)),"userHandle"in c.response&&(C.response.userHandle=I(c.response.userHandle)),a=JSON.stringify(C)}catch(e){return T(Cn.UNKNOWN,!1),[2]}return[3,5];case 3:return[4,navigator.credentials.get({publicKey:t.publicKey}).catch((function(){T(Cn.UNKNOWN,!1)}))];case 4:c=N.sent();try{s=new Uint8Array(c.response.authenticatorData),d=new Uint8Array(c.response.clientDataJSON),p=new Uint8Array(c.rawId),E=new Uint8Array(c.response.signature),g=new Uint8Array(c.response.userHandle),C={id:c.id,rawId:I(Kl.cryptoUtil.arrayBufferToBase64String(p)),type:c.type,response:{authenticatorData:I(Kl.cryptoUtil.arrayBufferToBase64String(s)),clientDataJSON:I(Kl.cryptoUtil.arrayBufferToBase64String(d)),signature:I(Kl.cryptoUtil.arrayBufferToBase64String(E)),userHandle:I(Kl.cryptoUtil.arrayBufferToBase64String(g))}},a=JSON.stringify(C)}catch(e){return T(Cn.UNKNOWN,!1),[2]}N.label=5;case 5:return[4,v.twoStepVerification.verifySecurityKeyCredential(i,{challengeId:l,actionType:u,code:a})];case 6:return(S=N.sent()).isError?(T(S.error,!0),[2]):(f.sendCodeVerifiedEvent(m),h.fireVerifiedEvent(m),y({type:Xl.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:S.value.verificationToken,rememberDevice:_}}),[2])}}))}))}},t?$().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):d.Action.Verify),s&&$().createElement(pu,{disabled:t,rememberDevice:_,setRememberDevice:S,className:D}),r,$().createElement(fu,{className:D}),$().createElement("p",{className:R},g)))},Ou=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Ru=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Pu=function(e){var t=e.requestInFlight,n=e.setRequestInFlight,r=e.children,a=lu(),o=a.state,i=o.userId,l=o.challengeId,u=o.actionType,c=o.renderInline,s=o.shouldShowRememberDeviceCheckbox,d=o.resources,p=o.metadata,f=o.eventService,h=o.metricsService,v=o.requestService,y=a.dispatch,m=eu(),E=(0,Q.useState)(""),g=E[0],b=E[1],C=(0,Q.useState)(null),_=C[0],S=C[1],T=(0,Q.useState)(null),I=T[0],A=T[1],w=(0,Q.useState)(!1),N=w[0],L=w[1],D=function(){return Ou(void 0,void 0,void 0,(function(){var e;return Ru(this,(function(t){switch(t.label){case 0:return n(!0),A(null),f.sendCodeSubmittedEvent(m),[4,v.twoStepVerification.verifySmsCode(i,{challengeId:l,actionType:u,code:g})];case 1:return(e=t.sent()).isError?(f.sendCodeVerificationFailedEvent(m,Cn[e.error||Cn.UNKNOWN]),e.error===Cn.INVALID_USER_ID||e.error===Cn.INVALID_CHALLENGE_ID?(y({type:Xl.SET_CHALLENGE_INVALIDATED,errorCode:$l(e.error)}),[2]):(n(!1),A(Ql(d,e.error)),[2])):(f.sendCodeVerifiedEvent(m),h.fireVerifiedEvent(m),y({type:Xl.SET_CHALLENGE_COMPLETED,onChallengeCompletedData:{verificationToken:e.value.verificationToken,rememberDevice:N}}),[2])}}))}))},O=null===_&&g.length===(null==p?void 0:p.emailCodeLength),R={content:t?$().createElement("span",{className:"spinner spinner-xs spinner-no-margin"}):d.Action.Verify,label:d.Action.Verify,enabled:!t&&O,action:D},P=c?ta:$r.Modal.Body,M=c?Da:Oa,k=c?"inline-challenge-lock-icon":"modal-lock-icon",x=c?"inline-challenge-margin-bottom":"modal-margin-bottom",V=c?"inline-challenge-margin-bottom-xlarge":"modal-margin-bottom-xlarge";return p&&$().createElement($().Fragment,null,$().createElement(P,null,$().createElement("div",{className:k}),$().createElement("p",{className:V},d.Label.EnterTextCode),$().createElement(ji,{id:"two-step-verification-code-input",inputType:"text",disabled:t,value:g,setValue:b,error:I||_,setError:S,validate:Fi,canSubmit:O,handleSubmit:D,onChange:function(){return A(null)},inputMode:"numeric",autoComplete:"off",placeholder:d.Label.CodeInputPlaceholderText(p.emailCodeLength),maxLength:p.emailCodeLength,validCharactersRegEx:hu,hideFeedback:!0,concealInput:!0}),s&&$().createElement(pu,{disabled:t,rememberDevice:N,setRememberDevice:L,className:V}),$().createElement(Cu,{disabled:t,setCodeError:S,mediaType:m}),r),$().createElement(M,{positiveButton:R,negativeButton:null},$().createElement(fu,{className:x}),$().createElement("p",{className:"text-footer"},d.Description.SecurityWarningShort)))},Mu=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},ku=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},xu=function(){var e=lu(),t=e.state,n=t.userId,r=t.challengeId,a=t.actionType,o=t.renderInline,i=t.metadata,l=t.enabledMediaTypes,u=t.resources,c=t.eventService,s=t.metricsService,d=t.requestService,p=t.onModalChallengeAbandoned,f=t.isModalVisible,h=e.dispatch,v=eu(),y=(0,ql.useHistory)(),m=(0,Q.useState)(!1),E=m[0],g=m[1],b=(0,Q.useState)(!1),C=b[0],_=b[1],S=(0,Q.useState)(null),T=S[0],I=S[1],A=(0,Q.useState)(!1),N=A[0],L=A[1],D=function(){h({type:Xl.HIDE_MODAL_CHALLENGE}),c.sendChallengeAbandonedEvent(v),s.fireAbandonedEvent(),null!==p&&setTimeout((function(){return p((function(){return h({type:Xl.SHOW_MODAL_CHALLENGE})}))}),100)},O=function(){return Mu(void 0,void 0,void 0,(function(){var e,t,o,l,s,p,f,v;return ku(this,(function(m){switch(m.label){case 0:return I(null),null!==i?[2]:[4,d.twoStepVerification.getMetadata({userId:n,challengeId:r,actionType:a})];case 1:return(e=m.sent()).isError?(e.error===Cn.INVALID_USER_ID||e.error===Cn.INVALID_CHALLENGE_ID?h({type:Xl.SET_CHALLENGE_INVALIDATED,errorCode:$l(e.error)}):I(Ql(u,e.error)),[2]):[4,d.twoStepVerification.getUserConfiguration(n,{challengeId:r,actionType:a})];case 2:if((t=m.sent()).isError)return t.error===Cn.INVALID_USER_ID||t.error===Cn.INVALID_CHALLENGE_ID?h({type:Xl.SET_CHALLENGE_INVALIDATED,errorCode:$l(t.error)}):I(Ql(u,t.error)),[2];h({type:Xl.SET_METADATA,metadata:e.value}),o=bl[t.value.primaryMediaType]||null,l=w.DeviceMeta&&(0,w.DeviceMeta)().isInApp,s=!0;try{(l||void 0===PublicKeyCredential)&&(s=!1)}catch(e){s=!1}return p=w.DeviceMeta&&(0,w.DeviceMeta)().isIosApp,f=!1,o===bl.SecurityKey&&l&&p&&e.value.isSecurityKeyOnAllPlatformsEnabled?[4,Kl.hybridResponseService.getNativeResponse(Kl.hybridResponseService.FeatureTarget.CREDENTIALS_PROTOCOL_AVAILABLE,{},2e3)]:[3,4];case 3:"true"===m.sent()&&(f=!0),m.label=4;case 4:return o!==bl.SecurityKey||s||f||(o=bl.Authenticator),y.replace(tu(o)),o===bl.Email&&g(!0),0!==(v=t.value.methods.filter((function(e){return e.enabled})).map((function(e){var t=e.mediaType;return bl[t]||null}))).length&&o||c.sendNoEnabledMethodsReturnedEvent(o,t.value.methods.length),!v.includes(bl.SecurityKey)||s||f||v.splice(v.indexOf(bl.SecurityKey),1),v.length>0&&a===gl.Login&&!v.includes(bl.RecoveryCode)&&v.push(bl.RecoveryCode),h({type:Xl.SET_USER_CONFIGURATION,userConfiguration:t.value,enabledMediaTypes:v}),c.sendUserConfigurationLoadedEvent(o),[2]}}))}))};(0,Q.useEffect)((function(){O()}),[]);var R={content:u.Action.Reload,label:u.Action.Reload,enabled:null!==T,action:O},P=function(){var e,t=o?ta:$r.Modal.Body,n=o?Da:Oa;return T?$().createElement($().Fragment,null,$().createElement(t,null,$().createElement("p",null,T)),$().createElement(n,{positiveButton:R,negativeButton:null})):i?(e=$().createElement($().Fragment,null,v&&l.length>1&&$().createElement(du,{requestInFlight:N})),$().createElement(ql.Switch,null,$().createElement(ql.Route,{path:tu(bl.Authenticator)},$().createElement(Eu,{requestInFlight:N,setRequestInFlight:L},e)),$().createElement(ql.Route,{path:tu(bl.Email)},$().createElement(Tu,{requestInFlight:N,setRequestInFlight:L},e)),$().createElement(ql.Route,{path:tu(bl.RecoveryCode)},$().createElement(wu,{requestInFlight:N,setRequestInFlight:L},e)),$().createElement(ql.Route,{path:tu(bl.SMS)},$().createElement(Pu,{requestInFlight:N,setRequestInFlight:L},e)),$().createElement(ql.Route,{path:tu(bl.SecurityKey)},$().createElement(Du,{requestInFlight:N,setRequestInFlight:L},e)),$().createElement(ql.Route,null,$().createElement(su,{hasSentEmailCode:E,setHasSentEmailCode:g,hasSentSmsCode:C,setHasSentSmsCode:_,requestInFlight:N,setRequestInFlight:L},e)))):$().createElement(t,null,$().createElement("span",{className:"spinner spinner-default spinner-no-margin modal-margin-bottom-large"}))};return o?$().createElement(ea,{titleText:u.Label.TwoStepVerification},P()):$().createElement($r.Modal,{className:"modal-modern",show:f,onHide:D,backdrop:"static"},$().createElement(Ma,{headerText:u.Label.TwoStepVerification,buttonType:sa.CLOSE,buttonAction:D,buttonEnabled:!N,headerInfo:null}),P())},Vu=(0,Br.withTranslations)((function(e){var t=e.userId,n=e.challengeId,r=e.actionType,a=e.renderInline,o=e.shouldModifyBrowserHistory,i=e.shouldShowRememberDeviceCheckbox,l=e.eventService,u=e.metricsService,c=e.requestService,s=e.translate,d=e.onChallengeCompleted,p=e.onChallengeInvalidated,f=e.onModalChallengeAbandoned,h=$().createElement(iu,{userId:t,challengeId:n,actionType:r,renderInline:a,shouldShowRememberDeviceCheckbox:i,eventService:l,metricsService:u,requestService:c,translate:s,onChallengeCompleted:d,onChallengeInvalidated:p,onModalChallengeAbandoned:f},$().createElement(xu,null));return o?$().createElement(Ul.HashRouter,{hashType:"noslash"},h):$().createElement(Ul.MemoryRouter,null,h)}),Gl),Wu=function(){function e(e,t){this.challengeId=e,this.targetUserId=t}return e.prototype.sendChallengeInitializedEvent=function(){N().EventStream.SendEventWithTarget(Fl,Bl.challengeInitialized,{challengeId:this.challengeId,targetUserId:this.targetUserId},N().EventStream.TargetTypes.WWW)},e.prototype.sendUserConfigurationLoadedEvent=function(e){N().EventStream.SendEventWithTarget(Fl,Bl.userConfigurationLoaded,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||""},N().EventStream.TargetTypes.WWW)},e.prototype.sendNoEnabledMethodsReturnedEvent=function(e,t){N().EventStream.SendEventWithTarget(Fl,Bl.noEnabledMethodsReturned,{challengeId:this.challengeId,targetUserId:this.targetUserId,primaryMediaType:e||"",methodsReturned:t},N().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeInvalidatedEvent=function(e){N().EventStream.SendEventWithTarget(Fl,Bl.challengeInvalidated,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||""},N().EventStream.TargetTypes.WWW)},e.prototype.sendChallengeAbandonedEvent=function(e){N().EventStream.SendEventWithTarget(Fl,Bl.challengeAbandoned,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||""},N().EventStream.TargetTypes.WWW)},e.prototype.sendEmailResendRequestedEvent=function(){N().EventStream.SendEventWithTarget(Fl,Bl.emailResendRequested,{challengeId:this.challengeId,targetUserId:this.targetUserId},N().EventStream.TargetTypes.WWW)},e.prototype.sendSmsResendRequestedEvent=function(){N().EventStream.SendEventWithTarget(Fl,Bl.smsResendRequested,{challengeId:this.challengeId,targetUserId:this.targetUserId},N().EventStream.TargetTypes.WWW)},e.prototype.sendMediaTypeChangedEvent=function(e){N().EventStream.SendEventWithTarget(Fl,Bl.mediaTypeChanged,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||""},N().EventStream.TargetTypes.WWW)},e.prototype.sendCodeSubmittedEvent=function(e){N().EventStream.SendEventWithTarget(Fl,Bl.codeSubmitted,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||""},N().EventStream.TargetTypes.WWW)},e.prototype.sendCodeVerificationFailedEvent=function(e,t){N().EventStream.SendEventWithTarget(Fl,Bl.codeVerificationFailed,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||"",reason:t},N().EventStream.TargetTypes.WWW)},e.prototype.sendCodeVerifiedEvent=function(e){N().EventStream.SendEventWithTarget(Fl,Bl.codeVerified,{challengeId:this.challengeId,targetUserId:this.targetUserId,mediaType:e||""},N().EventStream.TargetTypes.WWW)},e}(),Uu=function(){function e(e,t,n){this.appType=t||"unknown",this.actionType=e,this.solveTimeSequenceName=this.actionType+"_"+"TwoStepVerification_"+Zl.solveTime,this.eventTimer=new Sa,this.requestServiceDefault=n}return e.prototype.fireInitializedEvent=function(){if(Ta){var e=this.actionType+"_"+"TwoStepVerification_"+jl.initialized;Ta.fireEvent(e,e+"_"+this.appType),Ta.start(this.solveTimeSequenceName,this.solveTimeSequenceName+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Pr.Event2sv,value:1,labelValues:{action_type:this.actionType,event_type:jl.initialized,application_type:this.appType}}).catch((function(){})),this.eventTimer.start(this.solveTimeSequenceName)},e.prototype.fireVerifiedEvent=function(e){if(null!==e){if(Ta){var t=this.actionType+"_"+"TwoStepVerification_"+jl.verified+e;Ta.fireEvent(t,t+"_"+this.appType),Ta.endSuccess(this.solveTimeSequenceName,this.solveTimeSequenceName+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Pr.Event2sv,value:1,labelValues:{action_type:this.actionType,event_type:""+jl.verified+e,application_type:this.appType}}).catch((function(){}));var n=this.eventTimer.end(this.solveTimeSequenceName);null!==n&&this.requestServiceDefault.metrics.recordMetric({name:Pr.SolveTime2sv,value:n,labelValues:{action_type:this.actionType,event_type:""+jl.verified+e,application_type:this.appType}}).catch((function(){}))}},e.prototype.fireInvalidatedEvent=function(){if(Ta){var e=this.actionType+"_"+"TwoStepVerification_"+jl.invalidated;Ta.fireEvent(e,e+"_"+this.appType),Ta.endFailure(this.solveTimeSequenceName,this.solveTimeSequenceName+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Pr.Event2sv,value:1,labelValues:{action_type:this.actionType,event_type:jl.invalidated,application_type:this.appType}}).catch((function(){}));var t=this.eventTimer.end(this.solveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Pr.SolveTime2sv,value:t,labelValues:{action_type:this.actionType,event_type:jl.invalidated,application_type:this.appType}}).catch((function(){}))},e.prototype.fireAbandonedEvent=function(){if(Ta){var e=this.actionType+"_"+"TwoStepVerification_"+jl.abandoned;Ta.fireEvent(e,e+"_"+this.appType),Ta.endCancel(this.solveTimeSequenceName,this.solveTimeSequenceName+"_"+this.appType)}this.requestServiceDefault.metrics.recordMetric({name:Pr.Event2sv,value:1,labelValues:{action_type:this.actionType,event_type:jl.abandoned,application_type:this.appType}}).catch((function(){}));var t=this.eventTimer.end(this.solveTimeSequenceName);null!==t&&this.requestServiceDefault.metrics.recordMetric({name:Pr.SolveTime2sv,value:t,labelValues:{action_type:this.actionType,event_type:jl.abandoned,application_type:this.appType}}).catch((function(){}))},e}(),Hu=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Gu=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Fu=new Fr,Bu=function(e){var t=e.containerId,n=e.userId,r=e.challengeId,a=e.appType,o=e.actionType,i=e.renderInline,l=e.shouldModifyBrowserHistory,u=e.shouldShowRememberDeviceCheckbox,c=e.shouldDynamicallyLoadTranslationResources,s=e.onChallengeCompleted,d=e.onChallengeInvalidated,p=e.onModalChallengeAbandoned;return Hu(void 0,void 0,void 0,(function(){var e,f,h,v,y,m,E;return Gu(this,(function(g){switch(g.label){case 0:return null===(e=document.getElementById(t))?[3,4]:((0,ee.unmountComponentAtNode)(e),c?[4,Fu.translations.queryAndOverwriteResourcesForNamespace(Gl.feature,zl)]:[3,3]);case 1:return(f=g.sent()).isError?(console.error(Hl,"Got error code "+((null===(m=f.error)||void 0===m?void 0:m.toString())||"null")+" loading translations"),[2,!1]):Yl.length>0?[4,Fu.translations.queryAndOverwriteResourcesForNamespace(Gl.feature,Yl,Gl.feature,!0)]:[3,3];case 2:if((h=g.sent()).isError)return console.error(Hl,"Got error code "+((null===(E=h.error)||void 0===E?void 0:E.toString())||"null")+" loading translations"),[2,!1];g.label=3;case 3:return v=new Wu(r,n),y=new Uu(o,a,Fu),(0,ee.render)($().createElement(Vu,{userId:n,challengeId:r,actionType:o,renderInline:i,shouldModifyBrowserHistory:l||!1,shouldShowRememberDeviceCheckbox:u,eventService:v,metricsService:y,requestService:Fu,onChallengeCompleted:s,onChallengeInvalidated:d,onModalChallengeAbandoned:p}),e),v.sendChallengeInitializedEvent(),y.fireInitializedEvent(),[2,!0];case 4:return[2,!1]}}))}))},ju="Generic Challenge:",Zu="challengeClientAnalysisEventV1",zu={onCompleted:"onCompleted"},Yu={success:"Success",parseFailure:"ParseFailure",renderFailure:"RenderFailure"},qu="unknown";!function(e){e.CAPTCHA="captcha",e.FORCE_AUTHENTICATOR="forceauthenticator",e.FORCE_TWO_STEP_VERIFICATION="forcetwostepverification",e.TWO_STEP_VERIFICATION="twostepverification",e.SECURITY_QUESTIONS="securityquestions",e.REAUTHENTICATION="reauthentication",e.PROOF_OF_WORK="proofofwork"}(nu||(nu={}));var Ku,Xu=nu;!function(e){e.UNKNOWN="unknown",e.ABANDONED="abandoned",e.INVALIDATED="invalidated"}(Ku||(Ku={}));var Ju=function(){function e(){}return e.prototype.fireSuccessEvent=function(e){Gr({name:Pr.EventGeneric,value:1,labelValues:{event_type:Yu.success,challenge_type:e}}).catch((function(){}))},e.prototype.fireParseFailureEvent=function(){Gr({name:Pr.EventGeneric,value:1,labelValues:{event_type:Yu.parseFailure,challenge_type:qu}}).catch((function(){}))},e.prototype.fireRenderFailureEvent=function(e){Gr({name:Pr.EventGeneric,value:1,labelValues:{event_type:Yu.renderFailure,challenge_type:e}}).catch((function(){}))},e}(),Qu=function(e,t){return(Qu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function $u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Qu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ec,tc=function(){return(tc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function nc(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))}function rc(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}function ac(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oc(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function ic(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oc(arguments[t]));return e}"function"==typeof SuppressedError&&SuppressedError,function(e){e.assertNever=function(e){throw new Error},e.arrayToEnum=function(e){var t,n,r={};try{for(var a=ac(e),o=a.next();!o.done;o=a.next()){var i=o.value;r[i]=i}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},e.getValidEnumValues=function(t){var n,r,a=e.objectKeys(t).filter((function(e){return"number"!=typeof t[t[e]]})),o={};try{for(var i=ac(a),l=i.next();!l.done;l=i.next()){var u=l.value;o[u]=t[u]}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e.objectValues(o)},e.objectValues=function(t){return e.objectKeys(t).map((function(e){return t[e]}))},e.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=function(e,t){var n,r;try{for(var a=ac(e),o=a.next();!o.done;o=a.next()){var i=o.value;if(t(i))return i}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.joinValues=function(e,t){return void 0===t&&(t=" | "),e.map((function(e){return"string"==typeof e?"'"+e+"'":e})).join(t)}}(ec||(ec={}));var lc=ec.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),uc=function(e){switch(typeof e){case"undefined":return lc.undefined;case"string":return lc.string;case"number":return isNaN(e)?lc.nan:lc.number;case"boolean":return lc.boolean;case"function":return lc.function;case"bigint":return lc.bigint;case"object":return Array.isArray(e)?lc.array:null===e?lc.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?lc.promise:"undefined"!=typeof Map&&e instanceof Map?lc.map:"undefined"!=typeof Set&&e instanceof Set?lc.set:"undefined"!=typeof Date&&e instanceof Date?lc.date:lc.object;default:return lc.unknown}},cc=ec.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),sc=function(e){function t(t){var n=this.constructor,r=e.call(this)||this;r.issues=[],r.addIssue=function(e){r.issues=ic(r.issues,[e])},r.addIssues=function(e){void 0===e&&(e=[]),r.issues=ic(r.issues,e)};var a=n.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(r,a):r.__proto__=a,r.name="ZodError",r.issues=t,r}return $u(t,e),Object.defineProperty(t.prototype,"errors",{get:function(){return this.issues},enumerable:!1,configurable:!0}),t.prototype.format=function(e){var t=e||function(e){return e.message},n={_errors:[]},r=function(e){var a,o;try{for(var i=ac(e.issues),l=i.next();!l.done;l=i.next()){var u=l.value;if("invalid_union"===u.code)u.unionErrors.map(r);else if("invalid_return_type"===u.code)r(u.returnTypeError);else if("invalid_arguments"===u.code)r(u.argumentsError);else if(0===u.path.length)n._errors.push(t(u));else for(var c=n,s=0;s<u.path.length;){var d=u.path[s];s===u.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(t(u))):c[d]=c[d]||{_errors:[]},c=c[d],s++}}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(a)throw a.error}}};return r(this),n},t.prototype.toString=function(){return this.message},Object.defineProperty(t.prototype,"message",{get:function(){return JSON.stringify(this.issues,null,2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.issues.length},enumerable:!1,configurable:!0}),t.prototype.flatten=function(e){var t,n;void 0===e&&(e=function(e){return e.message});var r={},a=[];try{for(var o=ac(this.issues),i=o.next();!i.done;i=o.next()){var l=i.value;l.path.length>0?(r[l.path[0]]=r[l.path[0]]||[],r[l.path[0]].push(e(l))):a.push(e(l))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{formErrors:a,fieldErrors:r}},Object.defineProperty(t.prototype,"formErrors",{get:function(){return this.flatten()},enumerable:!1,configurable:!0}),t.create=function(e){return new t(e)},t}(Error),dc=function(e,t){var n;switch(e.code){case cc.invalid_type:n=e.received===lc.undefined?"Required":"Expected "+e.expected+", received "+e.received;break;case cc.invalid_literal:n="Invalid literal value, expected "+JSON.stringify(e.expected);break;case cc.unrecognized_keys:n="Unrecognized key(s) in object: "+ec.joinValues(e.keys,", ");break;case cc.invalid_union:n="Invalid input";break;case cc.invalid_union_discriminator:n="Invalid discriminator value. Expected "+ec.joinValues(e.options);break;case cc.invalid_enum_value:n="Invalid enum value. Expected "+ec.joinValues(e.options)+", received '"+e.received+"'";break;case cc.invalid_arguments:n="Invalid function arguments";break;case cc.invalid_return_type:n="Invalid function return type";break;case cc.invalid_date:n="Invalid date";break;case cc.invalid_string:n="regex"!==e.validation?"Invalid "+e.validation:"Invalid";break;case cc.too_small:n="array"===e.type?"Array must contain "+(e.inclusive?"at least":"more than")+" "+e.minimum+" element(s)":"string"===e.type?"String must contain "+(e.inclusive?"at least":"over")+" "+e.minimum+" character(s)":"number"===e.type?"Number must be greater than "+(e.inclusive?"or equal to ":"")+e.minimum:"Invalid input";break;case cc.too_big:n="array"===e.type?"Array must contain "+(e.inclusive?"at most":"less than")+" "+e.maximum+" element(s)":"string"===e.type?"String must contain "+(e.inclusive?"at most":"under")+" "+e.maximum+" character(s)":"number"===e.type?"Number must be less than "+(e.inclusive?"or equal to ":"")+e.maximum:"Invalid input";break;case cc.custom:n="Invalid input";break;case cc.invalid_intersection_types:n="Intersection results could not be merged";break;case cc.not_multiple_of:n="Number must be a multiple of "+e.multipleOf;break;default:n=t.defaultError,ec.assertNever(e)}return{message:n}},pc=dc,fc=function(e){var t,n,r=e.data,a=e.path,o=e.errorMaps,i=e.issueData,l=ic(a,i.path||[]),u=tc(tc({},i),{path:l}),c="",s=o.filter((function(e){return!!e})).slice().reverse();try{for(var d=ac(s),p=d.next();!p.done;p=d.next()){c=(0,p.value)(u,{data:r,defaultError:c}).message}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return tc(tc({},i),{path:l,message:i.message||c})};function hc(e,t){var n=fc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,pc,dc].filter((function(e){return!!e}))});e.common.issues.push(n)}var vc,yc=function(){function e(){this.value="valid"}return e.prototype.dirty=function(){"valid"===this.value&&(this.value="dirty")},e.prototype.abort=function(){"aborted"!==this.value&&(this.value="aborted")},e.mergeArray=function(e,t){var n,r,a=[];try{for(var o=ac(t),i=o.next();!i.done;i=o.next()){var l=i.value;if("aborted"===l.status)return mc;"dirty"===l.status&&e.dirty(),a.push(l.value)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return{status:e.value,value:a}},e.mergeObjectAsync=function(t,n){return nc(this,void 0,void 0,(function(){var r,a,o,i,l,u,c,s,d,p;return rc(this,(function(f){switch(f.label){case 0:r=[],f.label=1;case 1:f.trys.push([1,7,8,9]),a=ac(n),o=a.next(),f.label=2;case 2:return o.done?[3,6]:(i=o.value,u=(l=r).push,p={},[4,i.key]);case 3:return p.key=f.sent(),[4,i.value];case 4:u.apply(l,[(p.value=f.sent(),p)]),f.label=5;case 5:return o=a.next(),[3,2];case 6:return[3,9];case 7:return c=f.sent(),s={error:c},[3,9];case 8:try{o&&!o.done&&(d=a.return)&&d.call(a)}finally{if(s)throw s.error}return[7];case 9:return[2,e.mergeObjectSync(t,r)]}}))}))},e.mergeObjectSync=function(e,t){var n,r,a={};try{for(var o=ac(t),i=o.next();!i.done;i=o.next()){var l=i.value,u=l.key,c=l.value;if("aborted"===u.status)return mc;if("aborted"===c.status)return mc;"dirty"===u.status&&e.dirty(),"dirty"===c.status&&e.dirty(),(void 0!==c.value||l.alwaysSet)&&(a[u.value]=c.value)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return{status:e.value,value:a}},e}(),mc=Object.freeze({status:"aborted"}),Ec=function(e){return{status:"valid",value:e}},gc=function(e){return"aborted"===e.status},bc=function(e){return"dirty"===e.status},Cc=function(e){return"valid"===e.status},_c=function(e){return void 0!==typeof Promise&&e instanceof Promise};!function(e){e.errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},e.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message}}(vc||(vc={}));var Sc=function(){function e(e,t,n,r){this.parent=e,this.data=t,this._path=n,this._key=r}return Object.defineProperty(e.prototype,"path",{get:function(){return this._path.concat(this._key)},enumerable:!1,configurable:!0}),e}(),Tc=function(e,t){if(Cc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new sc(e.common.issues)}};function Ic(e){if(!e)return{};var t=e.errorMap,n=e.invalid_type_error,r=e.required_error,a=e.description;if(t&&(n||r))throw new Error('Can\'t use "invalid" or "required" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:function(t,n){return"invalid_type"!==t.code?{message:n.defaultError}:void 0===n.data&&r?{message:r}:e.invalid_type_error?{message:e.invalid_type_error}:{message:n.defaultError}},description:a}}var Ac=function(){function e(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}return Object.defineProperty(e.prototype,"description",{get:function(){return this._def.description},enumerable:!1,configurable:!0}),e.prototype._getType=function(e){return uc(e.data)},e.prototype._getOrReturnCtx=function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:uc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}},e.prototype._processInputParams=function(e){return{status:new yc,ctx:{common:e.parent.common,data:e.data,parsedType:uc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},e.prototype._parseSync=function(e){var t=this._parse(e);if(_c(t))throw new Error("Synchronous parse encountered promise.");return t},e.prototype._parseAsync=function(e){var t=this._parse(e);return Promise.resolve(t)},e.prototype.parse=function(e,t){var n=this.safeParse(e,t);if(n.success)return n.data;throw n.error},e.prototype.safeParse=function(e,t){var n,r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uc(e)},a=this._parseSync({data:e,path:r.path,parent:r});return Tc(r,a)},e.prototype.parseAsync=function(e,t){return nc(this,void 0,void 0,(function(){var n;return rc(this,(function(r){switch(r.label){case 0:return[4,this.safeParseAsync(e,t)];case 1:if((n=r.sent()).success)return[2,n.data];throw n.error}}))}))},e.prototype.safeParseAsync=function(e,t){return nc(this,void 0,void 0,(function(){var n,r,a;return rc(this,(function(o){switch(o.label){case 0:return n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uc(e)},r=this._parse({data:e,path:[],parent:n}),[4,_c(r)?r:Promise.resolve(r)];case 1:return a=o.sent(),[2,Tc(n,a)]}}))}))},e.prototype.refine=function(e,t){return this._refinement((function(n,r){var a=e(n),o=function(){return r.addIssue(tc({code:cc.custom},function(e){return"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t}(n)))};return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return!!e||(o(),!1)})):!!a||(o(),!1)}))},e.prototype.refinement=function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)}))},e.prototype._refinement=function(e){return new us({schema:this,typeName:as.ZodEffects,effect:{type:"refinement",refinement:e}})},e.prototype.optional=function(){return cs.create(this)},e.prototype.nullable=function(){return ss.create(this)},e.prototype.nullish=function(){return this.optional().nullable()},e.prototype.array=function(){return Fc.create(this)},e.prototype.promise=function(){return ls.create(this)},e.prototype.or=function(e){return zc.create([this,e])},e.prototype.and=function(e){return Kc.create(this,e)},e.prototype.transform=function(e){return new us({schema:this,typeName:as.ZodEffects,effect:{type:"transform",transform:e}})},e.prototype.default=function(e){return new ds({innerType:this,defaultValue:"function"==typeof e?e:function(){return e},typeName:as.ZodDefault})},e.prototype.describe=function(e){return new(0,this.constructor)(tc(tc({},this._def),{description:e}))},e.prototype.isOptional=function(){return this.safeParse(void 0).success},e.prototype.isNullable=function(){return this.safeParse(null).success},e}(),wc=/^c[^\s-]{8,}$/i,Nc=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Lc=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,Dc=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._regex=function(e,t,r){return n.refinement((function(t){return e.test(t)}),tc({validation:t,code:cc.invalid_string},vc.errToObj(r)))},n.nonempty=function(e){return n.min(1,vc.errToObj(e))},n.trim=function(){return new t(tc(tc({},n._def),{checks:ic(n._def.checks,[{kind:"trim"}])}))},n}return $u(t,e),t.prototype._parse=function(e){var t,n;if(this._getType(e)!==lc.string){var r=this._getOrReturnCtx(e);return hc(r,{code:cc.invalid_type,expected:lc.string,received:r.parsedType}),mc}var a=new yc,o=void 0;try{for(var i=ac(this._def.checks),l=i.next();!l.done;l=i.next()){var u=l.value;if("min"===u.kind)e.data.length<u.value&&(hc(o=this._getOrReturnCtx(e,o),{code:cc.too_small,minimum:u.value,type:"string",inclusive:!0,message:u.message}),a.dirty());else if("max"===u.kind)e.data.length>u.value&&(hc(o=this._getOrReturnCtx(e,o),{code:cc.too_big,maximum:u.value,type:"string",inclusive:!0,message:u.message}),a.dirty());else if("email"===u.kind)Lc.test(e.data)||(hc(o=this._getOrReturnCtx(e,o),{validation:"email",code:cc.invalid_string,message:u.message}),a.dirty());else if("uuid"===u.kind)Nc.test(e.data)||(hc(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:cc.invalid_string,message:u.message}),a.dirty());else if("cuid"===u.kind)wc.test(e.data)||(hc(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:cc.invalid_string,message:u.message}),a.dirty());else if("url"===u.kind)try{new URL(e.data)}catch(t){hc(o=this._getOrReturnCtx(e,o),{validation:"url",code:cc.invalid_string,message:u.message}),a.dirty()}else if("regex"===u.kind){u.regex.lastIndex=0,u.regex.test(e.data)||(hc(o=this._getOrReturnCtx(e,o),{validation:"regex",code:cc.invalid_string,message:u.message}),a.dirty())}else"trim"===u.kind?e.data=e.data.trim():ec.assertNever(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{status:a.value,value:e.data}},t.prototype._addCheck=function(e){return new t(tc(tc({},this._def),{checks:ic(this._def.checks,[e])}))},t.prototype.email=function(e){return this._addCheck(tc({kind:"email"},vc.errToObj(e)))},t.prototype.url=function(e){return this._addCheck(tc({kind:"url"},vc.errToObj(e)))},t.prototype.uuid=function(e){return this._addCheck(tc({kind:"uuid"},vc.errToObj(e)))},t.prototype.cuid=function(e){return this._addCheck(tc({kind:"cuid"},vc.errToObj(e)))},t.prototype.regex=function(e,t){return this._addCheck(tc({kind:"regex",regex:e},vc.errToObj(t)))},t.prototype.min=function(e,t){return this._addCheck(tc({kind:"min",value:e},vc.errToObj(t)))},t.prototype.max=function(e,t){return this._addCheck(tc({kind:"max",value:e},vc.errToObj(t)))},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},Object.defineProperty(t.prototype,"isEmail",{get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isURL",{get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUUID",{get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCUID",{get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minLength",{get:function(){var e=-1/0;return this._def.checks.map((function(t){"min"===t.kind&&(null===e||t.value>e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){var e=null;return this._def.checks.map((function(t){"max"===t.kind&&(null===e||t.value<e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),t.create=function(e){return new t(tc({checks:[],typeName:as.ZodString},Ic(e)))},t}(Ac);var Oc,Rc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.min=t.gte,t.max=t.lte,t.step=t.multipleOf,t}return $u(t,e),t.prototype._parse=function(e){var t,n;if(this._getType(e)!==lc.number){var r=this._getOrReturnCtx(e);return hc(r,{code:cc.invalid_type,expected:lc.number,received:r.parsedType}),mc}var a,o,i,l,u,c=void 0,s=new yc;try{for(var d=ac(this._def.checks),p=d.next();!p.done;p=d.next()){var f=p.value;if("int"===f.kind)ec.isInteger(e.data)||(hc(c=this._getOrReturnCtx(e,c),{code:cc.invalid_type,expected:"integer",received:"float",message:f.message}),s.dirty());else if("min"===f.kind){(f.inclusive?e.data<f.value:e.data<=f.value)&&(hc(c=this._getOrReturnCtx(e,c),{code:cc.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,message:f.message}),s.dirty())}else if("max"===f.kind){(f.inclusive?e.data>f.value:e.data>=f.value)&&(hc(c=this._getOrReturnCtx(e,c),{code:cc.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,message:f.message}),s.dirty())}else"multipleOf"===f.kind?0!=(a=e.data,o=f.value,i=void 0,l=void 0,u=void 0,i=(a.toString().split(".")[1]||"").length,l=(o.toString().split(".")[1]||"").length,u=i>l?i:l,parseInt(a.toFixed(u).replace(".",""))%parseInt(o.toFixed(u).replace(".",""))/Math.pow(10,u))&&(hc(c=this._getOrReturnCtx(e,c),{code:cc.not_multiple_of,multipleOf:f.value,message:f.message}),s.dirty()):ec.assertNever(f)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return{status:s.value,value:e.data}},t.prototype.gte=function(e,t){return this.setLimit("min",e,!0,vc.toString(t))},t.prototype.gt=function(e,t){return this.setLimit("min",e,!1,vc.toString(t))},t.prototype.lte=function(e,t){return this.setLimit("max",e,!0,vc.toString(t))},t.prototype.lt=function(e,t){return this.setLimit("max",e,!1,vc.toString(t))},t.prototype.setLimit=function(e,n,r,a){return new t(tc(tc({},this._def),{checks:ic(this._def.checks,[{kind:e,value:n,inclusive:r,message:vc.toString(a)}])}))},t.prototype._addCheck=function(e){return new t(tc(tc({},this._def),{checks:ic(this._def.checks,[e])}))},t.prototype.int=function(e){return this._addCheck({kind:"int",message:vc.toString(e)})},t.prototype.positive=function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vc.toString(e)})},t.prototype.negative=function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vc.toString(e)})},t.prototype.nonpositive=function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vc.toString(e)})},t.prototype.nonnegative=function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vc.toString(e)})},t.prototype.multipleOf=function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:vc.toString(t)})},Object.defineProperty(t.prototype,"minValue",{get:function(){var e,t,n=null;try{for(var r=ac(this._def.checks),a=r.next();!a.done;a=r.next()){var o=a.value;"min"===o.kind&&(null===n||o.value>n)&&(n=o.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){var e,t,n=null;try{for(var r=ac(this._def.checks),a=r.next();!a.done;a=r.next()){var o=a.value;"max"===o.kind&&(null===n||o.value<n)&&(n=o.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInt",{get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind}))},enumerable:!1,configurable:!0}),t.create=function(e){return new t(tc({checks:[],typeName:as.ZodNumber},Ic(e)))},t}(Ac),Pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){if(this._getType(e)!==lc.bigint){var t=this._getOrReturnCtx(e);return hc(t,{code:cc.invalid_type,expected:lc.bigint,received:t.parsedType}),mc}return Ec(e.data)},t.create=function(e){return new t(tc({typeName:as.ZodBigInt},Ic(e)))},t}(Ac),Mc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){if(this._getType(e)!==lc.boolean){var t=this._getOrReturnCtx(e);return hc(t,{code:cc.invalid_type,expected:lc.boolean,received:t.parsedType}),mc}return Ec(e.data)},t.create=function(e){return new t(tc({typeName:as.ZodBoolean},Ic(e)))},t}(Ac),kc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t;return this._getType(e)!==lc.date?(hc(t=this._getOrReturnCtx(e),{code:cc.invalid_type,expected:lc.date,received:t.parsedType}),mc):isNaN(e.data.getTime())?(hc(t=this._getOrReturnCtx(e),{code:cc.invalid_date}),mc):{status:"valid",value:new Date(e.data.getTime())}},t.create=function(e){return new t(tc({typeName:as.ZodDate},Ic(e)))},t}(Ac),xc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){if(this._getType(e)!==lc.undefined){var t=this._getOrReturnCtx(e);return hc(t,{code:cc.invalid_type,expected:lc.undefined,received:t.parsedType}),mc}return Ec(e.data)},t.create=function(e){return new t(tc({typeName:as.ZodUndefined},Ic(e)))},t}(Ac),Vc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){if(this._getType(e)!==lc.null){var t=this._getOrReturnCtx(e);return hc(t,{code:cc.invalid_type,expected:lc.null,received:t.parsedType}),mc}return Ec(e.data)},t.create=function(e){return new t(tc({typeName:as.ZodNull},Ic(e)))},t}(Ac),Wc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._any=!0,t}return $u(t,e),t.prototype._parse=function(e){return Ec(e.data)},t.create=function(e){return new t(tc({typeName:as.ZodAny},Ic(e)))},t}(Ac),Uc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._unknown=!0,t}return $u(t,e),t.prototype._parse=function(e){return Ec(e.data)},t.create=function(e){return new t(tc({typeName:as.ZodUnknown},Ic(e)))},t}(Ac),Hc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t=this._getOrReturnCtx(e);return hc(t,{code:cc.invalid_type,expected:lc.never,received:t.parsedType}),mc},t.create=function(e){return new t(tc({typeName:as.ZodNever},Ic(e)))},t}(Ac),Gc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){if(this._getType(e)!==lc.undefined){var t=this._getOrReturnCtx(e);return hc(t,{code:cc.invalid_type,expected:lc.void,received:t.parsedType}),mc}return Ec(e.data)},t.create=function(e){return new t(tc({typeName:as.ZodVoid},Ic(e)))},t}(Ac),Fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),n=t.ctx,r=t.status,a=this._def;if(n.parsedType!==lc.array)return hc(n,{code:cc.invalid_type,expected:lc.array,received:n.parsedType}),mc;if(null!==a.minLength&&n.data.length<a.minLength.value&&(hc(n,{code:cc.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,message:a.minLength.message}),r.dirty()),null!==a.maxLength&&n.data.length>a.maxLength.value&&(hc(n,{code:cc.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all(n.data.map((function(e,t){return a.type._parseAsync(new Sc(n,e,n.path,t))}))).then((function(e){return yc.mergeArray(r,e)}));var o=n.data.map((function(e,t){return a.type._parseSync(new Sc(n,e,n.path,t))}));return yc.mergeArray(r,o)},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.type},enumerable:!1,configurable:!0}),t.prototype.min=function(e,n){return new t(tc(tc({},this._def),{minLength:{value:e,message:vc.toString(n)}}))},t.prototype.max=function(e,n){return new t(tc(tc({},this._def),{maxLength:{value:e,message:vc.toString(n)}}))},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},t.prototype.nonempty=function(e){return this.min(1,e)},t.create=function(e,n){return new t(tc({type:e,minLength:null,maxLength:null,typeName:as.ZodArray},Ic(n)))},t}(Ac);!function(e){e.mergeShapes=function(e,t){return tc(tc({},e),t)}}(Oc||(Oc={}));var Bc=function(e){return function(t){return new Zc(tc(tc({},e),{shape:function(){return tc(tc({},e.shape()),t)}}))}};function jc(e){if(e instanceof Zc){var t={};for(var n in e.shape){var r=e.shape[n];t[n]=cs.create(jc(r))}return new Zc(tc(tc({},e._def),{shape:function(){return t}}))}return e instanceof Fc?Fc.create(jc(e.element)):e instanceof cs?cs.create(jc(e.unwrap())):e instanceof ss?ss.create(jc(e.unwrap())):e instanceof Xc?Xc.create(e.items.map((function(e){return jc(e)}))):e}var Zc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cached=null,t.nonstrict=t.passthrough,t.augment=Bc(t._def),t.extend=Bc(t._def),t}return $u(t,e),t.prototype._getCached=function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=ec.objectKeys(e);return this._cached={shape:e,keys:t}},t.prototype._parse=function(e){var t,n,r,a,o,i,l=this;if(this._getType(e)!==lc.object){var u=this._getOrReturnCtx(e);return hc(u,{code:cc.invalid_type,expected:lc.object,received:u.parsedType}),mc}var c=this._processInputParams(e),s=c.status,d=c.ctx,p=this._getCached(),f=p.shape,h=p.keys,v=[];for(var y in d.data)h.includes(y)||v.push(y);var m=[];try{for(var E=ac(h),g=E.next();!g.done;g=E.next()){var b=f[y=g.value],C=d.data[y];m.push({key:{status:"valid",value:y},value:b._parse(new Sc(d,C,d.path,y)),alwaysSet:y in d.data})}}catch(e){t={error:e}}finally{try{g&&!g.done&&(n=E.return)&&n.call(E)}finally{if(t)throw t.error}}if(this._def.catchall instanceof Hc){var _=this._def.unknownKeys;if("passthrough"===_)try{for(var S=ac(v),T=S.next();!T.done;T=S.next()){y=T.value;m.push({key:{status:"valid",value:y},value:{status:"valid",value:d.data[y]}})}}catch(e){r={error:e}}finally{try{T&&!T.done&&(a=S.return)&&a.call(S)}finally{if(r)throw r.error}}else if("strict"===_)v.length>0&&(hc(d,{code:cc.unrecognized_keys,keys:v}),s.dirty());else if("strip"!==_)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var I=this._def.catchall;try{for(var A=ac(v),w=A.next();!w.done;w=A.next()){y=w.value,C=d.data[y];m.push({key:{status:"valid",value:y},value:I._parse(new Sc(d,C,d.path,y)),alwaysSet:y in d.data})}}catch(e){o={error:e}}finally{try{w&&!w.done&&(i=A.return)&&i.call(A)}finally{if(o)throw o.error}}}return d.common.async?Promise.resolve().then((function(){return nc(l,void 0,void 0,(function(){var e,t,n,r,a,o,i,l,u,c,s;return rc(this,(function(d){switch(d.label){case 0:e=[],d.label=1;case 1:d.trys.push([1,7,8,9]),t=ac(m),n=t.next(),d.label=2;case 2:return n.done?[3,6]:[4,(r=n.value).key];case 3:return a=d.sent(),i=(o=e).push,s={key:a},[4,r.value];case 4:i.apply(o,[(s.value=d.sent(),s.alwaysSet=r.alwaysSet,s)]),d.label=5;case 5:return n=t.next(),[3,2];case 6:return[3,9];case 7:return l=d.sent(),u={error:l},[3,9];case 8:try{n&&!n.done&&(c=t.return)&&c.call(t)}finally{if(u)throw u.error}return[7];case 9:return[2,e]}}))}))})).then((function(e){return yc.mergeObjectSync(s,e)})):yc.mergeObjectSync(s,m)},Object.defineProperty(t.prototype,"shape",{get:function(){return this._def.shape()},enumerable:!1,configurable:!0}),t.prototype.strict=function(e){var n=this;return vc.errToObj,new t(tc(tc(tc({},this._def),{unknownKeys:"strict"}),void 0!==e?{errorMap:function(t,r){var a,o,i,l,u=null!==(i=null===(o=(a=n._def).errorMap)||void 0===o?void 0:o.call(a,t,r).message)&&void 0!==i?i:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(l=vc.errToObj(e).message)&&void 0!==l?l:u}:{message:u}}}:{}))},t.prototype.strip=function(){return new t(tc(tc({},this._def),{unknownKeys:"strip"}))},t.prototype.passthrough=function(){return new t(tc(tc({},this._def),{unknownKeys:"passthrough"}))},t.prototype.setKey=function(e,t){var n;return this.augment(((n={})[e]=t,n))},t.prototype.merge=function(e){var n=this;return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return Oc.mergeShapes(n._def.shape(),e._def.shape())},typeName:as.ZodObject})},t.prototype.catchall=function(e){return new t(tc(tc({},this._def),{catchall:e}))},t.prototype.pick=function(e){var n=this,r={};return ec.objectKeys(e).map((function(e){n.shape[e]&&(r[e]=n.shape[e])})),new t(tc(tc({},this._def),{shape:function(){return r}}))},t.prototype.omit=function(e){var n=this,r={};return ec.objectKeys(this.shape).map((function(t){-1===ec.objectKeys(e).indexOf(t)&&(r[t]=n.shape[t])})),new t(tc(tc({},this._def),{shape:function(){return r}}))},t.prototype.deepPartial=function(){return jc(this)},t.prototype.partial=function(e){var n=this,r={};if(e)return ec.objectKeys(this.shape).map((function(t){-1===ec.objectKeys(e).indexOf(t)?r[t]=n.shape[t]:r[t]=n.shape[t].optional()})),new t(tc(tc({},this._def),{shape:function(){return r}}));for(var a in this.shape){var o=this.shape[a];r[a]=o.optional()}return new t(tc(tc({},this._def),{shape:function(){return r}}))},t.prototype.required=function(){var e={};for(var n in this.shape){for(var r=this.shape[n];r instanceof cs;)r=r._def.innerType;e[n]=r}return new t(tc(tc({},this._def),{shape:function(){return e}}))},t.create=function(e,n){return new t(tc({shape:function(){return e},unknownKeys:"strip",catchall:Hc.create(),typeName:as.ZodObject},Ic(n)))},t.strictCreate=function(e,n){return new t(tc({shape:function(){return e},unknownKeys:"strict",catchall:Hc.create(),typeName:as.ZodObject},Ic(n)))},t.lazycreate=function(e,n){return new t(tc({shape:e,unknownKeys:"strip",catchall:Hc.create(),typeName:as.ZodObject},Ic(n)))},t}(Ac),zc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t,n,r,a=this,o=this._processInputParams(e).ctx,i=this._def.options;if(o.common.async)return Promise.all(i.map((function(e){return nc(a,void 0,void 0,(function(){var t,n;return rc(this,(function(r){switch(r.label){case 0:return t=tc(tc({},o),{common:tc(tc({},o.common),{issues:[]}),parent:null}),n={},[4,e._parseAsync({data:o.data,path:o.path,parent:t})];case 1:return[2,(n.result=r.sent(),n.ctx=t,n)]}}))}))}))).then((function(e){var t,n,r,a,i;try{for(var l=ac(e),u=l.next();!u.done;u=l.next())if("valid"===(d=u.value).result.status)return d.result}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}try{for(var c=ac(e),s=c.next();!s.done;s=c.next()){var d;if("dirty"===(d=s.value).result.status)return(i=o.common.issues).push.apply(i,ic(d.ctx.common.issues)),d.result}}catch(e){r={error:e}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}var p=e.map((function(e){return new sc(e.ctx.common.issues)}));return hc(o,{code:cc.invalid_union,unionErrors:p}),mc}));var l=void 0,u=[];try{for(var c=ac(i),s=c.next();!s.done;s=c.next()){var d=s.value,p=tc(tc({},o),{common:tc(tc({},o.common),{issues:[]}),parent:null}),f=d._parseSync({data:o.data,path:o.path,parent:p});if("valid"===f.status)return f;"dirty"!==f.status||l||(l={result:f,ctx:p}),p.common.issues.length&&u.push(p.common.issues)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}if(l)return(r=o.common.issues).push.apply(r,ic(l.ctx.common.issues)),l.result;var h=u.map((function(e){return new sc(e)}));return hc(o,{code:cc.invalid_union,unionErrors:h}),mc},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.options},enumerable:!1,configurable:!0}),t.create=function(e,n){return new t(tc({options:e,typeName:as.ZodUnion},Ic(n)))},t}(Ac),Yc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==lc.object)return hc(t,{code:cc.invalid_type,expected:lc.object,received:t.parsedType}),mc;var n=this.discriminator,r=t.data[n],a=this.options.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(hc(t,{code:cc.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[n]}),mc)},Object.defineProperty(t.prototype,"discriminator",{get:function(){return this._def.discriminator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validDiscriminatorValues",{get:function(){return Array.from(this.options.keys())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._def.options},enumerable:!1,configurable:!0}),t.create=function(e,n,r){var a=new Map;try{n.forEach((function(t){var n=t.shape[e].value;a.set(n,t)}))}catch(e){throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(a.size!==n.length)throw new Error("Some of the discriminator values are not unique");return new t(tc({typeName:as.ZodDiscriminatedUnion,discriminator:e,options:a},Ic(r)))},t}(Ac);function qc(e,t){var n,r,a=uc(e),o=uc(t);if(e===t)return{valid:!0,data:e};if(a===lc.object&&o===lc.object){var i=ec.objectKeys(t),l=ec.objectKeys(e).filter((function(e){return-1!==i.indexOf(e)})),u=tc(tc({},e),t);try{for(var c=ac(l),s=c.next();!s.done;s=c.next()){var d=s.value;if(!(h=qc(e[d],t[d])).valid)return{valid:!1};u[d]=h.data}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{valid:!0,data:u}}if(a===lc.array&&o===lc.array){if(e.length!==t.length)return{valid:!1};for(var p=[],f=0;f<e.length;f++){var h;if(!(h=qc(e[f],t[f])).valid)return{valid:!1};p.push(h.data)}return{valid:!0,data:p}}return a===lc.date&&o===lc.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var Kc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx,a=function(e,t){if(gc(e)||gc(t))return mc;var a=qc(e.value,t.value);return a.valid?((bc(e)||bc(t))&&n.dirty(),{status:n.value,value:a.data}):(hc(r,{code:cc.invalid_intersection_types}),mc)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((function(e){var t=oc(e,2),n=t[0],r=t[1];return a(n,r)})):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))},t.create=function(e,n,r){return new t(tc({left:e,right:n,typeName:as.ZodIntersection},Ic(r)))},t}(Ac),Xc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx;if(a.parsedType!==lc.array)return hc(a,{code:cc.invalid_type,expected:lc.array,received:a.parsedType}),mc;if(a.data.length<this._def.items.length)return hc(a,{code:cc.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),mc;!this._def.rest&&a.data.length>this._def.items.length&&(hc(a,{code:cc.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),r.dirty());var o=a.data.map((function(e,n){var r=t._def.items[n]||t._def.rest;return r?r._parse(new Sc(a,e,a.path,n)):null})).filter((function(e){return!!e}));return a.common.async?Promise.all(o).then((function(e){return yc.mergeArray(r,e)})):yc.mergeArray(r,o)},Object.defineProperty(t.prototype,"items",{get:function(){return this._def.items},enumerable:!1,configurable:!0}),t.prototype.rest=function(e){return new t(tc(tc({},this._def),{rest:e}))},t.create=function(e,n){return new t(tc({items:e,typeName:as.ZodTuple,rest:null},Ic(n)))},t}(Ac),Jc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),Object.defineProperty(t.prototype,"keySchema",{get:function(){return this._def.keyType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueSchema",{get:function(){return this._def.valueType},enumerable:!1,configurable:!0}),t.prototype._parse=function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==lc.object)return hc(r,{code:cc.invalid_type,expected:lc.object,received:r.parsedType}),mc;var a=[],o=this._def.keyType,i=this._def.valueType;for(var l in r.data)a.push({key:o._parse(new Sc(r,l,r.path,l)),value:i._parse(new Sc(r,r.data[l],r.path,l))});return r.common.async?yc.mergeObjectAsync(n,a):yc.mergeObjectSync(n,a)},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.valueType},enumerable:!1,configurable:!0}),t.create=function(e,n,r){return new t(n instanceof Ac?tc({keyType:e,valueType:n,typeName:as.ZodRecord},Ic(r)):tc({keyType:Dc.create(),valueType:e,typeName:as.ZodRecord},Ic(n)))},t}(Ac),Qc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t,n,r=this,a=this._processInputParams(e),o=a.status,i=a.ctx;if(i.parsedType!==lc.map)return hc(i,{code:cc.invalid_type,expected:lc.map,received:i.parsedType}),mc;var l=this._def.keyType,u=this._def.valueType,c=ic(i.data.entries()).map((function(e,t){var n=oc(e,2),r=n[0],a=n[1];return{key:l._parse(new Sc(i,r,i.path,[t,"key"])),value:u._parse(new Sc(i,a,i.path,[t,"value"]))}}));if(i.common.async){var s=new Map;return Promise.resolve().then((function(){return nc(r,void 0,void 0,(function(){var e,t,n,r,a,i,l,u;return rc(this,(function(d){switch(d.label){case 0:d.trys.push([0,6,7,8]),e=ac(c),t=e.next(),d.label=1;case 1:return t.done?[3,5]:[4,(n=t.value).key];case 2:return r=d.sent(),[4,n.value];case 3:if(a=d.sent(),"aborted"===r.status||"aborted"===a.status)return[2,mc];"dirty"!==r.status&&"dirty"!==a.status||o.dirty(),s.set(r.value,a.value),d.label=4;case 4:return t=e.next(),[3,1];case 5:return[3,8];case 6:return i=d.sent(),l={error:i},[3,8];case 7:try{t&&!t.done&&(u=e.return)&&u.call(e)}finally{if(l)throw l.error}return[7];case 8:return[2,{status:o.value,value:s}]}}))}))}))}var d=new Map;try{for(var p=ac(c),f=p.next();!f.done;f=p.next()){var h=f.value,v=h.key,y=h.value;if("aborted"===v.status||"aborted"===y.status)return mc;"dirty"!==v.status&&"dirty"!==y.status||o.dirty(),d.set(v.value,y.value)}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}return{status:o.value,value:d}},t.create=function(e,n,r){return new t(tc({valueType:n,keyType:e,typeName:as.ZodMap},Ic(r)))},t}(Ac),$c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==lc.set)return hc(r,{code:cc.invalid_type,expected:lc.set,received:r.parsedType}),mc;var a=this._def;null!==a.minSize&&r.data.size<a.minSize.value&&(hc(r,{code:cc.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,message:a.minSize.message}),n.dirty()),null!==a.maxSize&&r.data.size>a.maxSize.value&&(hc(r,{code:cc.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,message:a.maxSize.message}),n.dirty());var o=this._def.valueType;function i(e){var t,r,a=new Set;try{for(var o=ac(e),i=o.next();!i.done;i=o.next()){var l=i.value;if("aborted"===l.status)return mc;"dirty"===l.status&&n.dirty(),a.add(l.value)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return{status:n.value,value:a}}var l=ic(r.data.values()).map((function(e,t){return o._parse(new Sc(r,e,r.path,t))}));return r.common.async?Promise.all(l).then((function(e){return i(e)})):i(l)},t.prototype.min=function(e,n){return new t(tc(tc({},this._def),{minSize:{value:e,message:vc.toString(n)}}))},t.prototype.max=function(e,n){return new t(tc(tc({},this._def),{maxSize:{value:e,message:vc.toString(n)}}))},t.prototype.size=function(e,t){return this.min(e,t).max(e,t)},t.prototype.nonempty=function(e){return this.min(1,e)},t.create=function(e,n){return new t(tc({valueType:e,minSize:null,maxSize:null,typeName:as.ZodSet},Ic(n)))},t}(Ac),es=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.validate=t.implement,t}return $u(t,e),t.prototype._parse=function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==lc.function)return hc(n,{code:cc.invalid_type,expected:lc.function,received:n.parsedType}),mc;function r(e,t){return fc({data:e,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,pc,dc].filter((function(e){return!!e})),issueData:{code:cc.invalid_arguments,argumentsError:t}})}function a(e,t){return fc({data:e,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,pc,dc].filter((function(e){return!!e})),issueData:{code:cc.invalid_return_type,returnTypeError:t}})}var o={errorMap:n.common.contextualErrorMap},i=n.data;return this._def.returns instanceof ls?Ec((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return nc(t,void 0,void 0,(function(){var t,n,l;return rc(this,(function(u){switch(u.label){case 0:return t=new sc([]),[4,this._def.args.parseAsync(e,o).catch((function(n){throw t.addIssue(r(e,n)),t}))];case 1:return n=u.sent(),[4,i.apply(void 0,ic(n))];case 2:return l=u.sent(),[4,this._def.returns._def.type.parseAsync(l,o).catch((function(e){throw t.addIssue(a(l,e)),t}))];case 3:return[2,u.sent()]}}))}))})):Ec((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var l=t._def.args.safeParse(e,o);if(!l.success)throw new sc([r(e,l.error)]);var u=i.apply(void 0,ic(l.data)),c=t._def.returns.safeParse(u,o);if(!c.success)throw new sc([a(u,c.error)]);return c.data}))},t.prototype.parameters=function(){return this._def.args},t.prototype.returnType=function(){return this._def.returns},t.prototype.args=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(tc(tc({},this._def),{args:Xc.create(e).rest(Uc.create())}))},t.prototype.returns=function(e){return new t(tc(tc({},this._def),{returns:e}))},t.prototype.implement=function(e){return this.parse(e)},t.prototype.strictImplement=function(e){return this.parse(e)},t.create=function(e,n,r){return new t(tc({args:e?e.rest(Uc.create()):Xc.create([]).rest(Uc.create()),returns:n||Uc.create(),typeName:as.ZodFunction},Ic(r)))},t}(Ac),ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),Object.defineProperty(t.prototype,"schema",{get:function(){return this._def.getter()},enumerable:!1,configurable:!0}),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})},t.create=function(e,n){return new t(tc({getter:e,typeName:as.ZodLazy},Ic(n)))},t}(Ac),ns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){return e.data!==this._def.value?(hc(this._getOrReturnCtx(e),{code:cc.invalid_literal,expected:this._def.value}),mc):{status:"valid",value:e.data}},Object.defineProperty(t.prototype,"value",{get:function(){return this._def.value},enumerable:!1,configurable:!0}),t.create=function(e,n){return new t(tc({value:e,typeName:as.ZodLiteral},Ic(n)))},t}(Ac);function rs(e,t){return new os(tc({values:e,typeName:as.ZodEnum},Ic(t)))}var as,os=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){if("string"!=typeof e.data){var t=this._getOrReturnCtx(e),n=this._def.values;return hc(t,{expected:ec.joinValues(n),received:t.parsedType,code:cc.invalid_type}),mc}if(-1===this._def.values.indexOf(e.data)){t=this._getOrReturnCtx(e),n=this._def.values;return hc(t,{received:t.data,code:cc.invalid_enum_value,options:n}),mc}return Ec(e.data)},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.values},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enum",{get:function(){var e,t,n={};try{for(var r=ac(this._def.values),a=r.next();!a.done;a=r.next()){var o=a.value;n[o]=o}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Values",{get:function(){var e,t,n={};try{for(var r=ac(this._def.values),a=r.next();!a.done;a=r.next()){var o=a.value;n[o]=o}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Enum",{get:function(){var e,t,n={};try{for(var r=ac(this._def.values),a=r.next();!a.done;a=r.next()){var o=a.value;n[o]=o}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),t.create=rs,t}(Ac),is=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t=ec.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==lc.string&&n.parsedType!==lc.number){var r=ec.objectValues(t);return hc(n,{expected:ec.joinValues(r),received:n.parsedType,code:cc.invalid_type}),mc}if(-1===t.indexOf(e.data)){r=ec.objectValues(t);return hc(n,{received:n.data,code:cc.invalid_enum_value,options:r}),mc}return Ec(e.data)},Object.defineProperty(t.prototype,"enum",{get:function(){return this._def.values},enumerable:!1,configurable:!0}),t.create=function(e,n){return new t(tc({values:e,typeName:as.ZodNativeEnum},Ic(n)))},t}(Ac),ls=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==lc.promise&&!1===n.common.async)return hc(n,{code:cc.invalid_type,expected:lc.promise,received:n.parsedType}),mc;var r=n.parsedType===lc.promise?n.data:Promise.resolve(n.data);return Ec(r.then((function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})})))},t.create=function(e,n){return new t(tc({type:e,typeName:as.ZodPromise},Ic(n)))},t}(Ac),us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype.innerType=function(){return this._def.schema},t.prototype._parse=function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx,o=this._def.effect||null;if("preprocess"===o.type){var i=o.transform(a.data);return a.common.async?Promise.resolve(i).then((function(e){return t._def.schema._parseAsync({data:e,path:a.path,parent:a})})):this._def.schema._parseSync({data:i,path:a.path,parent:a})}var l={addIssue:function(e){hc(a,e),e.fatal?r.abort():r.dirty()},get path(){return a.path}};if(l.addIssue=l.addIssue.bind(l),"refinement"===o.type){var u=function(e){var t=o.refinement(e,l);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===a.common.async){var c=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===c.status?mc:("dirty"===c.status&&r.dirty(),u(c.value),{status:r.value,value:c.value})}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((function(e){return"aborted"===e.status?mc:("dirty"===e.status&&r.dirty(),u(e.value).then((function(){return{status:r.value,value:e.value}})))}))}if("transform"===o.type){if(!1===a.common.async){var s=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Cc(s))return s;var d=o.transform(s.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((function(e){return Cc(e)?Promise.resolve(o.transform(e.value,l)).then((function(e){return{status:r.value,value:e}})):e}))}ec.assertNever(o)},t.create=function(e,n,r){return new t(tc({schema:e,typeName:as.ZodEffects,effect:n},Ic(r)))},t.createWithPreprocess=function(e,n,r){return new t(tc({schema:n,effect:{type:"preprocess",transform:e},typeName:as.ZodEffects},Ic(r)))},t}(Ac),cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){return this._getType(e)===lc.undefined?Ec(void 0):this._def.innerType._parse(e)},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e,n){return new t(tc({innerType:e,typeName:as.ZodOptional},Ic(n)))},t}(Ac),ss=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){return this._getType(e)===lc.null?Ec(null):this._def.innerType._parse(e)},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e,n){return new t(tc({innerType:e,typeName:as.ZodNullable},Ic(n)))},t}(Ac),ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx,n=t.data;return t.parsedType===lc.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})},t.prototype.removeDefault=function(){return this._def.innerType},t.create=function(e,t){return new cs(tc({innerType:e,typeName:as.ZodOptional},Ic(t)))},t}(Ac),ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype._parse=function(e){if(this._getType(e)!==lc.nan){var t=this._getOrReturnCtx(e);return hc(t,{code:cc.invalid_type,expected:lc.nan,received:t.parsedType}),mc}return{status:"valid",value:e.data}},t.create=function(e){return new t(tc({typeName:as.ZodNaN},Ic(e)))},t}(Ac);Zc.lazycreate;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise"}(as||(as={}));var fs,hs,vs=Dc.create,ys=(Rc.create,ps.create,Pc.create,Mc.create),ms=(kc.create,xc.create,Vc.create,Wc.create,Uc.create,Hc.create,Gc.create,Fc.create),Es=Zc.create,gs=(Zc.strictCreate,zc.create),bs=(Yc.create,Kc.create,Xc.create,Jc.create,Qc.create,$c.create,es.create,ts.create,ns.create),Cs=(os.create,is.create),_s=(ls.create,us.create,cs.create,ss.create,us.createWithPreprocess),Ss=Es({sharedParameters:Es({shouldAnalyze:ys().optional(),genericChallengeId:vs().optional()}).optional()}),Ts=Es({userId:vs(),challengeId:vs(),shouldShowRememberDeviceCheckbox:ys(),actionType:Cs(gl)}).and(Ss),Is=Es({actionType:Cs(na),dataExchangeBlob:vs(),unifiedCaptchaId:vs()}).and(Ss),As=Es({userId:vs(),sessionId:vs()}).and(Ss),ws=Es({defaultType:Cs(gi),availableTypes:ms(Cs(gi))}).and(Ss),Ns=Es({}).and(Ss),Ls=Es({}).and(Ss),Ds=Es({sessionId:vs()}).and(Ss),Os=((fs={})[Xu.TWO_STEP_VERIFICATION]=Ts,fs[Xu.CAPTCHA]=Is,fs[Xu.FORCE_AUTHENTICATOR]=Ns,fs[Xu.FORCE_TWO_STEP_VERIFICATION]=Ls,fs[Xu.SECURITY_QUESTIONS]=As,fs[Xu.REAUTHENTICATION]=ws,fs[Xu.PROOF_OF_WORK]=Ds,fs),Rs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ps=function(){return(Ps=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ms=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},ks=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},xs=function(e,t){var n,r=Object.values(Xu).includes(e)?e:null;if(null===r)return null;try{n=JSON.parse(t)}catch(e){return null}var a=Os[r].safeParse(n);return a.success?{challengeType:r,challengeMetadata:n}:(console.error(ju,a.error),null)},Vs=function(e){var t=e.challengeBaseProperties,n=e.challengeSpecificProperties;return Ms(void 0,void 0,Promise,(function(){var e,r,a,o,i,l,u,c,s,d,p,f,h,v;return ks(this,(function(y){switch(y.label){case 0:switch(!0===(null==(e=n.challengeMetadata.sharedParameters)?void 0:e.shouldAnalyze)&&(r=ai.load({monitoring:!1}),a=t.onChallengeCompleted,t.onChallengeCompleted=function(t){return Ms(void 0,void 0,void 0,(function(){var n,o;return ks(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,r];case 1:return[4,i.sent().get()];case 2:return n=i.sent(),o={},Object.entries(n.components).forEach((function(e){var t=e[0],n=e[1];"canvas"!==t&&(o[t]="object"==typeof n.value?JSON.stringify(n.value):n.value)})),N().EventStream.SendEventWithTarget(Zu,zu.onCompleted,Ps({challengeId:null==e?void 0:e.genericChallengeId,library:"FPJS",version:n.version},o),N().EventStream.TargetTypes.WWW),[3,4];case 3:return i.sent(),[3,4];case 4:return[2,a(t)]}}))}))}),n.challengeType){case Xu.CAPTCHA:return[3,1];case Xu.FORCE_AUTHENTICATOR:return[3,2];case Xu.FORCE_TWO_STEP_VERIFICATION:return[3,4];case Xu.TWO_STEP_VERIFICATION:return[3,6];case Xu.SECURITY_QUESTIONS:return[3,8];case Xu.REAUTHENTICATION:return[3,10];case Xu.PROOF_OF_WORK:return[3,12]}return[3,13];case 1:return o=n.challengeType,i=n.challengeMetadata,v=Ps(Ps(Ps({onChallengeDisplayed:function(){},appType:null},t),i),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(Ps({challengeType:o},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:o,metadata:{unifiedCaptchaId:e.captchaId,captchaToken:e.captchaToken,actionType:i.actionType}})}}),[2,La(v)];case 2:return d=n.challengeMetadata,v=Ps(Ps({forceActionRedirectChallengeType:Pa.ForceAuthenticator},t),d),[4,Xa(v)];case 3:return(p=y.sent())&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,p];case 4:return d=n.challengeMetadata,v=Ps(Ps({forceActionRedirectChallengeType:Pa.ForceTwoStepVerification},t),d),[4,Xa(v)];case 5:return(p=y.sent())&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,p];case 6:return l=n.challengeType,u=n.challengeMetadata,v=Ps(Ps(Ps({},t),u),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(Ps({challengeType:l},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:l,metadata:Ps(Ps({},e),{challengeId:u.challengeId,actionType:u.actionType})})}}),[4,Bu(v)];case 7:return(p=y.sent())&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,p];case 8:return c=n.challengeType,d=n.challengeMetadata,v=Ps(Ps(Ps({},t),d),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(Ps({challengeType:c},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:c,metadata:e})}}),[4,Wl(v)];case 9:return(p=y.sent())&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,p];case 10:return s=n.challengeType,d=n.challengeMetadata,v=Ps(Ps(Ps({},t),d),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(Ps({challengeType:s},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:s,metadata:e})}}),[4,il(v)];case 11:return(p=y.sent())&&void 0!==t.onChallengeDisplayed&&t.onChallengeDisplayed({displayed:!0}),[2,p];case 12:return f=n.challengeType,h=n.challengeMetadata,v=Ps(Ps(Ps({onChallengeDisplayed:function(){}},t),h),{onChallengeInvalidated:function(e){return t.onChallengeInvalidated(Ps({challengeType:f},e))},onChallengeCompleted:function(e){return t.onChallengeCompleted({challengeType:f,metadata:Ps(Ps({},e),{sessionId:h.sessionId})})}}),[2,xi(v)];case 13:return n,[2,!1];case 14:return[2]}}))}))},Ws=function(e){function t(n){var r=e.call(this,t.getMessage(n))||this;return Object.setPrototypeOf(r,t.prototype),r.name=t.name,r._parameters=n,r}return Rs(t,e),t.match=function(e){return e instanceof t},t.matchAbandoned=function(e){return t.match(e)&&e.parameters.kind===Ku.ABANDONED},t.getMessage=function(e){return"Got ("+["Kind: "+e.kind,"Type: "+(e.data.challengeType||"unknown"),"Code: "+(e.kind===Ku.INVALIDATED?e.data.errorCode:"null")].join("; ")+")"},Object.defineProperty(t.prototype,"parameters",{get:function(){return this._parameters},enumerable:!1,configurable:!0}),t}(Error),Us=function(e){return new Promise((function(t,n){var r,a=e.retryRequest,o=e.containerId,i=e.challengeId,l=e.challengeTypeRaw,u=e.challengeMetadataJsonBase64;try{r=atob(u)}catch(e){if(e instanceof DOMException&&e.code===DOMException.INVALID_CHARACTER_ERR)return console.error(ju,"Base-64 decoding failed",e),void n(new Ws({kind:Ku.UNKNOWN,data:{}}));throw e}var c=new Ju,s=xs(l,r);if(null===s)return console.error(ju,"Challenge headers failed to be parsed"),n(new Ws({kind:Ku.UNKNOWN,data:{}})),void c.fireParseFailureEvent();if(null===document.getElementById(o)){var d=document.createElement("div");d.id=o,document.body.appendChild(d)}Vs({challengeBaseProperties:{containerId:o,shouldDynamicallyLoadTranslationResources:!1,renderInline:!1,onChallengeCompleted:function(e){try{t(a(i,btoa(JSON.stringify(e.metadata))))}catch(e){if(!(e instanceof DOMException&&e.code===DOMException.INVALID_CHARACTER_ERR))throw e;console.error(ju,"Base-64 encoding failed",e),n(new Ws({kind:Ku.UNKNOWN,data:{challengeType:s.challengeType}}))}},onChallengeInvalidated:function(e){return n(new Ws({kind:Ku.INVALIDATED,data:e}))},onModalChallengeAbandoned:function(){return n(new Ws({kind:Ku.ABANDONED,data:{challengeType:s.challengeType}}))}},challengeSpecificProperties:s}).then((function(e){e?c.fireSuccessEvent(s.challengeType):(c.fireRenderFailureEvent(s.challengeType),console.error(ju,"Challenge component failed to initialize"),n(new Ws({kind:Ku.UNKNOWN,data:{challengeType:s.challengeType}})))}))}))},Hs="Hybrid Wrapper:";!function(e){e.CHALLENGE_COMPLETED="challengeCompleted",e.CHALLENGE_DISPLAYED="challengeDisplayed",e.CHALLENGE_INITIALIZED="challengeInitialized",e.CHALLENGE_INVALIDATED="challengeInvalidated",e.CHALLENGE_PAGE_LOADED="challengePageLoaded",e.CHALLENGE_PARSED="challengeParsed"}(hs||(hs={}));var Gs;!function(e){e.ACTION_TYPE="action-type",e.ALLOW_REMEMBER_DEVICE="allow-remember-device",e.APP_TYPE="app-type",e.CAPTCHA_ID="captcha-id",e.CHALLENGE_ID="challenge-id",e.CHALLENGE_METADATA_JSON="challenge-metadata-json",e.CHALLENGE_TYPE="challenge-type",e.DARK_MODE="dark-mode",e.DATA_EXCHANGE_BLOB="data-exchange-blob",e.GENERIC_CHALLENGE_TYPE="generic-challenge-type",e.SESSION_ID="session-id",e.USER_ID="user-id",e.DEFAULT_TYPE="default-type",e.AVAILABLE_TYPES="available-types"}(Gs||(Gs={}));var Fs=Es({challengeType:_s((function(e){return"string"==typeof e?e.replace(/-/g,""):e}),gs([Cs(Xu),bs("generic")])),darkMode:gs([bs("false"),bs("true")]).transform((function(e){return"true"===e})),appType:vs().default("unknown")}),Bs=Es({actionType:Cs(na),dataExchangeBlob:vs(),unifiedCaptchaId:vs()}),js=Es({userId:vs(),challengeId:vs(),actionType:Cs(gl),allowRememberDevice:gs([bs("false"),bs("true")]).transform((function(e){return"true"===e}))}),Zs=Es({userId:vs(),sessionId:vs()}),zs=Es({defaultType:Cs(gi),availableTypes:ms(Cs(gi))}),Ys=Es({sessionId:vs()}),qs=Es({challengeType:Cs(Xu),challengeMetadataJson:vs()}),Ks=function(){var e=w.UrlParser.getParametersAsObject(),t={challengeType:e[Gs.GENERIC_CHALLENGE_TYPE],challengeMetadataJson:e[Gs.CHALLENGE_METADATA_JSON]},n=qs.safeParse(t);if(!n.success)return console.error(Hs,n.error),null;var r=n.data,a=r.challengeType,o=function(e){var t=e.replace(/[^A-Za-z0-9-_]/g,""),n=(4-t.length%4)%4,r=(t+Array(n+1).join("=")).replace(/-/g,"+").replace(/_/g,"/");try{return atob(r)}catch(e){if(e instanceof DOMException&&e.code===DOMException.INVALID_CHARACTER_ERR)return console.error(Hs,"Base-64 decoding failed",e),null;throw e}}(r.challengeMetadataJson);return null===o?null:xs(a,o)},Xs=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((r=r.apply(e,t||[])).next())}))},Js=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Qs="light-theme",$s="dark-theme",ed=function(e,t,n){var r,a;console.log(Hs,"Sending hybrid call:",t),null===(a=w.Hybrid.Navigation)||void 0===a||a.navigateToFeature(((r={}).feature=t,r.data=n,r),(function(){return console.log(Hs,"Sent hybrid call:",t)}));var o=e[t],i=document.getElementById(o);if(null!==i&&"INPUT"===i.tagName){i.value=JSON.stringify(n);var l=document.createEvent("HTMLEvents");l.initEvent("callbackInputChanged",!1,!1),i.dispatchEvent(l)}},td=function(e,t,n){return Xs(void 0,void 0,Promise,(function(){var r,a,o,i;return Js(this,(function(l){switch(l.label){case 0:return null===(r=function(){var e=w.UrlParser.getParametersAsObject(),t={actionType:e[Gs.ACTION_TYPE],dataExchangeBlob:e[Gs.DATA_EXCHANGE_BLOB],unifiedCaptchaId:e[Gs.CAPTCHA_ID]},n=Bs.safeParse(t);return n.success?n.data:(console.error(Hs,n.error),null)}())?(ed(t,hs.CHALLENGE_PARSED,{parsed:!1}),[2,!1]):(ed(t,hs.CHALLENGE_PARSED,{parsed:!0}),a=r.actionType,o=r.dataExchangeBlob,i=r.unifiedCaptchaId,[4,La({containerId:e,actionType:a,appType:n,dataExchangeBlob:o,unifiedCaptchaId:i,renderInline:!0,shouldDynamicallyLoadTranslationResources:!0,onChallengeDisplayed:function(e){return ed(t,hs.CHALLENGE_DISPLAYED,e)},onChallengeCompleted:function(e){return ed(t,hs.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return ed(t,hs.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})]);case 1:return!1===l.sent()?(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!1}),[2,!1]):(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!0}),[2,!0])}}))}))},nd=function(e,t,n){return Xs(void 0,void 0,Promise,(function(){var r,a,o,i,l;return Js(this,(function(u){switch(u.label){case 0:return null===(r=function(){var e=w.UrlParser.getParametersAsObject(),t={userId:e[Gs.USER_ID],challengeId:e[Gs.CHALLENGE_ID],actionType:e[Gs.ACTION_TYPE],allowRememberDevice:e[Gs.ALLOW_REMEMBER_DEVICE]},n=js.safeParse(t);return n.success?n.data:(console.error(Hs,n.error),null)}())?(ed(t,hs.CHALLENGE_PARSED,{parsed:!1}),[2,!1]):(ed(t,hs.CHALLENGE_PARSED,{parsed:!0}),a=r.userId,o=r.challengeId,i=r.actionType,l=r.allowRememberDevice,[4,Bu({containerId:e,userId:a,challengeId:o,actionType:i,appType:n,renderInline:!0,shouldModifyBrowserHistory:!0,shouldShowRememberDeviceCheckbox:l,shouldDynamicallyLoadTranslationResources:!0,onChallengeCompleted:function(e){return ed(t,hs.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return ed(t,hs.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})]);case 1:return!1===u.sent()?(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!1}),[2,!1]):(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!0}),ed(t,hs.CHALLENGE_DISPLAYED,{displayed:!0}),[2,!0])}}))}))},rd=function(e,t,n){return Xs(void 0,void 0,Promise,(function(){var r,a,o;return Js(this,(function(i){switch(i.label){case 0:return null===(r=function(){var e=w.UrlParser.getParametersAsObject(),t={userId:e[Gs.USER_ID],sessionId:e[Gs.SESSION_ID]},n=Zs.safeParse(t);return n.success?n.data:(console.error(Hs,n.error),null)}())?(ed(t,hs.CHALLENGE_PARSED,{parsed:!1}),[2,!1]):(ed(t,hs.CHALLENGE_PARSED,{parsed:!0}),a=r.userId,o=r.sessionId,[4,Wl({containerId:e,userId:a,sessionId:o,appType:n,renderInline:!0,shouldDynamicallyLoadTranslationResources:!0,onChallengeCompleted:function(e){return ed(t,hs.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return ed(t,hs.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})]);case 1:return!1===i.sent()?(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!1}),[2,!1]):(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!0}),ed(t,hs.CHALLENGE_DISPLAYED,{displayed:!0}),[2,!0])}}))}))},ad=function(e,t,n){return Xs(void 0,void 0,Promise,(function(){var n,r,a;return Js(this,(function(o){switch(o.label){case 0:return null===(n=function(){var e=w.UrlParser.getParametersAsObject(),t={defaultType:e[Gs.DEFAULT_TYPE],availableTypes:e[Gs.AVAILABLE_TYPES]},n=zs.safeParse(t);return n.success?n.data:(console.error(Hs,n.error),null)}())?(ed(t,hs.CHALLENGE_PARSED,{parsed:!1}),[2,!1]):(ed(t,hs.CHALLENGE_PARSED,{parsed:!0}),r=n.defaultType,a=n.availableTypes,[4,il({containerId:e,renderInline:!0,shouldDynamicallyLoadTranslationResources:!0,defaultType:r,availableTypes:a,onChallengeCompleted:function(e){return ed(t,hs.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return ed(t,hs.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})]);case 1:return!1===o.sent()?(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!1}),[2,!1]):(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!0}),ed(t,hs.CHALLENGE_DISPLAYED,{displayed:!0}),[2,!0])}}))}))},od=function(e,t,n){return Xs(void 0,void 0,Promise,(function(){var n,r;return Js(this,(function(a){switch(a.label){case 0:return null===(n=function(){var e={sessionId:w.UrlParser.getParametersAsObject()[Gs.SESSION_ID]},t=Ys.safeParse(e);return t.success?t.data:(console.error(Hs,t.error),null)}())?(ed(t,hs.CHALLENGE_PARSED,{parsed:!1}),[2,!1]):(ed(t,hs.CHALLENGE_PARSED,{parsed:!0}),r=n.sessionId,[4,xi({containerId:e,sessionId:r,renderInline:!0,shouldDynamicallyLoadTranslationResources:!0,onChallengeDisplayed:function(e){return ed(t,hs.CHALLENGE_DISPLAYED,e)},onChallengeCompleted:function(e){return ed(t,hs.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return ed(t,hs.CHALLENGE_INVALIDATED,e)},onModalChallengeAbandoned:null})]);case 1:return!1===a.sent()?(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!1}),[2,!1]):(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!0}),[2,!0])}}))}))},id=function(e,t,n){return Xs(void 0,void 0,Promise,(function(){var r;return Js(this,(function(a){switch(a.label){case 0:return null===(r=Ks())?(ed(t,hs.CHALLENGE_PARSED,{parsed:!1}),[2,!1]):(ed(t,hs.CHALLENGE_PARSED,{parsed:!0}),[4,Vs({challengeBaseProperties:{containerId:e,renderInline:!0,shouldDynamicallyLoadTranslationResources:!0,appType:n,shouldModifyBrowserHistory:!0,onChallengeCompleted:function(e){return ed(t,hs.CHALLENGE_COMPLETED,e)},onChallengeInvalidated:function(e){return ed(t,hs.CHALLENGE_INVALIDATED,e)},onChallengeDisplayed:function(e){return ed(t,hs.CHALLENGE_DISPLAYED,e)},onModalChallengeAbandoned:null},challengeSpecificProperties:r})]);case 1:return!1===a.sent()?(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!1}),[2,!1]):(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!0}),[2,!0])}}))}))},ld=function(e,t,n){return Xs(void 0,void 0,Promise,(function(){return Js(this,(function(n){switch(n.label){case 0:return ed(t,hs.CHALLENGE_PARSED,{parsed:!0}),[4,Xa({containerId:e,forceActionRedirectChallengeType:Pa.ForceAuthenticator,renderInline:!0,shouldDynamicallyLoadTranslationResources:!0,onModalChallengeAbandoned:null})];case 1:return!1===n.sent()?(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!1}),[2,!1]):(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!0}),ed(t,hs.CHALLENGE_DISPLAYED,{displayed:!0}),[2,!0])}}))}))},ud=function(e,t,n){return Xs(void 0,void 0,Promise,(function(){return Js(this,(function(n){switch(n.label){case 0:return ed(t,hs.CHALLENGE_PARSED,{parsed:!0}),[4,Xa({containerId:e,forceActionRedirectChallengeType:Pa.ForceTwoStepVerification,renderInline:!0,shouldDynamicallyLoadTranslationResources:!0,onModalChallengeAbandoned:null})];case 1:return!1===n.sent()?(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!1}),[2,!1]):(ed(t,hs.CHALLENGE_INITIALIZED,{initialized:!0}),ed(t,hs.CHALLENGE_DISPLAYED,{displayed:!0}),[2,!0])}}))}))},cd=function(e){var t=e.containerId,n=e.hybridTargetToCallbackInputId;return Xs(void 0,void 0,void 0,(function(){var e;return Js(this,(function(r){var a,o,i;if(ed(n,hs.CHALLENGE_PAGE_LOADED,{pageLoaded:!0}),a=w.UrlParser.getParametersAsObject(),o={challengeType:a[Gs.CHALLENGE_TYPE],darkMode:a[Gs.DARK_MODE],appType:a[Gs.APP_TYPE]},i=Fs.safeParse(o),null===(e=i.success?i.data:(console.error(Hs,i.error),null)))return ed(n,hs.CHALLENGE_PARSED,{parsed:!1}),[2,!1];switch(e.darkMode?(document.body.classList.remove(Qs),document.body.classList.add($s)):(document.body.classList.remove($s),document.body.classList.add(Qs)),e.challengeType){case Xu.CAPTCHA:return[2,td(t,n,e.appType)];case Xu.FORCE_AUTHENTICATOR:return[2,ld(t,n,e.appType)];case Xu.FORCE_TWO_STEP_VERIFICATION:return[2,ud(t,n,e.appType)];case Xu.TWO_STEP_VERIFICATION:return[2,nd(t,n,e.appType)];case Xu.SECURITY_QUESTIONS:return[2,rd(t,n,e.appType)];case Xu.REAUTHENTICATION:return[2,ad(t,n,e.appType)];case Xu.PROOF_OF_WORK:return[2,od(t,n,e.appType)];case"generic":return[2,id(t,n,e.appType)];default:return e.challengeType,[2,!1]}return[2]}))}))},sd={Captcha:g,ForceActionRedirect:b,Generic:I,HybridWrapper:A,ProofOfWork:C,Reauthentication:_,SecurityQuestions:S,TwoStepVerification:T};Object.assign(N(),{AccountIntegrityChallengeService:sd})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/c6c0b9c248a73962b26590534c34a2a0-challenge.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Challenge");